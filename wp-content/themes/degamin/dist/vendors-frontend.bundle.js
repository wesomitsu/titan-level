(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(t,e,r){"use strict";var i,n,s,a,o,l,u,h,c,p,d=r(2),f={},m=180/Math.PI,g=Math.PI/180,y=Math.atan2,v=/([A-Z])/g,_=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,b=/(?:left|right|width|margin|padding|x)/i,T=/[\s,\(]\S/,S={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},E=function(t,e){return e.set(e.t,e.p,~~(1e3*(e.s+e.c*t))/1e3+e.u,e)},w=function(t,e){return e.set(e.t,e.p,1===t?e.e:~~(1e3*(e.s+e.c*t))/1e3+e.u,e)},k=function(t,e){return e.set(e.t,e.p,t?~~(1e3*(e.s+e.c*t))/1e3+e.u:e.b,e)},x=function(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)},C=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},A=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},P=function(t,e,r){return t.style[e]=r},D=function(t,e,r){return t.style.setProperty(e,r)},I=function(t,e,r){return t._gsap[e]=r},M=function(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r},O=function(t,e,r,i,n){var s=t._gsap;s.scaleX=s.scaleY=r,s.renderTransform(n,s)},L=function(t,e,r,i,n){var s=t._gsap;s[e]=r,s.renderTransform(n,s)},R="transform",N=R+"Origin",B=function(t,e){var r=n.createElementNS?n.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):n.createElement(t);return r.style?r:n.createElement(t)},F=function t(e,r,i){var n=getComputedStyle(e);return n[r]||n.getPropertyValue(r.replace(v,"-$1").toLowerCase())||n.getPropertyValue(r)||!i&&t(e,j(r)||r,1)||""},U="O,Moz,ms,Ms,Webkit".split(","),j=function(t,e){var r=(e||o).style,i=5;if(t in r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(U[i]+t in r););return i<0?null:(3===i?"ms":i>=0?U[i]:"")+t},V=function(){"undefined"!=typeof window&&(i=window,n=i.document,s=n.documentElement,o=B("div")||{style:{}},l=B("div"),R=j(R),N=j(N),o.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",h=!!j("perspective"),a=1)},q=function t(e){var r,i=B("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(s.appendChild(i),i.appendChild(this),this.style.display="block",e)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(r=this._gsapBBox());return a?n.insertBefore(this,a):n.appendChild(this),s.removeChild(i),this.style.cssText=o,r},H=function(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])},z=function(t){var e;try{e=t.getBBox()}catch(r){e=q.call(t,!0)}return!e||e.width||e.x||e.y?e:{x:+H(t,["x","cx","x1"])||0,y:+H(t,["y","cy","y1"])||0,width:0,height:0}},G=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!z(t))},W=function(t,e){if(e){var r=t.style;e in f&&(e=R),r.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty(e.replace(v,"-$1").toLowerCase())):r.removeAttribute(e)}},Y=function(t,e,r,i,n,s){var a=new d.b(t._pt,e,r,0,1,s?A:C);return t._pt=a,a.b=i,a.e=n,t._props.push(r),a},X={deg:1,rad:1,turn:1},K=function(t,e,r,i){var s,a,l,u,h=parseFloat(r),c=(r+"").substr((h+"").length)||"px",p=o.style,m=b.test(e),g="svg"===t.tagName.toLowerCase(),y=(g?"client":"offset")+(m?"Width":"Height"),v="px"===i;return i===c||X[i]||X[c]?h:(u=t.getCTM&&G(t),"%"===i&&f[e]?Object(d.r)(h/(u?t.getBBox()[m?"width":"height"]:t[y])*100):(p[m?"width":"height"]=100+(v?c:i),a="em"===i&&t.appendChild&&!g?t:t.parentNode,u&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==n&&a.appendChild||(a=n.body),(l=a._gsap)&&"%"===i&&l.width&&m&&l.time===d.t.time?Object(d.r)(h/l.width*100):(a.appendChild(o),s=o[y],a.removeChild(o),m&&"%"===i&&((l=Object(d.g)(a)).time=d.t.time,l.width=a[y]),Object(d.r)(v?s*h/100:100/s*h))))},$=function(t,e,r,i){var n;return a||V(),e in S&&"transform"!==e&&~(e=S[e]).indexOf(",")&&(e=e.split(",")[0]),f[e]&&"transform"!==e?(n=ot(t,i),n="transformOrigin"!==e?n[e]:lt(F(t,N))+n.zOrigin+"px"):(!(n=t.style[e])||"auto"===n||i||~n.indexOf("calc("))&&(n=F(t,e)||Object(d.h)(t,e)||("opacity"===e?1:0)),r?K(t,e,n,r)+r:n},Q=function(t,e,r,i){var n,s,a,o,l,u,h,c,p,f,m,g,y=new d.b(this._pt,t.style,e,0,1,d.p),v=0,b=0;if(y.b=r,y.e=i,r+="","auto"==(i+="")&&(t.style[e]=i,i=F(t,e)||i,t.style[e]=r),n=[r,i],Object(d.d)(n),i=n[1],!!(u=(r=n[0]).indexOf("rgba("))!=!!(h=i.indexOf("rgba("))&&(u?r=r.substr(u)+" "+r.substr(0,u-1):i=i.substr(h)+" "+i.substr(0,h-1)),a=r.match(_)||[],(i.match(_)||[]).length){for(;s=_.exec(i);)h=s[0],p=i.substring(v,s.index),l?l=(l+1)%5:"rgba("===p.substr(-5)&&(l=1),h!==(u=a[b++]||"")&&(o=parseFloat(u)||0,m=u.substr((o+"").length),(g="="===h.charAt(1)?+(h.charAt(0)+"1"):0)&&(h=h.substr(2)),c=parseFloat(h),f=h.substr((c+"").length),v=_.lastIndex-f.length,f||(f=f||d.e.units[e]||m,v===i.length&&(i+=f,y.e+=f)),m!==f&&(o=K(t,e,u,f)||0),y._pt={_next:y._pt,p:p||1===b?p:",",s:o,c:g?g*c:c-o,m:l&&l<4?Math.round:0});y.c=v<i.length?i.substring(v,i.length):""}else y.r="display"===e&&"none"===i?A:C;return d.o.test(i)&&(y.e=0),this._pt=y,y},J={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Z=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,i,n,s=e.t,a=s.style,o=e.u;if("all"===o||!0===o)a.cssText="",i=1;else for(n=(o=o.split(",")).length;--n>-1;)r=o[n],f[r]&&(i=1,r="transformOrigin"===r?N:R),W(s,r);i&&(W(s,R),(i=s._gsap)&&(i.svg&&s.removeAttribute("transform"),ot(s,1)))}},tt={clearProps:function(t,e,r,i,n){if("isFromStart"!==n.data){var s=t._pt=new d.b(t._pt,e,r,0,0,Z);return s.u=i,s.pr=-10,s.tween=n,t._props.push(r),1}}},et=[1,0,0,1,0,0],rt={},it=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},nt=function(t){var e=F(t,R);return it(e)?et:e.substr(7).match(d.m).map(d.r)},st=function(t,e){var r,i,n,a,o=t._gsap,l=t.style,u=nt(t);return o.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(n=t.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?et:u:(u!==et||t.offsetParent||t===s||o.svg||(n=l.display,l.display="block",(r=t.parentNode)&&t.offsetParent||(a=1,i=t.nextSibling,s.appendChild(t)),u=nt(t),n?l.display=n:W(t,"display"),a&&(i?r.insertBefore(t,i):r?r.appendChild(t):s.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},at=function(t,e,r,i,n,s){var a,o,l,u=t._gsap,h=n||st(t,!0),c=u.xOrigin||0,p=u.yOrigin||0,d=u.xOffset||0,f=u.yOffset||0,m=h[0],g=h[1],y=h[2],v=h[3],_=h[4],b=h[5],T=e.split(" "),S=parseFloat(T[0])||0,E=parseFloat(T[1])||0;r?h!==et&&(o=m*v-g*y)&&(l=S*(-g/o)+E*(m/o)-(m*b-g*_)/o,S=S*(v/o)+E*(-y/o)+(y*b-v*_)/o,E=l):(S=(a=z(t)).x+(~T[0].indexOf("%")?S/100*a.width:S),E=a.y+(~(T[1]||T[0]).indexOf("%")?E/100*a.height:E)),i||!1!==i&&u.smooth?(_=S-c,b=E-p,u.xOffset=d+(_*m+b*y)-_,u.yOffset=f+(_*g+b*v)-b):u.xOffset=u.yOffset=0,u.xOrigin=S,u.yOrigin=E,u.smooth=!!i,u.origin=e,u.originIsAbsolute=!!r,t.style[N]="0px 0px",s&&(Y(s,u,"xOrigin",c,S),Y(s,u,"yOrigin",p,E),Y(s,u,"xOffset",d,u.xOffset),Y(s,u,"yOffset",f,u.yOffset))},ot=function(t,e){var r=t._gsap||new d.a(t);if("x"in r&&!e&&!r.uncache)return r;var i,n,s,a,o,l,u,c,p,f,g,v,_,b,T,S,E,w,k,x,C,A,P,D,I,M,O,L,B,U,j=t.style,V=r.scaleX<0,q=r.xOrigin||0,H=r.yOrigin||0,z=F(t,N)||"0";return i=n=s=l=u=c=p=f=g=0,a=o=1,r.svg=!(!t.getCTM||!G(t)),v=st(t,r.svg),r.svg&&at(t,z,r.originIsAbsolute,!1!==r.smooth,v),v!==et&&(S=v[0],E=v[1],w=v[2],k=v[3],i=x=v[4],n=C=v[5],6===v.length?(a=Math.sqrt(S*S+E*E),o=Math.sqrt(k*k+w*w),l=S||E?y(E,S)*m:0,p=w||k?y(w,k)*m+l:0,r.svg&&(i-=q-(q*S+H*w),n-=H-(q*E+H*k))):(U=v[6],L=v[7],I=v[8],M=v[9],O=v[10],B=v[11],i=v[12],n=v[13],s=v[14],u=(_=y(U,O))*m,_&&(A=x*(b=Math.cos(-_))+I*(T=Math.sin(-_)),P=C*b+M*T,D=U*b+O*T,I=x*-T+I*b,M=C*-T+M*b,O=U*-T+O*b,B=L*-T+B*b,x=A,C=P,U=D),c=(_=y(-w,O))*m,_&&(b=Math.cos(-_),B=k*(T=Math.sin(-_))+B*b,S=A=S*b-I*T,E=P=E*b-M*T,w=D=w*b-O*T),l=(_=y(E,S))*m,_&&(A=S*(b=Math.cos(_))+E*(T=Math.sin(_)),P=x*b+C*T,E=E*b-S*T,C=C*b-x*T,S=A,x=P),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,c=180-c),a=Object(d.r)(Math.sqrt(S*S+E*E+w*w)),o=Object(d.r)(Math.sqrt(C*C+U*U)),_=y(x,C),p=Math.abs(_)>2e-4?_*m:0,g=B?1/(B<0?-B:B):0),r.svg&&(v=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!it(F(t,R)),v&&t.setAttribute("transform",v))),Math.abs(p)>90&&Math.abs(p)<270&&(V?(a*=-1,p+=l<=0?180:-180,l+=l<=0?180:-180):(o*=-1,p+=p<=0?180:-180)),r.x=((r.xPercent=i&&Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)?0:i)+"px",r.y=((r.yPercent=n&&Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)?0:n)+"px",r.z=s+"px",r.scaleX=Object(d.r)(a),r.scaleY=Object(d.r)(o),r.rotation=Object(d.r)(l)+"deg",r.rotationX=Object(d.r)(u)+"deg",r.rotationY=Object(d.r)(c)+"deg",r.skewX=p+"deg",r.skewY=f+"deg",r.transformPerspective=g+"px",(r.zOrigin=parseFloat(z.split(" ")[2])||0)&&(j[N]=lt(z)),r.xOffset=r.yOffset=0,r.force3D=d.e.force3D,r.renderTransform=r.svg?pt:h?ct:ht,r.uncache=0,r},lt=function(t){return(t=t.split(" "))[0]+" "+t[1]},ut=function(t,e,r){var i=Object(d.v)(e);return Object(d.r)(parseFloat(e)+parseFloat(K(t,"x",r+"px",i)))+i},ht=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ct(t,e)},ct=function(t,e){var r=e||this,i=r.xPercent,n=r.yPercent,s=r.x,a=r.y,o=r.z,l=r.rotation,u=r.rotationY,h=r.rotationX,c=r.skewX,p=r.skewY,d=r.scaleX,f=r.scaleY,m=r.transformPerspective,y=r.force3D,v=r.target,_=r.zOrigin,b="",T="auto"===y&&t&&1!==t||!0===y;if(_&&("0deg"!==h||"0deg"!==u)){var S,E=parseFloat(u)*g,w=Math.sin(E),k=Math.cos(E);E=parseFloat(h)*g,S=Math.cos(E),s=ut(v,s,w*S*-_),a=ut(v,a,-Math.sin(E)*-_),o=ut(v,o,k*S*-_+_)}(i||n)&&(b="translate("+i+"%, "+n+"%) "),(T||"0px"!==s||"0px"!==a||"0px"!==o)&&(b+="0px"!==o||T?"translate3d("+s+", "+a+", "+o+") ":"translate("+s+", "+a+") "),"0px"!==m&&(b+="perspective("+m+") "),"0deg"!==l&&(b+="rotate("+l+") "),"0deg"!==u&&(b+="rotateY("+u+") "),"0deg"!==h&&(b+="rotateX("+h+") "),"0deg"===c&&"0deg"===p||(b+="skew("+c+", "+p+") "),1===d&&1===f||(b+="scale("+d+", "+f+") "),v.style[R]=b||"translate(0, 0)"},pt=function(t,e){var r,i,n,s,a,o=e||this,l=o.xPercent,u=o.yPercent,h=o.x,c=o.y,p=o.rotation,f=o.skewX,m=o.skewY,y=o.scaleX,v=o.scaleY,_=o.target,b=o.xOrigin,T=o.yOrigin,S=o.xOffset,E=o.yOffset,w=o.forceCSS,k=parseFloat(h),x=parseFloat(c);p=parseFloat(p),f=parseFloat(f),(m=parseFloat(m))&&(f+=m=parseFloat(m),p+=m),p||f?(p*=g,f*=g,r=Math.cos(p)*y,i=Math.sin(p)*y,n=Math.sin(p-f)*-v,s=Math.cos(p-f)*v,f&&(m*=g,a=Math.tan(f-m),n*=a=Math.sqrt(1+a*a),s*=a,m&&(a=Math.tan(m),r*=a=Math.sqrt(1+a*a),i*=a)),r=Object(d.r)(r),i=Object(d.r)(i),n=Object(d.r)(n),s=Object(d.r)(s)):(r=y,s=v,i=n=0),(k&&!~(h+"").indexOf("px")||x&&!~(c+"").indexOf("px"))&&(k=K(_,"x",h,"px"),x=K(_,"y",c,"px")),(b||T||S||E)&&(k=Object(d.r)(k+b-(b*r+T*n)+S),x=Object(d.r)(x+T-(b*i+T*s)+E)),(l||u)&&(a=_.getBBox(),k=Object(d.r)(k+l/100*a.width),x=Object(d.r)(x+u/100*a.height)),a="matrix("+r+","+i+","+n+","+s+","+k+","+x+")",_.setAttribute("transform",a),w&&(_.style[R]=a)},dt=function(t,e,r,i,n,s){var a,o,l=Object(d.j)(n),u=parseFloat(n)*(l&&~n.indexOf("rad")?m:1),h=s?u*s:u-i,c=i+h+"deg";return l&&("short"===(a=n.split("_")[1])&&(h%=360)!=h%180&&(h+=h<0?360:-360),"cw"===a&&h<0?h=(h+36e9)%360-360*~~(h/360):"ccw"===a&&h>0&&(h=(h-36e9)%360-360*~~(h/360))),t._pt=o=new d.b(t._pt,e,r,i,h,w),o.e=c,o.u="deg",t._props.push(r),o},ft=function(t,e,r){var i,s,a,o,u,h,c,p=l.style,m=r._gsap;for(s in p.cssText=getComputedStyle(r).cssText+";position:absolute;display:block;",p[R]=e,n.body.appendChild(l),i=ot(l,1),f)(a=m[s])!==(o=i[s])&&"perspective"!==s&&(u=Object(d.v)(a)!==(c=Object(d.v)(o))?K(r,s,a,c):parseFloat(a),h=parseFloat(o),t._pt=new d.b(t._pt,m,s,u,h-u,E),t._pt.u=c,t._props.push(s));n.body.removeChild(l)},mt={name:"css",register:V,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,i,n){var s,o,l,u,h,c,p,m,g,y,v,_,b,w,C,A,P,D,I,M=this._props,O=t.style;for(p in a||V(),e)if("autoRound"!==p&&(o=e[p],!d.n[p]||!Object(d.c)(p,e,r,i,t,n)))if(c=tt[p],"function"==(h=typeof o)&&(h=typeof(o=o.call(r,i,t,n))),"string"===h&&~o.indexOf("random(")&&(o=Object(d.q)(o)),c)c(this,t,p,o,r)&&(C=1);else if("--"===p.substr(0,2))this.add(O,"setProperty",getComputedStyle(t).getPropertyValue(p)+"",o+"",i,n,0,0,p);else{if(s=$(t,p),u=parseFloat(s),(y="string"===h&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),l=parseFloat(o),p in S&&("autoAlpha"===p&&(1===u&&"hidden"===$(t,"visibility")&&l&&(u=0),Y(this,O,"visibility",u?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==p&&"transform"!==p&&~(p=S[p]).indexOf(",")&&(p=p.split(",")[0])),v=p in f)if(_||(b=t._gsap,w=!1!==e.smoothOrigin&&b.smooth,(_=this._pt=new d.b(this._pt,O,R,0,1,b.renderTransform,b,0,-1)).dep=1),"scale"===p)this._pt=new d.b(this._pt,b,"scaleY",b.scaleY,y?y*l:l-b.scaleY),M.push("scaleY",p),p+="X";else{if("transformOrigin"===p){P=void 0,D=void 0,I=void 0,D=(P=(A=o).split(" "))[0],I=P[1]||"50%","top"!==D&&"bottom"!==D&&"left"!==I&&"right"!==I||(A=D,D=I,I=A),P[0]=J[D]||D,P[1]=J[I]||I,o=P.join(" "),b.svg?at(t,o,0,w,0,this):((g=parseFloat(o.split(" ")[2]))!==b.zOrigin&&Y(this,b,"zOrigin",b.zOrigin,g),Y(this,O,p,lt(s),lt(o)));continue}if("svgOrigin"===p){at(t,o,1,w,0,this);continue}if(p in rt){dt(this,b,p,u,o,y);continue}if("smoothOrigin"===p){Y(this,b,"smooth",b.smooth,o);continue}if("force3D"===p){b[p]=o;continue}if("transform"===p){ft(this,o,t);continue}}else p in O||(p=j(p)||p);if(v||(l||0===l)&&(u||0===u)&&!T.test(o)&&p in O)(m=(s+"").substr((u+"").length))!==(g=(o+"").substr((l+"").length)||(p in d.e.units?d.e.units[p]:m))&&(u=K(t,p,s,g)),this._pt=new d.b(this._pt,v?b:O,p,u,y?y*l:l-u,"px"!==g||!1===e.autoRound||v?E:x),this._pt.u=g||0,m!==g&&(this._pt.b=s,this._pt.r=k);else if(p in O)Q.call(this,t,p,s,o);else{if(!(p in t)){Object(d.l)(p,o);continue}this.add(t,p,t[p],o,i,n)}M.push(p)}C&&Object(d.s)(this)},get:$,aliases:S,getSetter:function(t,e,r){return e in f&&e!==N&&(t._gsap.x||$(t,"x"))?r&&u===r?"scale"===e?M:I:(u=r||{})&&("scale"===e?O:L):t.style&&!Object(d.k)(t.style[e])?P:~e.indexOf("-")?D:Object(d.i)(t,e)}};d.w.utils.checkPrefix=j,c="rotation,rotationX,rotationY,skewX,skewY",p=Object(d.f)("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+c+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){f[t]=1})),Object(d.f)(c,(function(t){d.e.units[t]="deg",rt[t]=1})),S[p[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+c,Object(d.f)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");S[e[1]]=p[e[0]]})),Object(d.f)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){d.e.units[t]="px"})),d.w.registerPlugin(mt),r.d(e,"a",(function(){return gt}));var gt=d.w.registerPlugin(mt)||d.w},function(t,e,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,r(16))},function(t,e,r){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}r.d(e,"a",(function(){return we})),r.d(e,"b",(function(){return Ke})),r.d(e,"w",(function(){return Ze})),r.d(e,"u",(function(){return Ze})),r.d(e,"v",(function(){return zt})),r.d(e,"h",(function(){return gt})),r.d(e,"m",(function(){return X})),r.d(e,"j",(function(){return F})),r.d(e,"k",(function(){return V})),r.d(e,"p",(function(){return He})),r.d(e,"o",(function(){return Q})),r.d(e,"f",(function(){return yt})),r.d(e,"s",(function(){return Xe})),r.d(e,"d",(function(){return ce})),r.d(e,"q",(function(){return Zt})),r.d(e,"c",(function(){return De})),r.d(e,"n",(function(){return ut})),r.d(e,"t",(function(){return pe})),r.d(e,"e",(function(){return P})),r.d(e,"r",(function(){return vt})),r.d(e,"l",(function(){return rt})),r.d(e,"i",(function(){return je})),r.d(e,"g",(function(){return mt}));var s,a,o,l,u,h,c,p,d,f,m,g,y,v,_,b,T,S,E,w,k,x,C,A,P={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},D={duration:.5,overwrite:!1,delay:0},I=1e-8,M=2*Math.PI,O=M/4,L=0,R=Math.sqrt,N=Math.cos,B=Math.sin,F=function(t){return"string"==typeof t},U=function(t){return"function"==typeof t},j=function(t){return"number"==typeof t},V=function(t){return void 0===t},q=function(t){return"object"==typeof t},H=function(t){return!1!==t},z=function(){return"undefined"!=typeof window},G=function(t){return U(t)||F(t)},W=Array.isArray,Y=/(?:-?\.?\d|\.)+/gi,X=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,K=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,$=/\(([^()]+)\)/i,Q=/[\+-]=-?[\.\d]+/,J=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,Z={},tt={},et=function(t){return(tt=Ct(t,Z))&&Ze},rt=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},it=function(t,e){return!e&&console.warn(t)},nt=function(t,e){return t&&(Z[t]=e)&&tt&&(tt[t]=e)||Z},st=function(){return 0},at={},ot=[],lt={},ut={},ht={},ct=30,pt=[],dt="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",ft=function(t){var e,r,i=t[0];if(q(i)||U(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(r=pt.length;r--&&!pt[r].targetTest(i););e=pt[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new we(t[r],e)))||t.splice(r,1);return t},mt=function(t){return t._gsap||ft(Yt(t))[0]._gsap},gt=function(t,e){var r=t[e];return U(r)?t[e]():V(r)&&t.getAttribute(e)||r},yt=function(t,e){return(t=t.split(",")).forEach(e)||t},vt=function(t){return Math.round(1e4*t)/1e4},_t=function(t,e){for(var r=e.length,i=0;t.indexOf(e[i])<0&&++i<r;);return i<r},bt=function(t,e,r){var i,n=j(t[1]),s=(n?2:1)+(e<2?0:1),a=t[s];return n&&(a.duration=t[1]),1===e?(a.runBackwards=1,a.immediateRender=H(a.immediateRender)):2===e&&(i=t[s-1],a.startAt=i,a.immediateRender=H(a.immediateRender)),a.parent=r,a},Tt=function(){var t,e,r=ot.length,i=ot.slice(0);for(lt={},ot.length=0,t=0;t<r;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},St=function(t,e,r,i){ot.length&&Tt(),t.render(e,r,i),ot.length&&Tt()},Et=function(t){var e=parseFloat(t);return e||0===e?e:t},wt=function(t){return t},kt=function(t,e){for(var r in e)r in t||(t[r]=e[r]);return t},xt=function(t,e){for(var r in e)r in t||"duration"===r||"ease"===r||(t[r]=e[r])},Ct=function(t,e){for(var r in e)t[r]=e[r];return t},At=function t(e,r){for(var i in r)e[i]=q(r[i])?t(e[i]||(e[i]={}),r[i]):r[i];return e},Pt=function(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i},Dt=function(t,e,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var n=e._prev,s=e._next;n?n._next=s:t[r]===e&&(t[r]=s),s?s._prev=n:t[i]===e&&(t[i]=n),e._dp=t,e._next=e._prev=e.parent=null},It=function(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0},Mt=function(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t},Ot=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Lt=function(t){return t._repeat?Rt(t._tTime,t=t.duration()+t._rDelay)*t:0},Rt=function(t,e){return(t/=e)&&~~t===t?~~t-1:~~t},Nt=function(t,e){return e._ts>0?(t-e._start)*e._ts:(e._dirty?e.totalDuration():e._tDur)+(t-e._start)*e._ts},Bt=function(t,e,r){if(e.parent&&It(e),e._start=r+e._delay,e._end=e._start+(e.totalDuration()/e._ts||0),function(t,e,r,i,n){void 0===r&&(r="_first"),void 0===i&&(i="_last");var s,a=t[i];if(n)for(s=e[n];a&&a[n]>s;)a=a._prev;a?(e._next=a._next,a._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[i]=e,e._prev=a,e.parent=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,e._time||!e._dur&&e._initted){var i=(t.rawTime()-e._start)*e._ts;(!e._dur||Ht(0,e.totalDuration(),i)-e._tTime>I)&&e.render(i,!0)}if(Mt(t),t._dp&&t._time>=t._dur&&t._ts&&t._dur<t.duration())for(var n=t;n._dp;)n.totalTime(n._tTime,!0),n=n._dp;return t},Ft=function(t,e,r,i){return Ie(t,e),t._initted?!r&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)?(ot.push(t),t._lazy=[e,i],1):void 0:1},Ut=function(t){if(t instanceof xe)return Mt(t);var e=t._repeat;return t._tDur=e?e<0?1e20:vt(t._dur*(e+1)+t._rDelay*e):t._dur,Mt(t.parent),t},jt={_start:0,endTime:st},Vt=function t(e,r,i){var n,s,a=e.labels,o=e._recent||jt,l=e.duration()>=1e8?o.endTime(!1):e._dur;return F(r)&&(isNaN(r)||r in a)?"<"===(n=r.charAt(0))||">"===n?("<"===n?o._start:o.endTime(o._repeat>=0))+(parseFloat(r.substr(1))||0):(n=r.indexOf("="))<0?(r in a||(a[r]=l),a[r]):(s=+(r.charAt(n-1)+r.substr(n+1)),n>1?t(e,r.substr(0,n-1))+s:l+s):null==r?l:+r},qt=function(t,e){return t||0===t?e(t):e},Ht=function(t,e,r){return r<t?t:r>e?e:r},zt=function(t){return(t+"").substr((parseFloat(t)+"").length)},Gt=[].slice,Wt=function(t){return t&&q(t)&&"length"in t&&t.length-1 in t&&q(t[0])&&!t.nodeType&&t!==a},Yt=function(t,e){return!F(t)||e||!o&&de()?W(t)?function(t,e,r){return void 0===r&&(r=[]),t.forEach((function(t){var i;return F(t)&&!e||Wt(t)?(i=r).push.apply(i,Yt(t)):r.push(t)}))||r}(t,e):Wt(t)?Gt.call(t,0):t?[t]:[]:Gt.call(l.querySelectorAll(t),0)},Xt=function(t){if(U(t))return t;var e=q(t)?t:{each:t},r=_e(e.ease),i=e.from||0,n=parseFloat(e.base)||0,s={},a=i>0&&i<1,o=isNaN(i)||a,l=e.axis,u=i,h=i;return F(i)?u=h={center:.5,edges:.5,end:1}[i]||0:!a&&o&&(u=i[0],h=i[1]),function(t,a,c){var p,d,f,m,g,y,v,_,b,T=(c||e).length,S=s[T];if(!S){if(!(b="auto"===e.grid?0:(e.grid||[1,1e8])[1])){for(v=-1e8;v<(v=c[b++].getBoundingClientRect().left)&&b<T;);b--}for(S=s[T]=[],p=o?Math.min(b,T)*u-.5:i%b,d=o?T*h/b-.5:i/b|0,v=0,_=1e8,y=0;y<T;y++)f=y%b-p,m=d-(y/b|0),S[y]=g=l?Math.abs("y"===l?m:f):R(f*f+m*m),g>v&&(v=g),g<_&&(_=g);S.max=v-_,S.min=_,S.v=T=(parseFloat(e.amount)||parseFloat(e.each)*(b>T?T-1:l?"y"===l?T/b:b:Math.max(b,T/b))||0)*("edges"===i?-1:1),S.b=T<0?n-T:n,S.u=zt(e.amount||e.each)||0,r=r&&T<0?ve(r):r}return T=(S[t]-S.min)/S.max||0,vt(S.b+(r?r(T):T)*S.v)+S.u}},Kt=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(r){return~~(Math.round(parseFloat(r)/t)*t*e)/e+(j(r)?0:zt(r))}},$t=function(t,e){var r,i,n=W(t);return!n&&q(t)&&(r=n=t.radius||1e8,t=Yt(t.values),(i=!j(t[0]))&&(r*=r)),qt(e,n?function(e){for(var n,s,a=parseFloat(i?e.x:e),o=parseFloat(i?e.y:0),l=1e8,u=0,h=t.length;h--;)(n=i?(n=t[h].x-a)*n+(s=t[h].y-o)*s:Math.abs(t[h]-a))<l&&(l=n,u=h);return u=!r||l<=r?t[u]:e,i||u===e||j(e)?u:u+zt(e)}:Kt(t))},Qt=function(t,e,r,i){return qt(W(t)?!e:!0===r?!!(r=0):!i,(function(){return W(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&~~(Math.round((t+Math.random()*(e-t))/r)*r*i)/i}))},Jt=function(t,e,r){return qt(r,(function(r){return t[~~e(r)]}))},Zt=function(t){for(var e,r,i,n,s=0,a="";~(e=t.indexOf("random(",s));)i=t.indexOf(")",e),n="["===t.charAt(e+7),r=t.substr(e+7,i-e-7).match(n?J:Y),a+=t.substr(s,e-s)+Qt(n?r:+r[0],+r[1],+r[2]||1e-5),s=i+1;return a+t.substr(s,t.length-s)},te=function(t,e,r,i,n){var s=e-t,a=i-r;return qt(n,(function(e){return r+(e-t)/s*a}))},ee=function(t,e,r){var i,n,s,a=t.labels,o=1e8;for(i in a)(n=a[i]-e)<0==!!r&&n&&o>(n=Math.abs(n))&&(s=i,o=n);return s},re=function(t,e,r){var i,n,s=t.vars,a=s[e];if(a)return i=s[e+"Params"],n=s.callbackScope||t,r&&ot.length&&Tt(),i?a.apply(n,i):a.call(n)},ie=function(t){return It(t),t.progress()<1&&re(t,"onInterrupt"),t},ne=function(t){var e=(t=!t.name&&t.default||t).name,r=U(t),i=e&&!r&&t.init?function(){this._props=[]}:t,n={init:st,render:ze,add:Pe,kill:We,modifier:Ge,rawVars:0},s={targetTest:0,get:0,getSetter:je,aliases:{},register:0};if(de(),t!==i){if(ut[e])return;kt(i,kt(Pt(t,n),s)),Ct(i.prototype,Ct(n,Pt(t,s))),ut[i.prop=e]=i,t.targetTest&&(pt.push(i),at[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}nt(e,i),t.register&&t.register(Ze,i,Ke)},se={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ae=function(t,e,r){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)+.5|0},oe=function(t,e){var r,i,n,s,a,o,l,u,h,c,p=t?j(t)?[t>>16,t>>8&255,255&t]:0:se.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),se[t])p=se[t];else if("#"===t.charAt(0))4===t.length&&(r=t.charAt(1),i=t.charAt(2),n=t.charAt(3),t="#"+r+r+i+i+n+n),p=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(p=c=t.match(Y),e){if(~t.indexOf("="))return t.match(X)}else s=+p[0]%360/360,a=+p[1]/100,r=2*(o=+p[2]/100)-(i=o<=.5?o*(a+1):o+a-o*a),p.length>3&&(p[3]*=1),p[0]=ae(s+1/3,r,i),p[1]=ae(s,r,i),p[2]=ae(s-1/3,r,i);else p=t.match(Y)||se.transparent;p=p.map(Number)}return e&&!c&&(r=p[0]/255,i=p[1]/255,n=p[2]/255,o=((l=Math.max(r,i,n))+(u=Math.min(r,i,n)))/2,l===u?s=a=0:(h=l-u,a=o>.5?h/(2-l-u):h/(l+u),s=l===r?(i-n)/h+(i<n?6:0):l===i?(n-r)/h+2:(r-i)/h+4,s*=60),p[0]=s+.5|0,p[1]=100*a+.5|0,p[2]=100*o+.5|0),p},le=function(t,e){var r,i,n,s=(t+"").match(ue),a=0,o="";if(!s)return t;for(r=0;r<s.length;r++)i=s[r],a+=(n=t.substr(a,t.indexOf(i,a)-a)).length+i.length,3===(i=oe(i,e)).length&&i.push(1),o+=n+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return o+t.substr(a)},ue=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in se)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),he=/hsl[a]?\(/,ce=function(t){var e,r=t.join(" ");ue.lastIndex=0,ue.test(r)&&(e=he.test(r),t[0]=le(t[0],e),t[1]=le(t[1],e))},pe=(g=Date.now,y=500,v=33,_=g(),b=_,S=T=1/60,w=function t(e){var r,i,n=g()-b,s=!0===e;n>y&&(_+=n-v),b+=n,m.time=(b-_)/1e3,((r=m.time-S)>0||s)&&(m.frame++,S+=r+(r>=T?.004:T-r),i=1),s||(p=d(t)),i&&E.forEach((function(t){return t(m.time,n,m.frame,e)}))},m={time:0,frame:0,tick:function(){w(!0)},wake:function(){u&&(!o&&z()&&(a=o=window,l=a.document||{},Z.gsap=Ze,(a.gsapVersions||(a.gsapVersions=[])).push(Ze.version),et(tt||a.GreenSockGlobals||!a.gsap&&a||{}),f=a.requestAnimationFrame),p&&m.sleep(),d=f||function(t){return setTimeout(t,1e3*(S-m.time)+1|0)},c=1,w(2))},sleep:function(){(f?a.cancelAnimationFrame:clearTimeout)(p),c=0,d=st},lagSmoothing:function(t,e){y=t||1/I,v=Math.min(e,y,0)},fps:function(t){T=1/(t||60),S=m.time+T},add:function(t){E.indexOf(t)<0&&E.push(t),de()},remove:function(t){var e;~(e=E.indexOf(t))&&E.splice(e,1)},_listeners:E=[]}),de=function(){return!c&&pe.wake()},fe={},me=/^[\d.\-M][\d.\-,\s]/,ge=/["']/g,ye=function(t){for(var e,r,i,n={},s=t.substr(1,t.length-3).split(":"),a=s[0],o=1,l=s.length;o<l;o++)r=s[o],e=o!==l-1?r.lastIndexOf(","):r.length,i=r.substr(0,e),n[a]=isNaN(i)?i.replace(ge,"").trim():+i,a=r.substr(e+1).trim();return n},ve=function(t){return function(e){return 1-t(1-e)}},_e=function(t,e){return t&&(U(t)?t:fe[t]||function(t){var e=(t+"").split("("),r=fe[e[0]];return r&&e.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[ye(e[1])]:$.exec(t)[1].split(",").map(Et)):fe._CE&&me.test(t)?fe._CE("",t):r}(t))||e},be=function(t,e,r,i){void 0===r&&(r=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var n,s={easeIn:e,easeOut:r,easeInOut:i};return yt(t,(function(t){for(var e in fe[t]=Z[t]=s,fe[n=t.toLowerCase()]=r,s)fe[n+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=fe[t+"."+e]=s[e]})),s},Te=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Se=function t(e,r,i){var n=r>=1?r:1,s=(i||(e?.3:.45))/(r<1?r:1),a=s/M*(Math.asin(1/n)||0),o=function(t){return 1===t?1:n*Math.pow(2,-10*t)*B((t-a)*s)+1},l="out"===e?o:"in"===e?function(t){return 1-o(1-t)}:Te(o);return s=M/s,l.config=function(r,i){return t(e,r,i)},l},Ee=function t(e,r){void 0===r&&(r=1.70158);var i=function(t){return--t*t*((r+1)*t+r)+1},n="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:Te(i);return n.config=function(r){return t(e,r)},n};yt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var r=e<5?e+1:e;be(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},(function(t){return 1-Math.pow(1-t,r)}),(function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2}))})),fe.Linear.easeNone=fe.none=fe.Linear.easeIn,be("Elastic",Se("in"),Se("out"),Se()),k=7.5625,C=1/(x=2.75),be("Bounce",(function(t){return 1-A(1-t)}),A=function(t){return t<C?k*t*t:t<.7272727272727273?k*Math.pow(t-1.5/x,2)+.75:t<.9090909090909092?k*(t-=2.25/x)*t+.9375:k*Math.pow(t-2.625/x,2)+.984375}),be("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),be("Circ",(function(t){return-(R(1-t*t)-1)})),be("Sine",(function(t){return 1-N(t*O)})),be("Back",Ee("in"),Ee("out"),Ee()),fe.SteppedEase=fe.steps=Z.SteppedEase={config:function(t,e){void 0===t&&(t=1);var r=1/t,i=t+(e?0:1),n=e?1:0;return function(t){return((i*Ht(0,.99999999,t)|0)+n)*r}}},D.ease=fe["quad.out"];var we=function(t,e){this.id=L++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:gt,this.set=e?e.getSetter:je},ke=function(){function t(t,e){var r=t.parent||s;this.vars=t,this._dur=this._tDur=+t.duration||0,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase,Ut(this)),this._ts=1,this.data=t.data,c||pe.wake(),r&&Bt(r,this,e||0===e?e:r._time),t.reversed&&this.reversed(!0),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this._delay=t,this):this._delay},e.duration=function(t){var e=arguments.length,r=this._repeat,i=r>0?r*((e?t:this._dur)+this._rDelay):0;return e?this.totalDuration(r<0?t:t+i):this.totalDuration()&&this._dur},e.totalDuration=function(t){if(!arguments.length)return this._tDur;var e=this._repeat,r=(t||this._rDelay)&&e<0;return this._tDur=r?1e20:t,this._dur=r?t:(t-e*this._rDelay)/(e+1),this._dirty=0,Mt(this.parent),this},e.totalTime=function(t,e){if(de(),!arguments.length)return this._tTime;var r,i=this.parent||this._dp;if(i&&i.smoothChildTiming&&this._ts){for(r=this._start,this._start=i._time-(this._ts>0?t/this._ts:((this._dirty?this.totalDuration():this._tDur)-t)/-this._ts),this._end+=this._start-r,i._dirty||Mt(i);i.parent;)i.parent._time!==i._start+(i._ts>0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;this.parent||Bt(this._dp,this,this._start-this._delay)}return this._tTime===t&&this._dur||(this._ts||(this._pTime=t),St(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime((t+Lt(this))%this.duration()||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._tTime/this.totalDuration()},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Lt(this),e):this.duration()?this._time/this._dur:this.ratio},e.iteration=function(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?Rt(this._tTime,r)+1:1},e.timeScale=function(t){return arguments.length?null!==this._pauseTS?(this._pauseTS=t,this):(this._ts=t,Ot(this).totalTime(this._tTime,!0)):this._ts||this._pauseTS||0},e.paused=function(t){var e=!this._ts;return arguments.length?(e!==t&&(t?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS||1,this._pauseTS=null,t=this._tTime||this._pTime,1===this.progress()&&(this._tTime-=I),this.totalTime(t,!0))),this):e},e.startTime=function(t){return arguments.length?(this.parent&&this.parent._sort&&Bt(this.parent,this,t-this._delay),this):this._start},e.endTime=function(t){return this._start+(H(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Nt(e.rawTime(t),this):this._tTime:this._tTime},e.repeat=function(t){return arguments.length?(this._repeat=t,Ut(this)):this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,Ut(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Vt(this,t),H(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,H(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){var e=this._ts||this._pauseTS||0;return arguments.length?(t!==this.reversed()&&(this[null===this._pauseTS?"_ts":"_pauseTS"]=Math.abs(e)*(t?-1:1),this.totalTime(this._tTime,!0)),this):e<0},e.invalidate=function(){return this._initted=0,this},e.isActive=function(t){var e,r=this.parent||this._dp,i=this._start;return!r||this._ts&&(this._initted||!t)&&r.isActive(t)&&(e=r.rawTime(!0))>=i&&e<this.endTime(!0)-I},e.eventCallback=function(t,e,r){var i=this.vars;return arguments.length>1?(e?(i[t]=e,r&&(i[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},e.then=function(t){var e=this;return new Promise((function(r){var i=t||wt,n=function(){var t=e.then;e.then=null,(i=i(e))&&(i.then||i===e)&&(e._prom=i,e.then=t),r(i),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?n():e._prom=n}))},e.kill=function(){ie(this)},t}();kt(ke.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-I,_prom:0,_pauseTS:null});var xe=function(t){function e(e,r){var i;return void 0===e&&(e={}),(i=t.call(this,e,r)||this).labels={},i.smoothChildTiming=H(e.smoothChildTiming),i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=H(e.sortChildren),i}n(e,t);var r=e.prototype;return r.to=function(t,e,r){return new Re(t,bt(arguments,0,this),Vt(this,j(e)?arguments[3]:r)),this},r.from=function(t,e,r){return new Re(t,bt(arguments,1,this),Vt(this,j(e)?arguments[3]:r)),this},r.fromTo=function(t,e,r,i){return new Re(t,bt(arguments,2,this),Vt(this,j(e)?arguments[4]:i)),this},r.set=function(t,e,r){return e.duration=0,e.parent=this,e.repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Re(t,e,Vt(this,r)),this},r.call=function(t,e,r){return Bt(this,Re.delayedCall(0,t,e),Vt(this,r))},r.staggerTo=function(t,e,r,i,n,s,a){return r.duration=e,r.stagger=r.stagger||i,r.onComplete=s,r.onCompleteParams=a,r.parent=this,new Re(t,r,Vt(this,n)),this},r.staggerFrom=function(t,e,r,i,n,s,a){return r.runBackwards=1,r.immediateRender=H(r.immediateRender),this.staggerTo(t,e,r,i,n,s,a)},r.staggerFromTo=function(t,e,r,i,n,s,a,o){return i.startAt=r,i.immediateRender=H(i.immediateRender),this.staggerTo(t,e,i,n,s,a,o)},r.render=function(t,e,r){var i,n,a,o,l,u,h,c,p,d,f,m=this._time,g=this._dirty?this.totalDuration():this._tDur,y=this._dur,v=t>g-I&&t>=0&&this!==s?g:t<I?0:t,_=this._zTime<0!=t<0&&(this._initted||!y);if(v!==this._tTime||r||_){if(_&&(y||(m=this._zTime),!t&&e||(this._zTime=t)),i=v,p=this._start,u=0===(c=this._ts),m!==this._time&&y&&(i+=this._time-m),this._repeat&&(f=this._yoyo,l=y+this._rDelay,((i=vt(v%l))>y||g===v)&&(i=y),(o=~~(v/l))&&o===v/l&&(i=y,o--),f&&1&o&&(i=y-i),o!==(d=Rt(this._tTime,l))&&!this._lock)){var b=f&&1&d,T=b===(f&&1&o);if(o<d&&(b=!b),m=b?0:y,this._lock=1,this.render(m,e,!y)._lock=0,!e&&this.parent&&re(this,"onRepeat"),m!==this._time||u!==!this._ts)return this;if(T&&(this._lock=2,m=b?y+1e-4:-1e-4,this.render(m,!0)),this._lock=0,!this._ts&&!u)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,r){var i;if(r>e)for(i=t._first;i&&i._start<=r;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,vt(m),vt(i)))&&(v-=i-(i=h._start)),this._tTime=v,this._time=i,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),m||!i||e||re(this,"onStart"),i>=m&&t>=0)for(n=this._first;n;){if(a=n._next,(n._act||i>=n._start)&&n._ts&&h!==n){if(n.parent!==this)return this.render(t,e,r);if(n.render(n._ts>0?(i-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(i-n._start)*n._ts,e,r),i!==this._time||!this._ts&&!u){h=0;break}}n=a}else{n=this._last;for(var S=t<0?t:i;n;){if(a=n._prev,(n._act||S<=n._end)&&n._ts&&h!==n){if(n.parent!==this)return this.render(t,e,r);if(n.render(n._ts>0?(S-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(S-n._start)*n._ts,e,r),i!==this._time||!this._ts&&!u){h=0;break}}n=a}}if(h&&!e&&(this.pause(),h.render(i>=m?0:-I)._zTime=i>=m?1:-1,this._ts))return this._start=p,this.render(t,e,r);this._onUpdate&&!e&&re(this,"onUpdate",!0),(v===g||!v&&this._ts<0)&&(p!==this._start&&Math.abs(c)===Math.abs(this._ts)||(!i||g>=this.totalDuration())&&((t||!y)&&It(this,1),e||t<0&&!m||(re(this,v===g?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},r.add=function(t,e){var r=this;if(j(e)||(e=Vt(this,e)),!(t instanceof ke)){if(W(t))return t.forEach((function(t){return r.add(t,e)})),Mt(this);if(F(t))return this.addLabel(t,e);if(!U(t))return this;t=Re.delayedCall(0,t)}return this!==t?Bt(this,t,e):this},r.getChildren=function(t,e,r,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===i&&(i=-1e8);for(var n=[],s=this._first;s;)s._start>=i&&(s instanceof Re?e&&n.push(s):(r&&n.push(s),t&&n.push.apply(n,s.getChildren(!0,e,r)))),s=s._next;return n},r.getById=function(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},r.remove=function(t){return F(t)?this.removeLabel(t):U(t)?this.killTweensOf(t):(Dt(this,t),t===this._recent&&(this._recent=this._last),Mt(this))},r.totalTime=function(e,r){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=pe.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts)),t.prototype.totalTime.call(this,e,r),this._forcing=0,this):this._tTime},r.addLabel=function(t,e){return this.labels[t]=Vt(this,e),this},r.removeLabel=function(t){return delete this.labels[t],this},r.addPause=function(t,e,r){var i=Re.delayedCall(0,e||st,r);return i.data="isPause",this._hasPause=1,Bt(this,i,Vt(this,t))},r.removePause=function(t){var e=this._first;for(t=Vt(this,t);e;)e._start===t&&"isPause"===e.data&&It(e),e=e._next},r.killTweensOf=function(t,e,r){for(var i=this.getTweensOf(t,r),n=i.length;n--;)Ce!==i[n]&&i[n].kill(t,e);return this},r.getTweensOf=function(t,e){for(var r,i=[],n=Yt(t),s=this._first;s;)s instanceof Re?!_t(s._targets,n)||e&&!s.isActive("started"===e)||i.push(s):(r=s.getTweensOf(n,e)).length&&i.push.apply(i,r),s=s._next;return i},r.tweenTo=function(t,e){var r=this,i=Vt(r,t),n=e&&e.startAt,s=Re.to(r,kt({ease:"none",lazy:!1,time:i,duration:Math.abs(i-(n&&"time"in n?n.time:r._time))/r.timeScale()||I,onStart:function(){r.pause();var t=Math.abs(i-r._time)/r.timeScale();s._dur!==t&&(s._dur=t,s.render(s._time,!0,!0)),e&&e.onStart&&e.onStart.apply(s,e.onStartParams||[])}},e));return s},r.tweenFromTo=function(t,e,r){return this.tweenTo(e,kt({startAt:{time:Vt(this,t)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(t){return void 0===t&&(t=this._time),ee(this,Vt(this,t))},r.previousLabel=function(t){return void 0===t&&(t=this._time),ee(this,Vt(this,t),1)},r.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+I)},r.shiftChildren=function(t,e,r){void 0===r&&(r=0);for(var i,n=this._first,s=this.labels;n;)n._start>=r&&(n._start+=t),n=n._next;if(e)for(i in s)s[i]>=r&&(s[i]+=t);return Mt(this)},r.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},r.clear=function(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._time=this._tTime=0,t&&(this.labels={}),Mt(this)},r.totalDuration=function(t){var e,r,i=0,n=this,a=n._last,o=1e8,l=n._repeat,u=l*n._rDelay||0,h=l<0;if(!arguments.length){if(n._dirty){for(;a;)e=a._prev,a._dirty&&a.totalDuration(),a._start>o&&n._sort&&a._ts&&!n._lock?(n._lock=1,Bt(n,a,a._start-a._delay),n._lock=0):o=a._start,a._start<0&&a._ts&&(i-=a._start,(!n.parent&&!n._dp||n.parent&&n.parent.smoothChildTiming)&&(n._start+=a._start/n._ts,n._time-=a._start,n._tTime-=a._start),n.shiftChildren(-a._start,!1,-1e8),o=0),(r=a._end=a._start+a._tDur/Math.abs(a._ts||a._pauseTS||I))>i&&a._ts&&(i=vt(r)),a=e;n._dur=n===s&&n._time>i?n._time:Math.min(1e8,i),n._tDur=h&&(n._dur||u)?1e20:Math.min(1e8,i*(l+1)+u),n._end=n._start+(n._tDur/Math.abs(n._ts||n._pauseTS||I)||0),n._dirty=0}return n._tDur}return h?n:n.timeScale(n.totalDuration()/t)},e.updateRoot=function(t){if(s._ts&&St(s,Nt(t,s)),pe.frame>=ct){ct+=P.autoSleep||120;var e=s._first;if((!e||!e._ts)&&P.autoSleep&&pe._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||pe.sleep()}}},e}(ke);kt(xe.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ce,Ae=function(t,e,r,i,n,s,a){var o,l,u,h,c,p,d,f,m=new Ke(this._pt,t,e,0,1,He,null,n),g=0,y=0;for(m.b=r,m.e=i,r+="",(d=~(i+="").indexOf("random("))&&(i=Zt(i)),s&&(s(f=[r,i],t,e),r=f[0],i=f[1]),l=r.match(K)||[];o=K.exec(i);)h=o[0],c=i.substring(g,o.index),u?u=(u+1)%5:"rgba("===c.substr(-5)&&(u=1),h!==l[y++]&&(p=parseFloat(l[y-1])||0,m._pt={_next:m._pt,p:c||1===y?c:",",s:p,c:"="===h.charAt(1)?parseFloat(h.substr(2))*("-"===h.charAt(0)?-1:1):parseFloat(h)-p,m:u&&u<4?Math.round:0},g=K.lastIndex);return m.c=g<i.length?i.substring(g,i.length):"",m.fp=a,(Q.test(i)||d)&&(m.e=0),this._pt=m,m},Pe=function(t,e,r,i,n,s,a,o,l){U(i)&&(i=i(n||0,t,s));var u,h=t[e],c="get"!==r?r:U(h)?l?t[e.indexOf("set")||!U(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():h,p=U(h)?l?Fe:Be:Ne;if(F(i)&&(~i.indexOf("random(")&&(i=Zt(i)),"="===i.charAt(1)&&(i=parseFloat(c)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(zt(c)||0))),c!==i)return isNaN(c+i)?(!h&&!(e in t)&&rt(e,i),Ae.call(this,t,e,c,i,p,o||P.stringFilter,l)):(u=new Ke(this._pt,t,e,+c||0,i-(c||0),"boolean"==typeof h?qe:Ve,0,p),l&&(u.fp=l),a&&u.modifier(a,this,t),this._pt=u)},De=function(t,e,r,i,n,s){var a,o,l,u;if(ut[t]&&!1!==(a=new ut[t]).init(n,a.rawVars?e[t]:function(t,e,r,i,n){if(U(t)&&(t=Me(t,n,e,r,i)),!q(t)||t.style&&t.nodeType||W(t))return F(t)?Me(t,n,e,r,i):t;var s,a={};for(s in t)a[s]=Me(t[s],n,e,r,i);return a}(e[t],i,n,s,r),r,i,s)&&(r._pt=o=new Ke(r._pt,n,t,0,1,a.render,a,0,a.priority),r!==h))for(l=r._ptLookup[r._targets.indexOf(n)],u=a._props.length;u--;)l[a._props[u]]=o;return a},Ie=function t(e,r){var i,n,a,o,l,u,h,c,p,d,f,m,g=e.vars,y=g.ease,v=g.startAt,_=g.immediateRender,b=g.lazy,T=g.onUpdate,S=g.onUpdateParams,E=g.callbackScope,w=g.runBackwards,k=g.yoyoEase,x=g.keyframes,C=g.autoRevert,A=e._dur,P=e._startAt,M=e._targets,O=e.parent,L=O&&"nested"===O.data?O.parent._targets:M,R="auto"===e._overwrite,N=e.timeline;if(!N||x&&y||(y="none"),e._ease=_e(y,D.ease),e._yEase=k?ve(_e(!0===k?y:k,D.ease)):0,k&&e._yoyo&&!e._repeat&&(k=e._yEase,e._yEase=e._ease,e._ease=k),!N){if(P&&P.render(-1,!0).kill(),v){if(It(e._startAt=Re.set(M,kt({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:H(b),startAt:null,delay:0,onUpdate:T,onUpdateParams:S,callbackScope:E,stagger:0},v))),_)if(r>0)!C&&(e._startAt=0);else if(A)return}else if(w&&A)if(P)!C&&(e._startAt=0);else if(r&&(_=!1),It(e._startAt=Re.set(M,Ct(Pt(g,at),{overwrite:!1,data:"isFromStart",lazy:_&&H(b),immediateRender:_,stagger:0,parent:O}))),_){if(!r)return}else t(e._startAt,I);for(i=Pt(g,at),e._pt=0,m=(c=M[0]?mt(M[0]).harness:0)&&g[c.prop],b=A&&H(b)||b&&!A,n=0;n<M.length;n++){if(h=(l=M[n])._gsap||ft(M)[n]._gsap,e._ptLookup[n]=d={},lt[h.id]&&Tt(),f=L===M?n:L.indexOf(l),c&&!1!==(p=new c).init(l,m||i,e,f,L)&&(e._pt=o=new Ke(e._pt,l,p.name,0,1,p.render,p,0,p.priority),p._props.forEach((function(t){d[t]=o})),p.priority&&(u=1)),!c||m)for(a in i)ut[a]&&(p=De(a,i,e,f,l,L))?p.priority&&(u=1):d[a]=o=Pe.call(e,l,a,"get",i[a],f,L,0,g.stringFilter);e._op&&e._op[n]&&e.kill(l,e._op[n]),R&&e._pt&&(Ce=e,s.killTweensOf(l,d,"started"),Ce=0),e._pt&&b&&(lt[h.id]=1)}u&&Xe(e),e._onInit&&e._onInit(e)}e._from=!N&&!!g.runBackwards,e._onUpdate=T,e._initted=1},Me=function(t,e,r,i,n){return U(t)?t.call(e,r,i,n):F(t)&&~t.indexOf("random(")?Zt(t):t},Oe=dt+",repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Le=(Oe+",id,stagger,delay,duration,paused").split(","),Re=function(t){function e(e,r,n){var a;"number"==typeof r&&(n.duration=r,r=n,n=null);var o,l,u,h,c,p,d,f,m=(a=t.call(this,function(t){var e=t.parent||s,r=t.keyframes?xt:kt;if(H(t.inherit))for(;e;)r(t,e.vars.defaults),e=e.parent;return t}(r),n)||this).vars,g=m.duration,y=m.delay,v=m.immediateRender,_=m.stagger,b=m.overwrite,T=m.keyframes,S=m.defaults,E=W(e)&&j(e[0])?[e]:Yt(e);if(a._targets=E.length?ft(E):it("GSAP target "+e+" not found. https://greensock.com",!P.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=b,T||_||G(g)||G(y)){if(r=a.vars,(o=a.timeline=new xe({data:"nested",defaults:S||{}})).kill(),o.parent=i(a),T)kt(o.vars.defaults,{ease:"none"}),T.forEach((function(t){return o.to(E,t,">")}));else{if(h=E.length,d=_?Xt(_):st,q(_))for(c in _)~Oe.indexOf(c)&&(f||(f={}),f[c]=_[c]);for(l=0;l<h;l++){for(c in u={},r)Le.indexOf(c)<0&&(u[c]=r[c]);u.stagger=0,f&&Ct(u,f),r.yoyoEase&&!r.repeat&&(u.yoyoEase=r.yoyoEase),p=E[l],u.duration=+Me(g,i(a),l,p,E),u.delay=(+Me(y,i(a),l,p,E)||0)-a._delay,!_&&1===h&&u.delay&&(a._delay=y=u.delay,a._start+=y,u.delay=0),o.to(p,u,d(l,p,E))}g=y=0}g||a.duration(g=o.duration())}else a.timeline=0;return!0===b&&(Ce=i(a),s.killTweensOf(E),Ce=0),(v||!g&&!T&&a._start===a.parent._time&&H(v)&&function t(e){return!e||e._ts&&t(e.parent)}(i(a))&&"nested"!==a.parent.data)&&(a._tTime=-I,a.render(Math.max(0,-y))),a}n(e,t);var r=e.prototype;return r.render=function(t,e,r){var i,n,s,a,o,l,u,h,c,p=this._time,d=this._tDur,f=this._dur,m=t>d-I&&t>=0?d:t<I?0:t;if(f){if(m!==this._tTime||!t||r||this._startAt&&this._zTime<0!=t<0){if(i=m,h=this.timeline,this._repeat){if(a=f+this._rDelay,(i=vt(m%a))>f&&(i=f),(s=~~(m/a))&&s===m/a&&(i=f,s--),(l=this._yoyo&&1&s)&&(c=this._yEase,i=f-i),o=Rt(this._tTime,a),i===p&&!r&&this._initted)return this;s!==o&&this.vars.repeatRefresh&&!this._lock&&(this._lock=r=1,this.render(a*s,!0).invalidate()._lock=0)}if(!this._initted&&Ft(this,i,r,e))return this;for(this._tTime=m,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(c||this._ease)(i/f),this._from&&(this.ratio=u=1-u),p||!i||e||re(this,"onStart"),n=this._pt;n;)n.r(u,n.d),n=n._next;h&&h.render(t<0?t:!i&&l?-I:h._dur*u,e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,r),re(this,"onUpdate")),this._repeat&&s!==o&&this.vars.onRepeat&&!e&&this.parent&&re(this,"onRepeat"),m!==d&&m||this._tTime!==m||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,r),(t||!f)&&(m||this._ts<0)&&It(this,1),e||t<0&&!p||(re(this,m===d?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(t,e,r,i){var n,s=t._zTime<0?0:1,a=e<0?0:1,o=t._rDelay,l=0;if(o&&t._repeat&&(l=Ht(0,t._tDur,e),Rt(l,o)!==Rt(t._tTime,o)&&(s=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),(t._initted||!Ft(t,e,i,r))&&(a!==s||i||t._zTime===I||!e&&t._zTime)){for(t._zTime=e||(r?I:0),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=l,r||re(t,"onStart"),n=t._pt;n;)n.r(a,n.d),n=n._next;!a&&t._startAt&&!t._onUpdate&&t._start&&t._startAt.render(e,!0,i),t._onUpdate&&!r&&re(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&re(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(t.ratio&&It(t,1),r||(re(t,t.ratio?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}}(this,t,e,r);return this},r.targets=function(){return this._targets},r.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},r.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e)&&(this._lazy=0,this.parent))return ie(this);if(this.timeline)return this.timeline.killTweensOf(t,e,Ce&&!0!==Ce.vars.overwrite),this;var r,i,n,s,a,o,l,u=this._targets,h=t?Yt(t):u,c=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var r=t.length,i=r===e.length;i&&r--&&t[r]===e[r];);return r<0}(u,h))return ie(this);for(r=this._op=this._op||[],"all"!==e&&(F(e)&&(a={},yt(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var r,i,n,s,a=t[0]?mt(t[0]).harness:0,o=a&&a.aliases;if(!o)return e;for(i in r=Ct({},e),o)if(i in r)for(n=(s=o[i].split(",")).length;n--;)r[s[n]]=r[i];return r}(u,e)),l=u.length;l--;)if(~h.indexOf(u[l]))for(a in i=c[l],"all"===e?(r[l]=e,s=i,n={}):(n=r[l]=r[l]||{},s=e),s)(o=i&&i[a])&&("kill"in o.d&&!0!==o.d.kill(a)||Dt(this,o,"_pt"),delete i[a]),"all"!==n&&(n[a]=1);return this._initted&&!this._pt&&p&&ie(this),this},e.to=function(t,r){return new e(t,r,arguments[2])},e.from=function(t,r){return new e(t,bt(arguments,1))},e.delayedCall=function(t,r,i,n){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:r,onReverseComplete:r,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:n})},e.fromTo=function(t,r,i){return new e(t,bt(arguments,2))},e.set=function(t,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(t,r)},e.killTweensOf=function(t,e,r){return s.killTweensOf(t,e,r)},e}(ke);kt(Re.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),yt("staggerTo,staggerFrom,staggerFromTo",(function(t){Re[t]=function(){var e=new xe,r=Yt(arguments);return r.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,r)}}));var Ne=function(t,e,r){return t[e]=r},Be=function(t,e,r){return t[e](r)},Fe=function(t,e,r,i){return t[e](i.fp,r)},Ue=function(t,e,r){return t.setAttribute(e,r)},je=function(t,e){return U(t[e])?Be:V(t[e])&&t.setAttribute?Ue:Ne},Ve=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},qe=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},He=function(t,e){var r=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+i,r=r._next;i+=e.c}e.set(e.t,e.p,i,e)},ze=function(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},Ge=function(t,e,r,i){for(var n,s=this._pt;s;)n=s._next,s.p===i&&s.modifier(t,e,r),s=n},We=function(t){for(var e,r,i=this._pt;i;)r=i._next,i.p===t&&!i.op||i.op===t?Dt(this,i,"_pt"):i.dep||(e=1),i=r;return!e},Ye=function(t,e,r,i){i.mSet(t,e,i.m.call(i.tween,r,i.mt),i)},Xe=function(t){for(var e,r,i,n,s=t._pt;s;){for(e=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:n)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:n=s,s=e}t._pt=i},Ke=function(){function t(t,e,r,i,n,s,a,o,l){this.t=e,this.s=i,this.c=n,this.p=r,this.r=s||Ve,this.d=a||this,this.set=o||Ne,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,r){this.mSet=this.mSet||this.set,this.set=Ye,this.m=t,this.mt=r,this.tween=e},t}();yt(dt+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",(function(t){at[t]=1,"on"===t.substr(0,2)&&(at[t+"Params"]=1)})),Z.TweenMax=Z.TweenLite=Re,Z.TimelineLite=Z.TimelineMax=xe,s=new xe({sortChildren:!1,defaults:D,autoRemoveChildren:!0,id:"root"}),P.stringFilter=ce;var $e={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){return ne(t)}))},timeline:function(t){return new xe(t)},getTweensOf:function(t,e){return s.getTweensOf(t,e)},getProperty:function(t,e,r,i){F(t)&&(t=Yt(t)[0]);var n=mt(t||{}).get,s=r?wt:Et;return"native"===r&&(r=""),t?e?s((ut[e]&&ut[e].get||n)(t,e,r,i)):function(e,r,i){return s((ut[e]&&ut[e].get||n)(t,e,r,i))}:t},quickSetter:function(t,e,r){if((t=Yt(t)).length>1){var i=t.map((function(t){return Ze.quickSetter(t,e,r)})),n=i.length;return function(t){for(var e=n;e--;)i[e](t)}}t=t[0]||{};var s=ut[e],a=mt(t),o=s?function(e){var i=new s;h._pt=0,i.init(t,r?e+r:e,h,0,[t]),i.render(1,i),h._pt&&ze(1,h)}:a.set(t,e);return s?o:function(i){return o(t,e,r?i+r:i,a,1)}},isTweening:function(t){return s.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=_e(t.ease,D.ease)),At(D,t||{})},config:function(t){return At(P,t||{})},registerEffect:function(t){var e=t.name,r=t.effect,i=t.plugins,n=t.defaults,s=t.extendTimeline;(i||"").split(",").forEach((function(t){return t&&!ut[t]&&!Z[t]&&it(e+" effect requires "+t+" plugin.")})),ht[e]=function(t,e){return r(Yt(t),kt(e||{},n))},s&&(xe.prototype[e]=function(t,r,i){return this.add(ht[e](t,q(r)?r:(i=r)&&{}),i)})},registerEase:function(t,e){fe[t]=_e(e)},parseEase:function(t,e){return arguments.length?_e(t,e):fe},getById:function(t){return s.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,i,n=new xe(t);for(n.smoothChildTiming=H(t.smoothChildTiming),s.remove(n),n._dp=0,n._time=n._tTime=s._time,r=s._first;r;)i=r._next,!e&&!r._dur&&r instanceof Re&&r.vars.onComplete===r._targets[0]||Bt(n,r,r._start-r._delay),r=i;return Bt(s,n,0),n},utils:{wrap:function t(e,r,i){var n=r-e;return W(e)?Jt(e,t(0,e.length),r):qt(i,(function(t){return(n+(t-e)%n)%n+e}))},wrapYoyo:function t(e,r,i){var n=r-e,s=2*n;return W(e)?Jt(e,t(0,e.length-1),r):qt(i,(function(t){return e+((t=(s+(t-e)%s)%s)>n?s-t:t)}))},distribute:Xt,random:Qt,snap:$t,normalize:function(t,e,r){return te(t,e,0,1,r)},getUnit:zt,clamp:function(t,e,r){return qt(r,(function(r){return Ht(t,e,r)}))},splitColor:oe,toArray:Yt,mapRange:te,pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(r){return t(parseFloat(r))+(e||zt(r))}},interpolate:function t(e,r,i,n){var s=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!s){var a,o,l,u,h,c=F(e),p={};if(!0===i&&(n=1)&&(i=null),c)e={p:e},r={p:r};else if(W(e)&&!W(r)){for(l=[],u=e.length,h=u-2,o=1;o<u;o++)l.push(t(e[o-1],e[o]));u--,s=function(t){t*=u;var e=Math.min(h,~~t);return l[e](t-e)},i=r}else n||(e=Ct(W(e)?[]:{},e));if(!l){for(a in r)Pe.call(p,e,a,"get",r[a]);s=function(t){return ze(t,p)||(c?e.p:e)}}}return qt(i,s)}},install:et,effects:ht,ticker:pe,updateRoot:xe.updateRoot,plugins:ut,globalTimeline:s,core:{PropTween:Ke,globals:nt,Tween:Re,Timeline:xe,Animation:ke,getCache:mt}};yt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return $e[t]=Re[t]})),pe.add(xe.updateRoot),h=$e.to({},{duration:0});var Qe=function(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r},Je=function(t,e){return{name:t,rawVars:1,init:function(t,r,i){i._onInit=function(t){var i,n;if(F(r)&&(i={},yt(r,(function(t){return i[t]=1})),r=i),e){for(n in i={},r)i[n]=e(r[n]);r=i}!function(t,e){var r,i,n,s=t._targets;for(r in e)for(i=s.length;i--;)(n=t._ptLookup[i][r])&&(n=n.d)&&(n._pt&&(n=Qe(n,r)),n&&n.modifier&&n.modifier(e[r],t,s[i],r))}(t,r)}}}},Ze=$e.registerPlugin({name:"attr",init:function(t,e,r,i,n){for(var s in e)this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],i,n,0,0,s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r])}},Je("roundProps",Kt),Je("modifiers"),Je("snap",$t))||$e;Re.version=xe.version=Ze.version="3.0.4",u=1,z()&&de(),fe.Power0,fe.Power1,fe.Power2,fe.Power3,fe.Power4,fe.Linear,fe.Quad,fe.Cubic,fe.Quart,fe.Quint,fe.Strong,fe.Elastic,fe.Back,fe.SteppedEase,fe.Bounce,fe.Sine,fe.Expo,fe.Circ},function(t,e,r){(function(e){var i,n=void 0!==e?e:"undefined"!=typeof window?window:{},s=r(241);"undefined"!=typeof document?i=document:(i=n["__GLOBAL_DOCUMENT_CACHE@4"])||(i=n["__GLOBAL_DOCUMENT_CACHE@4"]=s),t.exports=i}).call(this,r(16))},function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},function(t,e){function r(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var r,s=String(t);return(r=i[s.toLowerCase()])?r:(r=n[s.toLowerCase()])||(1===s.length?s.charCodeAt(0):void 0)}r.isEventKey=function(t,e){if(t&&"object"==typeof t){var r=t.which||t.keyCode||t.charCode;if(null==r)return!1;if("string"==typeof e){var s;if(s=i[e.toLowerCase()])return s===r;if(s=n[e.toLowerCase()])return s===r}else if("number"==typeof e)return e===r;return!1}};var i=(e=t.exports=r).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(s=97;s<123;s++)i[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)i[s-48]=s;for(s=1;s<13;s++)i["f"+s]=s+111;for(s=0;s<10;s++)i["numpad "+s]=s+96;var a=e.names=e.title={};for(s in i)a[i[s]]=s;for(var o in n)i[o]=n[o]},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,r){"use strict";var i=r(1),n=r.n(i),s=r(3),a=r.n(s),o=r(28),l=r.n(o),u=r(6),h=r.n(u),c=r(4),p=r.n(c),d=r(98),f=r.n(d),m=r(5),g=r.n(m),y=r(65),v=r.n(y),_=r(66),b=r.n(_),T=r(99),S=r.n(T),E=r(100),w=r.n(E),k=r(40),x=r.n(k);function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function A(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var P=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var r=this.listeners[t].indexOf(e);return this.listeners[t].splice(r,1),r>-1},e.trigger=function(t){var e,r,i,n=this.listeners[t];if(n)if(2===arguments.length)for(r=n.length,e=0;e<r;++e)n[e].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=n.length,e=0;e<r;++e)n[e].apply(this,i)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),D=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return A(e,t),e.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(P),I=function(t){for(var e,r=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},n=r.length;n--;)""!==r[n]&&((e=/([^=]*)=(.*)/.exec(r[n]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),i[e[0]]=e[1]);return i},M=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}A(e,t);var r=e.prototype;return r.push=function(t){var e,r,i=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce((function(e,r){var i=r(t);return i===t?e:e.concat([i])}),[t]).forEach((function(t){for(var n=0;n<i.customParsers.length;n++)if(i.customParsers[n].call(i,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return r={type:"tag",tagType:"inf"},e[1]&&(r.duration=parseFloat(e[1])),e[2]&&(r.title=e[2]),void i.trigger("data",r);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return r={type:"tag",tagType:"targetduration"},e[1]&&(r.duration=parseInt(e[1],10)),void i.trigger("data",r);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return r={type:"tag",tagType:"totalduration"},e[1]&&(r.duration=parseInt(e[1],10)),void i.trigger("data",r);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return r={type:"tag",tagType:"version"},e[1]&&(r.version=parseInt(e[1],10)),void i.trigger("data",r);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return r={type:"tag",tagType:"media-sequence"},e[1]&&(r.number=parseInt(e[1],10)),void i.trigger("data",r);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return r={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(r.number=parseInt(e[1],10)),void i.trigger("data",r);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return r={type:"tag",tagType:"playlist-type"},e[1]&&(r.playlistType=e[1]),void i.trigger("data",r);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return r={type:"tag",tagType:"byterange"},e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),void i.trigger("data",r);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return r={type:"tag",tagType:"allow-cache"},e[1]&&(r.allowed=!/NO/.test(e[1])),void i.trigger("data",r);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(r={type:"tag",tagType:"map"},e[1]){var s=I(e[1]);if(s.URI&&(r.uri=s.URI),s.BYTERANGE){var a=s.BYTERANGE.split("@"),o=a[0],l=a[1];r.byterange={},o&&(r.byterange.length=parseInt(o,10)),l&&(r.byterange.offset=parseInt(l,10))}}i.trigger("data",r)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(r={type:"tag",tagType:"stream-inf"},e[1]){if(r.attributes=I(e[1]),r.attributes.RESOLUTION){var u=r.attributes.RESOLUTION.split("x"),h={};u[0]&&(h.width=parseInt(u[0],10)),u[1]&&(h.height=parseInt(u[1],10)),r.attributes.RESOLUTION=h}r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))}i.trigger("data",r)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return r={type:"tag",tagType:"media"},e[1]&&(r.attributes=I(e[1])),void i.trigger("data",r);if(e=/^#EXT-X-ENDLIST/.exec(t))i.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return r={type:"tag",tagType:"program-date-time"},e[1]&&(r.dateTimeString=e[1],r.dateTimeObject=new Date(e[1])),void i.trigger("data",r);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return r={type:"tag",tagType:"key"},e[1]&&(r.attributes=I(e[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void i.trigger("data",r);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return r={type:"tag",tagType:"start"},e[1]&&(r.attributes=I(e[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),void i.trigger("data",r);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return r={type:"tag",tagType:"cue-out-cont"},e[1]?r.data=e[1]:r.data="",void i.trigger("data",r);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return r={type:"tag",tagType:"cue-out"},e[1]?r.data=e[1]:r.data="",void i.trigger("data",r);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return r={type:"tag",tagType:"cue-in"},e[1]?r.data=e[1]:r.data="",void i.trigger("data",r);i.trigger("data",{type:"tag",data:t.slice(4)})}}}else i.trigger("data",{type:"comment",text:t.slice(1)})})):this.trigger("data",{type:"uri",uri:t}))},r.addParser=function(t){var e=this,r=t.expression,i=t.customType,n=t.dataParser,s=t.segment;"function"!=typeof n&&(n=function(t){return t}),this.customParsers.push((function(t){if(r.exec(t))return e.trigger("data",{type:"custom",data:n(t),customType:i,segment:s}),!0}))},r.addTagMapper=function(t){var e=t.expression,r=t.map;this.tagMappers.push((function(t){return e.test(t)?r(t):t}))},e}(P);function O(t){for(var e=n.a.atob(t||""),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}var L=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new D,e.parseStream=new M,e.lineStream.pipe(e.parseStream);var r,i,n=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),s=[],a={},o=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",(function(t){var e,h;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(a.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:O(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(i.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,u=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){r={},t.uri&&(r.uri=t.uri),t.byterange&&(r.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(a.attributes||(a.attributes={}),C(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var r=this.manifest.mediaGroups[t.attributes.TYPE];r[t.attributes["GROUP-ID"]]=r[t.attributes["GROUP-ID"]]||{},e=r[t.attributes["GROUP-ID"]],(h={default:/yes/i.test(t.attributes.DEFAULT)}).default?h.autoselect=!0:h.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(h.language=t.attributes.LANGUAGE),t.attributes.URI&&(h.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(h.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(h.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(h.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=h}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){u+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||o).call(n)},uri:function(){a.uri=t.uri,s.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),i&&(a.key=i),a.timeline=u,r&&(a.map=r),a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(n)})),e}A(e,t);var r=e.prototype;return r.push=function(t){this.lineStream.push(t)},r.end=function(){this.lineStream.push("\n")},r.addParser=function(t){this.parseStream.addParser(t)},r.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(P),R=r(43),N=r.n(R),B=r(101),F=r.n(B),U=r(102),j=function(t){return!!t&&"object"==typeof t},V=function t(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.reduce((function(e,r){return Object.keys(r).forEach((function(i){Array.isArray(e[i])&&Array.isArray(r[i])?e[i]=e[i].concat(r[i]):j(e[i])&&j(r[i])?e[i]=t(e[i],r[i]):e[i]=r[i]})),e}),{})},q=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},H=function(t){if(!t.length)return[];for(var e=[],r=0;r<t.length;r++)e.push(t[r]);return e},z=function(t){var e=t.baseUrl,r=void 0===e?"":e,i=t.source,n=void 0===i?"":i,s=t.range,a=void 0===s?"":s,o=t.indexRange,l=void 0===o?"":o,u={uri:n,resolvedUri:N()(r||"",n)};if(a||l){var h=(a||l).split("-"),c=parseInt(h[0],10),p=parseInt(h[1],10);u.byterange={length:p-c+1,offset:c}}return u},G={static:function(t){var e=t.duration,r=t.timescale,i=void 0===r?1:r,n=t.sourceDuration;return{start:0,end:Math.ceil(n/(e/i))}},dynamic:function(t){var e=t.NOW,r=t.clientOffset,i=t.availabilityStartTime,n=t.timescale,s=void 0===n?1:n,a=t.duration,o=t.start,l=void 0===o?0:o,u=t.minimumUpdatePeriod,h=void 0===u?0:u,c=t.timeShiftBufferDepth,p=void 0===c?1/0:c,d=(e+r)/1e3,f=i+l,m=d+h-f,g=Math.ceil(m*s/a),y=Math.floor((d-f-p)*s/a),v=Math.floor((d-f)*s/a);return{start:Math.max(0,y),end:Math.min(g,v)}}},W=function(t){var e=t.type,r=void 0===e?"static":e,i=t.duration,n=t.timescale,s=void 0===n?1:n,a=t.sourceDuration,o=G[r](t),l=function(t,e){for(var r=[],i=t;i<e;i++)r.push(i);return r}(o.start,o.end).map(function(t){return function(e,r){var i=t.duration,n=t.timescale,s=void 0===n?1:n,a=t.periodIndex,o=t.startNumber;return{number:(void 0===o?1:o)+e,duration:i/s,timeline:a,time:r*i}}}(t));if("static"===r){var u=l.length-1;l[u].duration=a-i/s*u}return l},Y=function(t){var e=t.baseUrl,r=t.initialization,i=void 0===r?{}:r,n=t.sourceDuration,s=t.timescale,a=void 0===s?1:s,o=t.indexRange,l=void 0===o?"":o,u=t.duration;if(!e)throw new Error("NO_BASE_URL");var h=z({baseUrl:e,source:i.sourceURL,range:i.range}),c=z({baseUrl:e,source:e,indexRange:l});if(c.map=h,u){var p=W(t);p.length&&(c.duration=p[0].duration,c.timeline=p[0].timeline)}else n&&(c.duration=n/a,c.timeline=0);return c.number=0,[c]},X=function(t,e,r){for(var i=t.sidx.map?t.sidx.map:null,n=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,u=e.references.filter((function(t){return 1!==t.referenceType})),h=[],c=o+e.firstOffset,p=0;p<u.length;p++){var d=e.references[p],f=d.referencedSize,m=d.subsegmentDuration,g=Y({baseUrl:r,timescale:l,timeline:s,periodIndex:s,duration:m,sourceDuration:n,indexRange:c+"-"+(c+f-1)})[0];i&&(g.map=i),h.push(g),c+=f}return t.segments=h,t},K=function(t){var e;return(e=t.reduce((function(t,e){var r,i=e.attributes.id+(e.attributes.lang||"");return t[i]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(r=t[i].segments).push.apply(r,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e,t}),{}),Object.keys(e).map((function(t){return e[t]}))).map((function(t){var e;return t.discontinuityStarts=(e=t.segments,"discontinuity",e.reduce((function(t,e,r){return e.discontinuity&&t.push(r),t}),[])),t}))},$=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var r in t){var i=t[r];if(i.sidx){var n=i.sidx.uri+"-"+(void 0,o=(a=i.sidx.byterange).offset+a.length-1,a.offset+"-"+o),s=e[n]&&e[n].sidx;i.sidx&&s&&X(i,s,i.sidx.resolvedUri)}}var a,o;return t},Q=function(t){var e,r=t.attributes,i=t.segments,n=t.sidx,s={attributes:(e={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:i,mediaSequence:i.length?i[0].number:1};return r.contentProtection&&(s.contentProtection=r.contentProtection),n&&(s.sidx=n),s},J=function(t){var e,r=t.attributes,i=t.segments,n=t.sidx,s={attributes:(e={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:i,mediaSequence:i.length?i[0].number:1};return r.contentProtection&&(s.contentProtection=r.contentProtection),n&&(s.sidx=n),s},Z=function(t,e,r){var i=t.NOW,n=t.clientOffset,s=t.availabilityStartTime,a=t.timescale,o=void 0===a?1:a,l=t.start,u=void 0===l?0:l,h=t.minimumUpdatePeriod,c=(i+n)/1e3+(void 0===h?0:h)-(s+u);return Math.ceil((c*o-e)/r)},tt=function(t,e){for(var r=t.type,i=void 0===r?"static":r,n=t.minimumUpdatePeriod,s=void 0===n?0:n,a=t.media,o=void 0===a?"":a,l=t.sourceDuration,u=t.timescale,h=void 0===u?1:u,c=t.startNumber,p=void 0===c?1:c,d=t.periodIndex,f=[],m=-1,g=0;g<e.length;g++){var y=e[g],v=y.d,_=y.r||0,b=y.t||0;m<0&&(m=b),b&&b>m&&(m=b);var T=void 0;if(_<0){var S=g+1;T=S===e.length?"dynamic"===i&&s>0&&o.indexOf("$Number$")>0?Z(t,m,v):(l*h-m)/v:(e[S].t-m)/v}else T=_+1;for(var E=p+f.length+T,w=p+f.length;w<E;)f.push({number:w,duration:v/h,time:m,timeline:d}),m+=v,w++}return f},et=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,rt=function(t,e){return t.replace(et,function(t){return function(e,r,i,n){if("$$"===e)return"$";if(void 0===t[r])return e;var s=""+t[r];return"RepresentationID"===r?s:(n=i?parseInt(n,10):1,s.length>=n?s:""+new Array(n-s.length+1).join("0")+s)}}(e))},it=function(t,e){var r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,n=void 0===i?{sourceURL:"",range:""}:i,s=z({baseUrl:t.baseUrl,source:rt(n.sourceURL,r),range:n.range});return function(t,e){return t.duration||e?t.duration?W(t):tt(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map((function(e){r.Number=e.number,r.Time=e.time;var i=rt(t.media||"",r);return{uri:i,timeline:e.timeline,duration:e.duration,resolvedUri:N()(t.baseUrl||"",i),map:s,number:e.number}}))},nt=function(t,e){var r=t.duration,i=t.segmentUrls,n=void 0===i?[]:i;if(!r&&!e||r&&e)throw new Error("SEGMENT_TIME_UNSPECIFIED");var s,a=n.map((function(e){return function(t,e){var r=t.baseUrl,i=t.initialization,n=void 0===i?{}:i,s=z({baseUrl:r,source:n.sourceURL,range:n.range}),a=z({baseUrl:r,source:e.media,range:e.mediaRange});return a.map=s,a}(t,e)}));return r&&(s=W(t)),e&&(s=tt(t,e)),s.map((function(t,e){if(a[e]){var r=a[e];return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r}})).filter((function(t){return t}))},st=function(t){var e,r,i=t.attributes,n=t.segmentInfo;n.template?(r=it,e=V(i,n.template)):n.base?(r=Y,e=V(i,n.base)):n.list&&(r=nt,e=V(i,n.list));var s={attributes:i};if(!r)return s;var a=r(e,n.timeline);if(e.duration){var o=e,l=o.duration,u=o.timescale,h=void 0===u?1:u;e.duration=l/h}else a.length?e.duration=a.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return s.attributes=e,s.segments=a,n.base&&e.indexRange&&(s.sidx=a[0],s.segments=[]),s},at=function(t,e){return H(t.childNodes).filter((function(t){return t.tagName===e}))},ot=function(t){return t.textContent.trim()},lt=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var r=e.slice(1),i=r[0],n=r[1],s=r[2],a=r[3],o=r[4],l=r[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(n||0)+86400*parseFloat(s||0)+3600*parseFloat(a||0)+60*parseFloat(o||0)+parseFloat(l||0)},ut={mediaPresentationDuration:function(t){return lt(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return lt(t)},suggestedPresentationDelay:function(t){return lt(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return lt(t)},start:function(t){return lt(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?lt(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},ht=function(t){return t&&t.attributes?H(t.attributes).reduce((function(t,e){var r=ut[e.name]||ut.DEFAULT;return t[e.name]=r(e.value),t}),{}):{}},ct={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},pt=function(t,e){return e.length?q(t.map((function(t){return e.map((function(e){return N()(t,ot(e))}))}))):t},dt=function(t){var e=at(t,"SegmentTemplate")[0],r=at(t,"SegmentList")[0],i=r&&at(r,"SegmentURL").map((function(t){return V({tag:"SegmentURL"},ht(t))})),n=at(t,"SegmentBase")[0],s=r||e,a=s&&at(s,"SegmentTimeline")[0],o=r||n||e,l=o&&at(o,"Initialization")[0],u=e&&ht(e);u&&l?u.initialization=l&&ht(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var h={template:u,timeline:a&&at(a,"S").map((function(t){return ht(t)})),list:r&&V(ht(r),{segmentUrls:i,initialization:ht(l)}),base:n&&V(ht(n),{initialization:ht(l)})};return Object.keys(h).forEach((function(t){h[t]||delete h[t]})),h},ft=function(t,e){void 0===e&&(e={});var r=e,i=r.manifestUri,s=void 0===i?"":i,a=r.NOW,o=void 0===a?Date.now():a,l=r.clientOffset,u=void 0===l?0:l,h=at(t,"Period");if(!h.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var c=ht(t),p=pt([s],at(t,"BaseURL"));return c.sourceDuration=c.mediaPresentationDuration||0,c.NOW=o,c.clientOffset=u,q(h.map(function(t,e){return function(r,i){var s=pt(e,at(r,"BaseURL")),a=ht(r),o=parseInt(a.id,10),l=n.a.isNaN(o)?i:o,u=V(t,{periodIndex:l}),h=at(r,"AdaptationSet"),c=dt(r);return q(h.map(function(t,e,r){return function(i){var n=ht(i),s=pt(e,at(i,"BaseURL")),a=at(i,"Role")[0],o={role:ht(a)},l=V(t,n,o),u=at(i,"ContentProtection").reduce((function(t,e){var r=ht(e),i=ct[r.schemeIdUri];if(i){t[i]={attributes:r};var n=at(e,"cenc:pssh")[0];if(n){var s=ot(n),a=s&&F()(s);t[i].pssh=a}}return t}),{});Object.keys(u).length&&(l=V(l,{contentProtection:u}));var h=dt(i),c=at(i,"Representation"),p=V(r,h);return q(c.map(function(t,e,r){return function(i){var n=at(i,"BaseURL"),s=pt(e,n),a=V(t,ht(i)),o=dt(i);return s.map((function(t){return{segmentInfo:V(r,o),attributes:V(a,{baseUrl:t})}}))}}(l,s,p)))}}(u,s,c)))}}(c,p)))},mt=function(t){if(""===t)throw new Error("DASH_EMPTY_MANIFEST");var e=(new U.DOMParser).parseFromString(t,"application/xml"),r=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return r},gt=function(t,e){return void 0===e&&(e={}),function(t,e){var r;if(void 0===e&&(e={}),!t.length)return{};var i=t[0].attributes,n=i.sourceDuration,s=i.type,a=void 0===s?"static":s,o=i.suggestedPresentationDelay,l=i.minimumUpdatePeriod,u=void 0===l?0:l,h=K(t.filter((function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType}))).map(J),c=K(t.filter((function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType}))),p=t.filter((function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType})),d={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:n,playlists:$(h,e),minimumUpdatePeriod:1e3*u};return"dynamic"===a&&(d.suggestedPresentationDelay=o),c.length&&(d.mediaGroups.AUDIO.audio=function(t,e){var r;void 0===e&&(e={});var i=t.reduce((function(t,i){var n=i.attributes.role&&i.attributes.role.value||"",s=i.attributes.lang||"",a="main";if(s){var o=n?" ("+n+")":"";a=""+i.attributes.lang+o}return t[a]&&t[a].playlists[0].attributes.BANDWIDTH>i.attributes.bandwidth||(t[a]={language:s,autoselect:!0,default:"main"===n,playlists:$([Q(i)],e),uri:""},void 0===r&&"main"===n&&((r=i).default=!0)),t}),{});return r||(i[Object.keys(i)[0]].default=!0),i}(c,e)),p.length&&(d.mediaGroups.SUBTITLES.subs=function(t,e){return void 0===e&&(e={}),t.reduce((function(t,r){var i,n,s,a,o=r.attributes.lang||"text";return t[o]||(t[o]={language:o,default:!1,autoselect:!1,playlists:$([(i=r,s=i.attributes,a=i.segments,void 0===a&&(a=[{uri:s.baseUrl,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",duration:s.sourceDuration,number:0}],s.duration=s.sourceDuration),{attributes:(n={NAME:s.id,BANDWIDTH:s.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(s.type||"static"),timeline:s.periodIndex,resolvedUri:s.baseUrl||"",targetDuration:s.duration,segments:a,mediaSequence:a.length?a[0].number:1})],e),uri:""}),t}),{})}(p,e)),d}(ft(mt(t),e).map(st),e.sidxMapping)},yt=r(38),vt=r.n(yt),_t=r(24),bt=r.n(_t),Tt=r(103),St=r.n(Tt),Et=r(104),wt=r.n(Et),kt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},xt=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Ct=null,At=function(){function t(e){kt(this,t),Ct||(Ct=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],r=t[1],i=e[4],n=r[4],s=void 0,a=void 0,o=void 0,l=[],u=[],h=void 0,c=void 0,p=void 0,d=void 0,f=void 0;for(s=0;s<256;s++)u[(l[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!i[a];a^=h||1,o=u[o]||1)for(p=(p=o^o<<1^o<<2^o<<3^o<<4)>>8^255&p^99,i[a]=p,n[p]=a,f=16843009*l[c=l[h=l[a]]]^65537*c^257*h^16843008*a,d=257*l[p]^16843008*p,s=0;s<4;s++)e[s][a]=d=d<<24^d>>>8,r[s][p]=f=f<<24^f>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),r[s]=r[s].slice(0);return t}()),this._tables=[[Ct[0][0].slice(),Ct[0][1].slice(),Ct[0][2].slice(),Ct[0][3].slice(),Ct[0][4].slice()],[Ct[1][0].slice(),Ct[1][1].slice(),Ct[1][2].slice(),Ct[1][3].slice(),Ct[1][4].slice()]];var r=void 0,i=void 0,n=void 0,s=void 0,a=void 0,o=this._tables[0][4],l=this._tables[1],u=e.length,h=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(s=e.slice(0),a=[],this._key=[s,a],r=u;r<4*u+28;r++)n=s[r-1],(r%u==0||8===u&&r%u==4)&&(n=o[n>>>24]<<24^o[n>>16&255]<<16^o[n>>8&255]<<8^o[255&n],r%u==0&&(n=n<<8^n>>>24^h<<24,h=h<<1^283*(h>>7))),s[r]=s[r-u]^n;for(i=0;r;i++,r--)n=s[3&i?r:r-4],a[i]=r<=4||i<4?n:l[0][o[n>>>24]]^l[1][o[n>>16&255]]^l[2][o[n>>8&255]]^l[3][o[255&n]]}return t.prototype.decrypt=function(t,e,r,i,n,s){var a=this._key[1],o=t^a[0],l=i^a[1],u=r^a[2],h=e^a[3],c=void 0,p=void 0,d=void 0,f=a.length/4-2,m=void 0,g=4,y=this._tables[1],v=y[0],_=y[1],b=y[2],T=y[3],S=y[4];for(m=0;m<f;m++)c=v[o>>>24]^_[l>>16&255]^b[u>>8&255]^T[255&h]^a[g],p=v[l>>>24]^_[u>>16&255]^b[h>>8&255]^T[255&o]^a[g+1],d=v[u>>>24]^_[h>>16&255]^b[o>>8&255]^T[255&l]^a[g+2],h=v[h>>>24]^_[o>>16&255]^b[l>>8&255]^T[255&u]^a[g+3],g+=4,o=c,l=p,u=d;for(m=0;m<4;m++)n[(3&-m)+s]=S[o>>>24]<<24^S[l>>16&255]<<16^S[u>>8&255]<<8^S[255&h]^a[g++],c=o,o=l,l=u,u=h,h=c},t}(),Pt=function(){function t(){kt(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var r=this.listeners[t].indexOf(e);return this.listeners[t].splice(r,1),r>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var r=e.length,i=0;i<r;++i)e[i].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),s=e.length,a=0;a<s;++a)e[a].apply(this,n)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),Dt=function(t){function e(){kt(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,Pt));return r.jobs=[],r.delay=1,r.timeout_=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(Pt),It=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},Mt=function(t,e,r){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),n=new At(Array.prototype.slice.call(e)),s=new Uint8Array(t.byteLength),a=new Int32Array(s.buffer),o=void 0,l=void 0,u=void 0,h=void 0,c=void 0,p=void 0,d=void 0,f=void 0,m=void 0;for(o=r[0],l=r[1],u=r[2],h=r[3],m=0;m<i.length;m+=4)c=It(i[m]),p=It(i[m+1]),d=It(i[m+2]),f=It(i[m+3]),n.decrypt(c,p,d,f,a,m),a[m]=It(a[m]^o),a[m+1]=It(a[m+1]^l),a[m+2]=It(a[m+2]^u),a[m+3]=It(a[m+3]^h),o=c,l=p,u=d,h=f;return s},Ot=function(){function t(e,r,i,n){kt(this,t);var s=t.STEP,a=new Int32Array(e.buffer),o=new Uint8Array(e.byteLength),l=0;for(this.asyncStream_=new Dt,this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+s),r,i,o)),l=s;l<a.length;l+=s)i=new Uint32Array([It(a[l-4]),It(a[l-3]),It(a[l-2]),It(a[l-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+s),r,i,o));this.asyncStream_.push((function(){var t;n(null,(t=o).subarray(0,t.byteLength-t[t.byteLength-1]))}))}return t.prototype.decryptChunk_=function(t,e,r,i){return function(){var n=Mt(t,e,r);i.set(n,t.byteOffset)}},xt(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}(),Lt=[],Rt=function(t,e){return function(r,i,s){var a=e.levels[i],o=new RegExp("^("+a+")$");if("log"!==r&&s.unshift(r.toUpperCase()+":"),s.unshift(t+":"),Lt){Lt.push([].concat(s));var l=Lt.length-1e3;Lt.splice(0,l>0?l:0)}if(n.a.console){var u=n.a.console[r];u||"debug"!==r||(u=n.a.console.info||n.a.console.log),u&&a&&o.test(r)&&u[Array.isArray(s)?"apply":"call"](n.a.console,s)}}},Nt=function t(e){var r,i="info",n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r("log",i,e)};return r=Rt(e,n),n.createLogger=function(r){return t(e+": "+r)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},n.level=function(t){if("string"==typeof t){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');i=t}return i},(n.history=function(){return Lt?[].concat(Lt):[]}).filter=function(t){return(Lt||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},n.history.clear=function(){Lt&&(Lt.length=0)},n.history.disable=function(){null!==Lt&&(Lt.length=0,Lt=null)},n.history.enable=function(){null===Lt&&(Lt=[])},n.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("error",i,e)},n.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("warn",i,e)},n.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("debug",i,e)},n}("VIDEOJS"),Bt=Nt.createLogger,Ft=Object.prototype.toString,Ut=function(t){return qt(t)?Object.keys(t):[]};function jt(t,e){Ut(t).forEach((function(r){return e(t[r],r)}))}function Vt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Object.assign?l.a.apply(void 0,[t].concat(r)):(r.forEach((function(e){e&&jt(e,(function(e,r){t[r]=e}))})),t)}function qt(t){return!!t&&"object"==typeof t}function Ht(t){return qt(t)&&"[object Object]"===Ft.call(t)&&t.constructor===Object}function zt(t,e){if(!t||!e)return"";if("function"==typeof n.a.getComputedStyle){var r=n.a.getComputedStyle(t);return r?r.getPropertyValue(e)||r[e]:""}return""}function Gt(t){return"string"==typeof t&&Boolean(t.trim())}function Wt(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Yt(){return a.a===n.a.document}function Xt(t){return qt(t)&&1===t.nodeType}function Kt(){try{return n.a.parent!==n.a.self}catch(t){return!0}}function $t(t){return function(e,r){if(!Gt(e))return a.a[t](null);Gt(r)&&(r=a.a.querySelector(r));var i=Xt(r)?r:a.a;return i[t]&&i[t](e)}}function Qt(t,e,r,i){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===r&&(r={});var n=a.a.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var r=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(Nt.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+r+"."),n.setAttribute(t,r)):"textContent"===t?Jt(n,r):n[t]!==r&&(n[t]=r)})),Object.getOwnPropertyNames(r).forEach((function(t){n.setAttribute(t,r[t])})),i&&ye(n,i),n}function Jt(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function Zt(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function te(t,e){return Wt(e),t.classList?t.classList.contains(e):(r=e,new RegExp("(^|\\s)"+r+"($|\\s)")).test(t.className);var r}function ee(t,e){return t.classList?t.classList.add(e):te(t,e)||(t.className=(t.className+" "+e).trim()),t}function re(t,e){return t.classList?t.classList.remove(e):(Wt(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function ie(t,e,r){var i=te(t,e);if("function"==typeof r&&(r=r(t,e)),"boolean"!=typeof r&&(r=!i),r!==i)return r?ee(t,e):re(t,e),t}function ne(t,e){Object.getOwnPropertyNames(e).forEach((function(r){var i=e[r];null==i||!1===i?t.removeAttribute(r):t.setAttribute(r,!0===i?"":i)}))}function se(t){var e={};if(t&&t.attributes&&t.attributes.length>0)for(var r=t.attributes,i=r.length-1;i>=0;i--){var n=r[i].name,s=r[i].value;"boolean"!=typeof t[n]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+n+",")||(s=null!==s),e[n]=s}return e}function ae(t,e){return t.getAttribute(e)}function oe(t,e,r){t.setAttribute(e,r)}function le(t,e){t.removeAttribute(e)}function ue(){a.a.body.focus(),a.a.onselectstart=function(){return!1}}function he(){a.a.onselectstart=function(){return!0}}function ce(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(r[t]=e[t])})),r.height||(r.height=parseFloat(zt(t,"height"))),r.width||(r.width=parseFloat(zt(t,"width"))),r}}function pe(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var r=a.a.documentElement,i=a.a.body,s=r.clientLeft||i.clientLeft||0,o=n.a.pageXOffset||i.scrollLeft,l=e.left+o-s,u=r.clientTop||i.clientTop||0,h=n.a.pageYOffset||i.scrollTop,c=e.top+h-u;return{left:Math.round(l),top:Math.round(c)}}function de(t,e){var r={},i=pe(t),n=t.offsetWidth,s=t.offsetHeight,a=i.top,o=i.left,l=e.pageY,u=e.pageX;return e.changedTouches&&(u=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a-l+s)/s)),r.x=Math.max(0,Math.min(1,(u-o)/n)),r}function fe(t){return qt(t)&&3===t.nodeType}function me(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function ge(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),Xt(t)||fe(t)?t:"string"==typeof t&&/\S/.test(t)?a.a.createTextNode(t):void 0})).filter((function(t){return t}))}function ye(t,e){return ge(e).forEach((function(e){return t.appendChild(e)})),t}function ve(t,e){return ye(me(t),e)}function _e(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var be,Te=$t("querySelector"),Se=$t("querySelectorAll"),Ee=Object.freeze({isReal:Yt,isEl:Xt,isInFrame:Kt,createEl:Qt,textContent:Jt,prependTo:Zt,hasClass:te,addClass:ee,removeClass:re,toggleClass:ie,setAttributes:ne,getAttributes:se,getAttribute:ae,setAttribute:oe,removeAttribute:le,blockTextSelection:ue,unblockTextSelection:he,getBoundingClientRect:ce,findPosition:pe,getPointerPosition:de,isTextNode:fe,emptyEl:me,normalizeContent:ge,appendContent:ye,insertContent:ve,isSingleLeftClick:_e,$:Te,$$:Se}),we=!1,ke=function(){if(Yt()&&!1!==be.options.autoSetup){var t=Array.prototype.slice.call(a.a.getElementsByTagName("video")),e=Array.prototype.slice.call(a.a.getElementsByTagName("audio")),r=Array.prototype.slice.call(a.a.getElementsByTagName("video-js")),i=t.concat(e,r);if(i&&i.length>0)for(var n=0,s=i.length;n<s;n++){var o=i[n];if(!o||!o.getAttribute){xe(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&be(o)}else we||xe(1)}};function xe(t,e){e&&(be=e),n.a.setTimeout(ke,t)}function Ce(){we=!0,n.a.removeEventListener("load",Ce)}Yt()&&("complete"===a.a.readyState?Ce():n.a.addEventListener("load",Ce));var Ae,Pe=function(t){var e=a.a.createElement("style");return e.className=t,e},De=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},Ie=3;function Me(){return Ie++}n.a.WeakMap||(Ae=function(){function t(){this.vdata="vdata"+Math.floor(n.a.performance&&n.a.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(t,e){var r=t[this.vdata]||Me();return t[this.vdata]||(t[this.vdata]=r),this.data[r]=e,this},e.get=function(t){var e=t[this.vdata];if(e)return this.data[e];Nt("We have no data for this element",t)},e.has=function(t){return t[this.vdata]in this.data},e.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},t}());var Oe,Le=n.a.WeakMap?new WeakMap:new Ae;function Re(t,e){if(Le.has(t)){var r=Le.get(t);0===r.handlers[e].length&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&Le.delete(t)}}function Ne(t,e,r,i){r.forEach((function(r){t(e,r,i)}))}function Be(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped){var i=t||n.a.event;for(var s in t={},i)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&("returnValue"===s&&i.preventDefault||(t[s]=i[s]));if(t.target||(t.target=t.srcElement||a.a),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,null!==t.clientX&&void 0!==t.clientX){var o=a.a.documentElement,l=a.a.body;t.pageX=t.clientX+(o&&o.scrollLeft||l&&l.scrollLeft||0)-(o&&o.clientLeft||l&&l.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||l&&l.scrollTop||0)-(o&&o.clientTop||l&&l.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}var Fe=function(){if("boolean"!=typeof Oe){Oe=!1;try{var t=Object.defineProperty({},"passive",{get:function(){Oe=!0}});n.a.addEventListener("test",null,t),n.a.removeEventListener("test",null,t)}catch(t){}}return Oe},Ue=["touchstart","touchmove"];function je(t,e,r){if(Array.isArray(e))return Ne(je,t,e,r);Le.has(t)||Le.set(t,{});var i=Le.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),r.guid||(r.guid=Me()),i.handlers[e].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,r){if(!i.disabled){e=Be(e);var n=i.handlers[e.type];if(n)for(var s=n.slice(0),a=0,o=s.length;a<o&&!e.isImmediatePropagationStopped();a++)try{s[a].call(t,e,r)}catch(t){Nt.error(t)}}}),1===i.handlers[e].length)if(t.addEventListener){var n=!1;Fe()&&Ue.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,i.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function Ve(t,e,r){if(Le.has(t)){var i=Le.get(t);if(i.handlers){if(Array.isArray(e))return Ne(Ve,t,e,r);var n=function(t,e){i.handlers[e]=[],Re(t,e)};if(void 0!==e){var s=i.handlers[e];if(s)if(r){if(r.guid)for(var a=0;a<s.length;a++)s[a].guid===r.guid&&s.splice(a--,1);Re(t,e)}else n(t,e)}else for(var o in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},o)&&n(t,o)}}}function qe(t,e,r){var i=Le.has(t)?Le.get(t):{},n=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Be(e),i.dispatcher&&i.dispatcher.call(t,e,r),n&&!e.isPropagationStopped()&&!0===e.bubbles)qe.call(null,n,e,r);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){Le.has(e.target)||Le.set(e.target,{});var s=Le.get(e.target);e.target[e.type]&&(s.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function He(t,e,r){if(Array.isArray(e))return Ne(He,t,e,r);var i=function i(){Ve(t,e,i),r.apply(this,arguments)};i.guid=r.guid=r.guid||Me(),je(t,e,i)}function ze(t,e,r){var i=function i(){Ve(t,e,i),r.apply(this,arguments)};i.guid=r.guid=r.guid||Me(),je(t,e,i)}var Ge,We=Object.freeze({fixEvent:Be,on:je,off:Ve,trigger:qe,one:He,any:ze}),Ye=function(t,e,r){e.guid||(e.guid=Me());var i=e.bind(t);return i.guid=r?r+"_"+e.guid:e.guid,i},Xe=function(t,e){var r=n.a.performance.now();return function(){var i=n.a.performance.now();i-r>=e&&(t.apply(void 0,arguments),r=i)}},Ke=function(){};Ke.prototype.allowedEvents_={},Ke.prototype.on=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},je(this,t,e),this.addEventListener=r},Ke.prototype.addEventListener=Ke.prototype.on,Ke.prototype.off=function(t,e){Ve(this,t,e)},Ke.prototype.removeEventListener=Ke.prototype.off,Ke.prototype.one=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},He(this,t,e),this.addEventListener=r},Ke.prototype.any=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},ze(this,t,e),this.addEventListener=r},Ke.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=Be(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),qe(this,t)},Ke.prototype.dispatchEvent=Ke.prototype.trigger,Ke.prototype.queueTrigger=function(t){var e=this;Ge||(Ge=new Map);var r=t.type||t,i=Ge.get(this);i||(i=new Map,Ge.set(this,i));var s=i.get(r);i.delete(r),n.a.clearTimeout(s);var a=n.a.setTimeout((function(){0===i.size&&(i=null,Ge.delete(e)),e.trigger(t)}),0);i.set(r,a)};var $e=function(t){return t instanceof Ke||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))},Qe=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},Je=function(t){if(!t.nodeName&&!$e(t))throw new Error("Invalid target; must be a DOM node or evented object.")},Ze=function(t){if(!Qe(t))throw new Error("Invalid event type; must be a non-empty string or array.")},tr=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},er=function(t,e){var r,i,n,s=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return s?(r=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],n=e[1]):(r=e[0],i=e[1],n=e[2]),Je(r),Ze(i),tr(n),{isTargetingSelf:s,target:r,type:i,listener:n=Ye(t,n)}},rr=function(t,e,r,i){Je(t),t.nodeName?We[e](t,r,i):t[e](r,i)},ir={on:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var n=er(this,r),s=n.isTargetingSelf,a=n.target,o=n.type,l=n.listener;if(rr(a,"on",o,l),!s){var u=function(){return t.off(a,o,l)};u.guid=l.guid;var h=function(){return t.off("dispose",u)};h.guid=l.guid,rr(this,"on","dispose",u),rr(a,"on","dispose",h)}},one:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var n=er(this,r),s=n.isTargetingSelf,a=n.target,o=n.type,l=n.listener;if(s)rr(a,"one",o,l);else{var u=function e(){t.off(a,o,e);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];l.apply(null,i)};u.guid=l.guid,rr(a,"one",o,u)}},any:function(){for(var t=this,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var n=er(this,r),s=n.isTargetingSelf,a=n.target,o=n.type,l=n.listener;if(s)rr(a,"any",o,l);else{var u=function e(){t.off(a,o,e);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];l.apply(null,i)};u.guid=l.guid,rr(a,"any",o,u)}},off:function(t,e,r){if(!t||Qe(t))Ve(this.eventBusEl_,t,e);else{var i=t,n=e;Je(i),Ze(n),tr(r),r=Ye(this,r),this.off("dispose",r),i.nodeName?(Ve(i,n,r),Ve(i,"dispose",r)):$e(i)&&(i.off(n,r),i.off("dispose",r))}},trigger:function(t,e){return qe(this.eventBusEl_,t,e)}};function nr(t,e){void 0===e&&(e={});var r=e.eventBusKey;if(r){if(!t[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');t.eventBusEl_=t[r]}else t.eventBusEl_=Qt("span",{className:"vjs-event-bus"});return Vt(t,ir),t.eventedCallbacks&&t.eventedCallbacks.forEach((function(t){t()})),t.on("dispose",(function(){t.off(),n.a.setTimeout((function(){t.eventBusEl_=null}),0)})),t}var sr={state:{},setState:function(t){var e,r=this;return"function"==typeof t&&(t=t()),jt(t,(function(t,i){r.state[i]!==t&&((e=e||{})[i]={from:r.state[i],to:t}),r.state[i]=t})),e&&$e(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function ar(t,e){return Vt(t,sr),t.state=Vt({},t.state,e),"function"==typeof t.handleStateChanged&&$e(t)&&t.on("statechanged",t.handleStateChanged),t}var or=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},lr=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))};function ur(){for(var t={},e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.forEach((function(e){e&&jt(e,(function(e,r){Ht(e)?(Ht(t[r])||(t[r]={}),t[r]=ur(t[r],e)):t[r]=e}))})),t}var hr=function(){function t(t,e,r){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ur({},this.options_),e=this.options_=ur(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+Me()}var s;this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&nr(this,{eventBusKey:this.el_?"el_":null}),ar(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.a.Set||(s=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var r in this.set_)t.call(e,r,r,this)},t}()),this.setTimeoutIds_=n.a.Set?new Set:new s,this.setIntervalIds_=n.a.Set?new Set:new s,this.rafIds_=n.a.Set?new Set:new s,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(r),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Le.has(this.el_)&&Le.delete(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(t){return t?(this.options_=ur(this.options_,t),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(t,e,r){return Qt(t,e,r)},e.localize=function(t,e,r){void 0===r&&(r=t);var i=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages(),s=n&&n[i],a=i&&i.split("-")[0],o=n&&n[a],l=r;return s&&s[t]?l=s[t]:o&&o[t]&&(l=o[t]),e&&(l=l.replace(/\{(\d+)\}/g,(function(t,r){var i=e[r-1],n=i;return void 0===i&&(n=t),n}))),l},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=function(t){if(t)return this.childNameIndex_[t]},e.addChild=function(e,r,i){var n,s;if(void 0===r&&(r={}),void 0===i&&(i=this.children_.length),"string"==typeof e){s=lr(e);var a=r.componentClass||s;r.name=s;var o=t.getComponent(a);if(!o)throw new Error("Component "+a+" does not exist");if("function"!=typeof o)return null;n=new o(this.player_||this,r)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(i,0,n),n.parentComponent_=this,"function"==typeof n.id&&(this.childIndex_[n.id()]=n),(s=s||n.name&&lr(n.name()))&&(this.childNameIndex_[s]=n,this.childNameIndex_[or(s)]=n),"function"==typeof n.el&&n.el()){var l=null;this.children_[i+1]&&this.children_[i+1].el_&&(l=this.children_[i+1].el_),this.contentEl().insertBefore(n.el(),l)}return n},e.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===t){e=!0,this.children_.splice(r,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[lr(t.name())]=null,this.childNameIndex_[or(t.name())]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.initChildren=function(){var e=this,r=this.options_.children;if(r){var i,n=this.options_,s=t.getComponent("Tech");(i=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(this.options_).filter((function(t){return!i.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(t){var i,n;return"string"==typeof t?n=r[i=t]||e.options_[i]||{}:(i=t.name,n=t),{name:i,opts:n}})).filter((function(e){var r=t.getComponent(e.opts.componentClass||lr(e.name));return r&&!s.isTech(r)})).forEach((function(t){var r=t.name,i=t.opts;if(void 0!==n[r]&&(i=n[r]),!1!==i){!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var s=e.addChild(r,i);s&&(e[r]=s)}}))}},e.buildCSSClass=function(){return""},e.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},e.$=function(t,e){return Te(t,e||this.contentEl())},e.$$=function(t,e){return Se(t,e||this.contentEl())},e.hasClass=function(t){return te(this.el_,t)},e.addClass=function(t){ee(this.el_,t)},e.removeClass=function(t){re(this.el_,t)},e.toggleClass=function(t,e){ie(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(t){return ae(this.el_,t)},e.setAttribute=function(t,e){oe(this.el_,t,e)},e.removeAttribute=function(t){le(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=function(t,e){return this.dimension("height",t,e)},e.dimensions=function(t,e){this.width(t,!0),this.height(e)},e.dimension=function(t,e,r){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],n=i.indexOf("px");return-1!==n?parseInt(i.slice(0,n),10):parseInt(this.el_["offset"+lr(t)],10)},e.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=zt(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var r="offset"+lr(t);e=this.el_[r]}return e},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},e.handleKeyPress=function(t){this.handleKeyDown(t)},e.emitTapEvents=function(){var t,e=0,r=null;this.on("touchstart",(function(i){1===i.touches.length&&(r={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},e=n.a.performance.now(),t=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)t=!1;else if(r){var i=e.touches[0].pageX-r.pageX,n=e.touches[0].pageY-r.pageY;Math.sqrt(i*i+n*n)>10&&(t=!1)}}));var i=function(){t=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",(function(i){r=null,!0===t&&n.a.performance.now()-e<200&&(i.preventDefault(),this.trigger("tap"))}))},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=Ye(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var r=function(r){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}},e.setTimeout=function(t,e){var r,i=this;return t=Ye(this,t),this.clearTimersOnDispose_(),r=n.a.setTimeout((function(){i.setTimeoutIds_.has(r)&&i.setTimeoutIds_.delete(r),t()}),e),this.setTimeoutIds_.add(r),r},e.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),n.a.clearTimeout(t)),t},e.setInterval=function(t,e){t=Ye(this,t),this.clearTimersOnDispose_();var r=n.a.setInterval(t,e);return this.setIntervalIds_.add(r),r},e.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),n.a.clearInterval(t)),t},e.requestAnimationFrame=function(t){var e,r=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=Ye(this,t),e=n.a.requestAnimationFrame((function(){r.rafIds_.has(e)&&r.rafIds_.delete(e),t()})),this.rafIds_.add(e),e):this.setTimeout(t,1e3/60)},e.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_.delete(t),n.a.cancelAnimationFrame(t)),t):this.clearTimeout(t)},e.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){var r=e[0],i=e[1];t[r].forEach(t[i],t)})),t.clearingTimersOnDispose_=!1})))},t.registerComponent=function(e,r){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i=t.getComponent("Tech"),n=i&&i.isTech(r),s=t===r||t.prototype.isPrototypeOf(r.prototype);if(n||!s)throw new Error('Illegal component, "'+e+'"; '+(n?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");e=lr(e),t.components_||(t.components_={});var a=t.getComponent("Player");if("Player"===e&&a&&a.players){var o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map((function(t){return o[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=r,t.components_[or(e)]=r,r},t.getComponent=function(e){if(e&&t.components_)return t.components_[e]},t}();hr.prototype.supportsRaf_="function"==typeof n.a.requestAnimationFrame&&"function"==typeof n.a.cancelAnimationFrame,hr.registerComponent("Component",hr);var cr,pr=n.a.navigator&&n.a.navigator.userAgent||"",dr=/AppleWebKit\/([\d.]+)/i.exec(pr),fr=dr?parseFloat(dr.pop()):null,mr=/iPod/i.test(pr),gr=(cr=pr.match(/OS (\d+)_/i))&&cr[1]?cr[1]:null,yr=/Android/i.test(pr),vr=function(){var t=pr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),r=t[2]&&parseFloat(t[2]);return e&&r?parseFloat(t[1]+"."+t[2]):e||null}(),_r=yr&&vr<5&&fr<537,br=/Firefox/i.test(pr),Tr=/Edge/i.test(pr),Sr=!Tr&&(/Chrome/i.test(pr)||/CriOS/i.test(pr)),Er=function(){var t=pr.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),wr=function(){var t=/MSIE\s(\d+)\.\d/.exec(pr),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(pr)&&/rv:11.0/.test(pr)&&(e=11),e}(),kr=/Safari/i.test(pr)&&!Sr&&!yr&&!Tr,xr=/Windows/i.test(pr),Cr=Yt()&&("ontouchstart"in n.a||n.a.navigator.maxTouchPoints||n.a.DocumentTouch&&n.a.document instanceof n.a.DocumentTouch),Ar=/iPad/i.test(pr)||kr&&Cr&&!/iPhone/i.test(pr),Pr=/iPhone/i.test(pr)&&!Ar,Dr=Pr||Ar||mr,Ir=(kr||Dr)&&!Sr,Mr=Object.freeze({IS_IPOD:mr,IOS_VERSION:gr,IS_ANDROID:yr,ANDROID_VERSION:vr,IS_NATIVE_ANDROID:_r,IS_FIREFOX:br,IS_EDGE:Tr,IS_CHROME:Sr,CHROME_VERSION:Er,IE_VERSION:wr,IS_SAFARI:kr,IS_WINDOWS:xr,TOUCH_ENABLED:Cr,IS_IPAD:Ar,IS_IPHONE:Pr,IS_IOS:Dr,IS_ANY_SAFARI:Ir});function Or(t,e,r,i){return function(t,e,r){if("number"!=typeof e||e<0||e>r)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+r+").")}(t,i,r.length-1),r[i][e]}function Lr(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:Or.bind(null,"start",0,t),end:Or.bind(null,"end",1,t)}}function Rr(t,e){return Array.isArray(t)?Lr(t):void 0===t||void 0===e?Lr():Lr([[t,e]])}function Nr(t,e){var r,i,n=0;if(!e)return 0;t&&t.length||(t=Rr(0,0));for(var s=0;s<t.length;s++)r=t.start(s),(i=t.end(s))>e&&(i=e),n+=i-r;return n/e}for(var Br,Fr={prefixed:!0},Ur=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],jr=Ur[0],Vr=0;Vr<Ur.length;Vr++)if(Ur[Vr][1]in a.a){Br=Ur[Vr];break}if(Br){for(var qr=0;qr<Br.length;qr++)Fr[jr[qr]]=Br[qr];Fr.prefixed=Br[0]!==jr[0]}function Hr(t){if(t instanceof Hr)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:qt(t)&&("number"==typeof t.code&&(this.code=t.code),Vt(this,t)),this.message||(this.message=Hr.defaultMessages[this.code]||"")}Hr.prototype.code=0,Hr.prototype.message="",Hr.prototype.status=null,Hr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Hr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var zr=0;zr<Hr.errorTypes.length;zr++)Hr[Hr.errorTypes[zr]]=zr,Hr.prototype[Hr.errorTypes[zr]]=zr;function Gr(t){return null!=t&&"function"==typeof t.then}function Wr(t){Gr(t)&&t.then(null,(function(t){}))}var Yr=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,r,i){return t[r]&&(e[r]=t[r]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},Xr="vjs-modal-dialog",Kr=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=Qt("div",{className:Xr+"-content"},{role:"document"}),i.descEl_=Qt("p",{className:Xr+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),Jt(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}p()(e,t);var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},r.buildCSSClass=function(){return Xr+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,r=this.getChild("closeButton");if(e&&!r){var i=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(r,"close",this.close)}!e&&r&&(this.off(r,"close",this.close),this.removeChild(r),r.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var e=this.contentEl(),r=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(e),this.empty(),ve(e,t),this.trigger("modalfill"),i?r.insertBefore(e,i):r.appendChild(e);var n=this.getChild("closeButton");n&&r.appendChild(n.el_)},r.empty=function(){this.trigger("beforemodalempty"),me(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return void 0!==t&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var t=a.a.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(t){if(t.stopPropagation(),g.a.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(g.a.isEventKey(t,"Tab")){for(var e,r=this.focusableEls_(),i=this.el_.querySelector(":focus"),n=0;n<r.length;n++)if(i===r[n]){e=n;break}a.a.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(r[r.length-1].focus(),t.preventDefault()):t.shiftKey||e!==r.length-1||(r[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof n.a.HTMLAnchorElement||t instanceof n.a.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof n.a.HTMLInputElement||t instanceof n.a.HTMLSelectElement||t instanceof n.a.HTMLTextAreaElement||t instanceof n.a.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof n.a.HTMLIFrameElement||t instanceof n.a.HTMLObjectElement||t instanceof n.a.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},e}(hr);Kr.prototype.options_={pauseOnOpen:!0,temporary:!0},hr.registerComponent("ModalDialog",Kr);var $r=function(t){function e(e){var r;void 0===e&&(e=[]),(r=t.call(this)||this).tracks_=[],Object.defineProperty(h()(r),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)r.addTrack(e[i]);return r}p()(e,t);var r=e.prototype;return r.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},r.removeTrack=function(t){for(var e,r=0,i=this.length;r<i;r++)if(this[r]===t){(e=this[r]).off&&e.off(),this.tracks_.splice(r,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},r.getTrackById=function(t){for(var e=null,r=0,i=this.length;r<i;r++){var n=this[r];if(n.id===t){e=n;break}}return e},e}(Ke);for(var Qr in $r.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},$r.prototype.allowedEvents_)$r.prototype["on"+Qr]=null;var Jr=function(t,e){for(var r=0;r<t.length;r++)Object.keys(t[r]).length&&e.id!==t[r].id&&(t[r].enabled=!1)},Zr=function(t){function e(e){var r;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].enabled){Jr(e,e[i]);break}return(r=t.call(this,e)||this).changing_=!1,r}p()(e,t);var r=e.prototype;return r.addTrack=function(e){var r=this;e.enabled&&Jr(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){r.changing_||(r.changing_=!0,Jr(r,e),r.changing_=!1,r.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},r.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}($r),ti=function(t,e){for(var r=0;r<t.length;r++)Object.keys(t[r]).length&&e.id!==t[r].id&&(t[r].selected=!1)},ei=function(t){function e(e){var r;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].selected){ti(e,e[i]);break}return(r=t.call(this,e)||this).changing_=!1,Object.defineProperty(h()(r),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),r}p()(e,t);var r=e.prototype;return r.addTrack=function(e){var r=this;e.selected&&ti(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){r.changing_||(r.changing_=!0,ti(r,e),r.changing_=!1,r.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},r.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}($r),ri=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var r=e.prototype;return r.addTrack=function(e){var r=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return r.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return r.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}($r),ii=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,r=t.length;e<r;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,r=0,i=this.trackElements_.length;r<i;r++)if(t===this.trackElements_[r].track){e=this.trackElements_[r];break}return e},e.removeTrackElement_=function(t){for(var e=0,r=this.trackElements_.length;e<r;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),ni=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,r=0,i=t.length;this.cues_=t,this.length_=t.length;var n=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(r=e;r<i;r++)n.call(this,r)},e.getCueById=function(t){for(var e=null,r=0,i=this.length;r<i;r++){var n=this[r];if(n.id===t){e=n;break}}return e},t}(),si={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ai={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},oi={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},li={disabled:"disabled",hidden:"hidden",showing:"showing"},ui=function(t){function e(e){var r;void 0===e&&(e={}),r=t.call(this)||this;var i={id:e.id||"vjs_track_"+Me(),kind:e.kind||"",label:e.label||"",language:e.language||""},n=function(t){Object.defineProperty(h()(r),t,{get:function(){return i[t]},set:function(){}})};for(var s in i)n(s);return r}return p()(e,t),e}(Ke),hi=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],r=a.a.createElement("a");r.href=t;var i,s=""===r.host&&"file:"!==r.protocol;s&&((i=a.a.createElement("div")).innerHTML='<a href="'+t+'"></a>',r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),a.a.body.appendChild(i));for(var o={},l=0;l<e.length;l++)o[e[l]]=r[e[l]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=n.a.location.protocol),s&&a.a.body.removeChild(i),o},ci=function(t){if(!t.match(/^https?:\/\//)){var e=a.a.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},pi=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},di=function(t,e){void 0===e&&(e=n.a.location);var r=hi(t);return(":"===r.protocol?e.protocol:r.protocol)+r.host!==e.protocol+e.host},fi=Object.freeze({parseUrl:hi,getAbsoluteURL:ci,getFileExtension:pi,isCrossOrigin:di}),mi=function(t,e){var r=new n.a.WebVTT.Parser(n.a,n.a.vttjs,n.a.WebVTT.StringDecoder()),i=[];r.oncue=function(t){e.addCue(t)},r.onparsingerror=function(t){i.push(t)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),i.length>0&&(n.a.console&&n.a.console.groupCollapsed&&n.a.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach((function(t){return Nt.error(t)})),n.a.console&&n.a.console.groupEnd&&n.a.console.groupEnd()),r.flush()},gi=function(t,e){var r={uri:t},i=di(t);i&&(r.cors=i),v()(r,Ye(this,(function(t,r,i){if(t)return Nt.error(t,r);e.loaded_=!0,"function"!=typeof n.a.WebVTT?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return mi(i,e);Nt.error("vttjs failed to load, stopping trying to process "+e.src)})):mi(i,e)})))},yi=function(t){function e(e){var r;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var i=ur(e,{kind:oi[e.kind]||"subtitles",language:e.language||e.srclang||""}),n=li[i.mode]||"disabled",s=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(n="hidden"),(r=t.call(this,i)||this).tech_=i.tech,r.cues_=[],r.activeCues_=[],r.preload_=!1!==r.tech_.preloadTextTracks;var a=new ni(r.cues_),o=new ni(r.activeCues_),l=!1,u=Ye(h()(r),(function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)}));return"disabled"!==n&&r.tech_.ready((function(){r.tech_.on("timeupdate",u)}),!0),Object.defineProperties(h()(r),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return n},set:function(t){var e=this;li[t]&&(n=t,this.preload_||"disabled"===n||0!==this.cues.length||gi(this.src,this),"disabled"!==n?this.tech_.ready((function(){e.tech_.on("timeupdate",u)}),!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var t=this.tech_.currentTime(),e=[],r=0,i=this.cues.length;r<i;r++){var n=this.cues[r];(n.startTime<=t&&n.endTime>=t||n.startTime===n.endTime&&n.startTime<=t&&n.startTime+.5>=t)&&e.push(n)}if(l=!1,e.length!==this.activeCues_.length)l=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(l=!0);return this.activeCues_=e,o.setCues_(this.activeCues_),o},set:function(){}}}),i.src?(r.src=i.src,r.preload_||(r.loaded_=!0),(r.preload_||s||"subtitles"!==i.kind&&"captions"!==i.kind)&&gi(r.src,h()(r))):r.loaded_=!0,r}p()(e,t);var r=e.prototype;return r.addCue=function(t){var e=t;if(n.a.vttjs&&!(t instanceof n.a.vttjs.VTTCue)){for(var r in e=new n.a.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)r in e||(e[r]=t[r]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),s=0;s<i.length;s++)i[s]!==this&&i[s].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},r.removeCue=function(t){for(var e=this.cues_.length;e--;){var r=this.cues_[e];if(r===t||r.originalCue_&&r.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(ui);yi.prototype.allowedEvents_={cuechange:"cuechange"};var vi=function(t){function e(e){var r;void 0===e&&(e={});var i=ur(e,{kind:ai[e.kind]||""});r=t.call(this,i)||this;var n=!1;return Object.defineProperty(h()(r),"enabled",{get:function(){return n},set:function(t){"boolean"==typeof t&&t!==n&&(n=t,this.trigger("enabledchange"))}}),i.enabled&&(r.enabled=i.enabled),r.loaded_=!0,r}return p()(e,t),e}(ui),_i=function(t){function e(e){var r;void 0===e&&(e={});var i=ur(e,{kind:si[e.kind]||""});r=t.call(this,i)||this;var n=!1;return Object.defineProperty(h()(r),"selected",{get:function(){return n},set:function(t){"boolean"==typeof t&&t!==n&&(n=t,this.trigger("selectedchange"))}}),i.selected&&(r.selected=i.selected),r}return p()(e,t),e}(ui),bi=function(t){function e(e){var r,i;void 0===e&&(e={}),r=t.call(this)||this;var n=new yi(e);return r.kind=n.kind,r.src=n.src,r.srclang=n.language,r.label=n.label,r.default=n.default,Object.defineProperties(h()(r),{readyState:{get:function(){return i}},track:{get:function(){return n}}}),i=0,n.addEventListener("loadeddata",(function(){i=2,r.trigger({type:"load",target:h()(r)})})),r}return p()(e,t),e}(Ke);bi.prototype.allowedEvents_={load:"load"},bi.NONE=0,bi.LOADING=1,bi.LOADED=2,bi.ERROR=3;var Ti={audio:{ListClass:Zr,TrackClass:vi,capitalName:"Audio"},video:{ListClass:ei,TrackClass:_i,capitalName:"Video"},text:{ListClass:ri,TrackClass:yi,capitalName:"Text"}};Object.keys(Ti).forEach((function(t){Ti[t].getterName=t+"Tracks",Ti[t].privateName=t+"Tracks_"}));var Si={remoteText:{ListClass:ri,TrackClass:yi,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:ii,TrackClass:bi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ei=l()({},Ti,Si);Si.names=Object.keys(Si),Ti.names=Object.keys(Ti),Ei.names=[].concat(Si.names).concat(Ti.names);var wi=function(t){function e(e,r){var i;return void 0===e&&(e={}),void 0===r&&(r=function(){}),e.reportTouchActivity=!1,(i=t.call(this,null,e,r)||this).hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),Ei.names.forEach((function(t){var r=Ei[t];e&&e[r.getterName]&&(i[r.privateName]=e[r.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===e["native"+t+"Tracks"]&&(i["featuresNative"+t+"Tracks"]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==e.preloadTextTracks,i.autoRemoteTextTracks_=new Ei.text.ListClass,i.initTrackListeners(),e.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}p()(e,t);var r=e.prototype;return r.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},r.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ye(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},r.onDurationChange=function(t){this.duration_=this.duration()},r.buffered=function(){return Rr(0,0)},r.bufferedPercent=function(){return Nr(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(Ti.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},r.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var r=e[t+"Tracks"]()||[],i=r.length;i--;){var n=r[i];"text"===t&&e.removeRemoteTextTrack(n),r.removeTrack(n)}}))},r.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var r=t[e];this.removeRemoteTextTrack(r)}},r.reset=function(){},r.error=function(t){return void 0!==t&&(this.error_=new Hr(t),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?Rr(0,0):Rr()},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var t=this;Ti.names.forEach((function(e){var r=Ti[e],i=function(){t.trigger(e+"trackchange")},n=t[r.getterName]();n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),t.on("dispose",(function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)}))}))},r.addWebVttScript_=function(){var t=this;if(!n.a.WebVTT)if(a.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ht(b.a)&&Object.keys(b.a).length>0)return void this.trigger("vttjsloaded");var e=a.a.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){e.onload=null,e.onerror=null})),n.a.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var t=this,e=this.textTracks(),r=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},n=function(t){return e.removeTrack(t.track)};r.on("addtrack",i),r.on("removetrack",n),this.addWebVttScript_();var s=function(){return t.trigger("texttrackchange")},a=function(){s();for(var t=0;t<e.length;t++){var r=e[t];r.removeEventListener("cuechange",s),"showing"===r.mode&&r.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){r.off("addtrack",i),r.off("removetrack",n),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++)e[t].removeEventListener("cuechange",s)}))},r.addTextTrack=function(t,e,r){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,r,i,n){void 0===n&&(n={});var s=t.textTracks();n.kind=e,r&&(n.label=r),i&&(n.language=i),n.tech=t;var a=new Ei.text.TrackClass(n);return s.addTrack(a),a}(this,t,e,r)},r.createRemoteTextTrack=function(t){var e=ur(t,{tech:this});return new Si.remoteTextEl.TrackClass(e)},r.addRemoteTextTrack=function(t,e){var r=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(Nt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready((function(){return r.autoRemoteTextTracks_.addTrack(i.track)})),i},r.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var t=this.options_.Promise||n.a.Promise;if(t)return t.reject()},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,r){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,r){if(e.techs_||(e.techs_={}),!e.isTech(r))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=lr(t),e.techs_[t]=r,e.techs_[or(t)]=r,"Tech"!==t&&e.defaultTechOrder_.push(t),r},e.getTech=function(t){if(t)return e.techs_&&e.techs_[t]?e.techs_[t]:(t=lr(t),n.a&&n.a.videojs&&n.a.videojs[t]?(Nt.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),n.a.videojs[t]):void 0)},e}(hr);Ei.names.forEach((function(t){var e=Ei[t];wi.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),wi.prototype.featuresVolumeControl=!0,wi.prototype.featuresMuteControl=!0,wi.prototype.featuresFullscreenResize=!1,wi.prototype.featuresPlaybackRate=!1,wi.prototype.featuresProgressEvents=!1,wi.prototype.featuresSourceset=!1,wi.prototype.featuresTimeupdateEvents=!1,wi.prototype.featuresNativeTextTracks=!1,wi.withSourceHandlers=function(t){t.registerSourceHandler=function(e,r){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===r&&(r=i.length),i.splice(r,0,e)},t.canPlayType=function(e){for(var r,i=t.sourceHandlers||[],n=0;n<i.length;n++)if(r=i[n].canPlayType(e))return r;return""},t.selectSourceHandler=function(e,r){for(var i=t.sourceHandlers||[],n=0;n<i.length;n++)if(i[n].canHandleSource(e,r))return i[n];return null},t.canPlaySource=function(e,r){var i=t.selectSourceHandler(e,r);return i?i.canHandleSource(e,r):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var r=t.selectSourceHandler(e,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:Nt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),r!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=r.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},hr.registerComponent("Tech",wi),wi.registerTech("Tech",wi),wi.defaultTechOrder_=[];var ki={},xi={},Ci={};function Ai(t,e,r,i){void 0===i&&(i=null);var n="call"+lr(r),s=t.reduce(Mi(n),i),a=s===Ci,o=a?null:e[r](s);return function(t,e,r,i){for(var n=t.length-1;n>=0;n--){var s=t[n];s[e]&&s[e](i,r)}}(t,r,o,a),o}var Pi={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},Di={setCurrentTime:1,setMuted:1,setVolume:1},Ii={play:1,pause:1};function Mi(t){return function(e,r){return e===Ci?Ci:r[t]?r[t](e):e}}var Oi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Li=function(t){void 0===t&&(t="");var e=pi(t);return Oi[e.toLowerCase()]||""};function Ri(t){if(!t.type){var e=Li(t.src);e&&(t.type=e)}return t}var Ni=function(t){function e(e,r,i){var n,s=ur({createEl:!1},r);if(n=t.call(this,e,s,i)||this,r.playerOptions.sources&&0!==r.playerOptions.sources.length)e.src(r.playerOptions.sources);else for(var a=0,o=r.playerOptions.techOrder;a<o.length;a++){var l=lr(o[a]),u=wi.getTech(l);if(l||(u=hr.getComponent(l)),u&&u.isSupported()){e.loadTech_(l);break}}return n}return p()(e,t),e}(hr);hr.registerComponent("MediaLoader",Ni);var Bi=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).emitTapEvents(),i.enable(),i}p()(e,t);var r=e.prototype;return r.createEl=function(e,r,i){void 0===e&&(e="div"),void 0===r&&(r={}),void 0===i&&(i={}),r=Vt({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},r),"button"===e&&Nt.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=Vt({role:"button"},i),this.tabIndex_=r.tabIndex;var n=t.prototype.createEl.call(this,e,r,i);return this.createControlTextEl(n),n},r.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},r.createControlTextEl=function(t){return this.controlTextEl_=Qt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},r.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var r=this.localize(t);this.controlText_=t,Jt(this.controlTextEl_,r),this.nonIconControl||e.setAttribute("title",r)},r.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},r.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(e){g.a.isEventKey(e,"Space")||g.a.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(hr);hr.registerComponent("ClickableComponent",Bi);var Fi=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).update(),e.on("posterchange",Ye(h()(i),i.update)),i}p()(e,t);var r=e.prototype;return r.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},r.createEl=function(){return Qt("div",{className:"vjs-poster",tabIndex:-1})},r.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},r.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},r.handleClick=function(t){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Wr(this.player_.play()):this.player_.pause())},e}(Bi);hr.registerComponent("PosterImage",Fi);var Ui={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ji(t,e){var r;if(4===t.length)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");r=t.slice(1)}return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function Vi(t,e,r){try{t.style[e]=r}catch(t){return}}var qi=function(t){function e(e,r,i){var s;s=t.call(this,e,r,i)||this;var a=Ye(h()(s),s.updateDisplay);return e.on("loadstart",Ye(h()(s),s.toggleDisplay)),e.on("texttrackchange",a),e.on("loadedmetadata",Ye(h()(s),s.preselectTrack)),e.ready(Ye(h()(s),(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",a),e.on("playerresize",a),n.a.addEventListener("orientationchange",a),e.on("dispose",(function(){return n.a.removeEventListener("orientationchange",a)}));for(var t=this.options_.playerOptions.tracks||[],r=0;r<t.length;r++)this.player_.addRemoteTextTrack(t[r],!0);this.preselectTrack()}}))),s}p()(e,t);var r=e.prototype;return r.preselectTrack=function(){for(var t,e,r,i={captions:1,subtitles:1},n=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,a=0;a<n.length;a++){var o=n[a];s&&s.enabled&&s.language&&s.language===o.language&&o.kind in i?o.kind===s.kind?r=o:r||(r=o):s&&!s.enabled?(r=null,t=null,e=null):o.default&&("descriptions"!==o.kind||t?o.kind in i&&!e&&(e=o):t=o)}r?r.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){"function"==typeof n.a.WebVTT&&n.a.WebVTT.processCues(n.a,[],this.el_)},r.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var r=[],i=0;i<t.length;++i){var n=t[i];"showing"===n.mode&&r.push(n)}this.updateForTrack(r)}else{for(var s=null,a=null,o=t.length;o--;){var l=t[o];"showing"===l.mode&&("descriptions"===l.kind?s=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):s&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}},r.updateDisplayState=function(t){for(var e=this.player_.textTrackSettings.getValues(),r=t.activeCues,i=r.length;i--;){var s=r[i];if(s){var a=s.displayState;if(e.color&&(a.firstChild.style.color=e.color),e.textOpacity&&Vi(a.firstChild,"color",ji(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(a.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&Vi(a.firstChild,"backgroundColor",ji(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?Vi(a,"backgroundColor",ji(e.windowColor,e.windowOpacity)):a.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===e.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),e.fontPercent&&1!==e.fontPercent){var o=n.a.parseFloat(a.style.fontSize);a.style.fontSize=o*e.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Ui[e.fontFamily])}}},r.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"==typeof n.a.WebVTT&&!t.every((function(t){return!t.activeCues}))){for(var e=[],r=0;r<t.length;++r)for(var i=t[r],s=0;s<i.activeCues.length;++s)e.push(i.activeCues[s]);n.a.WebVTT.processCues(n.a,e,this.el_);for(var a=0;a<t.length;++a){for(var o=t[a],l=0;l<o.activeCues.length;++l){var u=o.activeCues[l].displayState;ee(u,"vjs-text-track-cue"),ee(u,"vjs-text-track-cue-"+(o.language?o.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(o)}}},e}(hr);hr.registerComponent("TextTrackDisplay",qi);var Hi=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),i=Qt("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[r])}),n=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(i),n},e}(hr);hr.registerComponent("LoadingSpinner",Hi);var zi=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var r=e.prototype;return r.createEl=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r={}),e=Vt({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),r=Vt({type:"button"},r);var i=hr.prototype.createEl.call(this,"button",e,r);return this.createControlTextEl(i),i},r.addChild=function(t,e){void 0===e&&(e={});var r=this.constructor.name;return Nt.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),hr.prototype.addChild.call(this,t,e)},r.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(e){g.a.isEventKey(e,"Space")||g.a.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(Bi);hr.registerComponent("Button",zi);var Gi=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var r=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Wr(e),void(!this.player_.tech(!0)||(wr||Tr)&&r||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(n){var s=function(){return n.focus()};Gr(e)?e.then(s,(function(){})):this.setTimeout(s,1)}else this.player_.tech(!0).focus()},r.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},r.handleMouseDown=function(t){this.mouseused_=!0},e}(zi);Gi.prototype.controlText_="Play Video",hr.registerComponent("BigPlayButton",Gi);var Wi=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).controlText(r&&r.controlText||i.localize("Close")),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(e){g.a.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(zi);hr.registerComponent("CloseButton",Wi);var Yi=function(t){function e(e,r){var i;return void 0===r&&(r={}),i=t.call(this,e,r)||this,r.replay=void 0===r.replay||r.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),r.replay&&i.on(e,"ended",i.handleEnded),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},r.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(zi);Yi.prototype.controlText_="Play",hr.registerComponent("PlayToggle",Yi);var Xi=function(t,e){t=t<0?0:t;var r=Math.floor(t%60),i=Math.floor(t/60%60),n=Math.floor(t/3600),s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(n=i=r="-"),(n=n>0||a>0?n+":":"")+(i=((n||s>=10)&&i<10?"0"+i:i)+":")+(r<10?"0"+r:r)},Ki=Xi;function $i(t,e){return void 0===e&&(e=t),Ki(t,e)}var Qi=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).on(e,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}p()(e,t);var r=e.prototype;return r.createEl=function(){var e=this.buildCSSClass(),r=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=Qt("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),r.appendChild(this.contentEl_),r},r.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},r.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=$i(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestAnimationFrame((function(){if(e.contentEl_){var t=e.textNode_;e.textNode_=a.a.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))},r.updateContent=function(t){},e}(hr);Qi.prototype.labelText_="Time",Qi.prototype.controlText_="Time",hr.registerComponent("TimeDisplay",Qi);var Ji=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(Qi);Ji.prototype.labelText_="Current Time",Ji.prototype.controlText_="Current Time",hr.registerComponent("CurrentTimeDisplay",Ji);var Zi=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.updateContent),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(Qi);Zi.prototype.labelText_="Duration",Zi.prototype.controlText_="Duration",hr.registerComponent("DurationDisplay",Zi);var tn=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(hr);hr.registerComponent("TimeDivider",tn);var en=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).on(e,"durationchange",i.updateContent),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(Qt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},r.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(Qi);en.prototype.labelText_="Remaining Time",en.prototype.controlText_="Remaining Time",hr.registerComponent("RemainingTimeDisplay",en);var rn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}p()(e,t);var r=e.prototype;return r.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Qt("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},r.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},r.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(hr);hr.registerComponent("LiveDisplay",rn);var nn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}p()(e,t);var r=e.prototype;return r.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Qt("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},r.updateLiveEdgeStatus=function(t){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(zi);nn.prototype.controlText_="Seek to live, currently playing live",hr.registerComponent("SeekToLive",nn);var sn=function(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))},an=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}p()(e,t);var r=e.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(e,r,i){return void 0===r&&(r={}),void 0===i&&(i={}),r.className=r.className+" vjs-slider",r=Vt({tabIndex:0},r),i=Vt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,r,i)},r.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Sr||t.preventDefault(),ue(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},r.handleMouseMove=function(t){},r.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;he(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},r.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestAnimationFrame((function(){var r=t.vertical()?"height":"width";t.bar.el().style[r]=(100*e).toFixed(2)+"%"}))),e}},r.getProgress=function(){return Number(sn(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(t){var e=de(this.el_,t);return this.vertical()?e.y:e.x},r.handleKeyDown=function(e){g.a.isEventKey(e,"Left")||g.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):g.a.isEventKey(e,"Right")||g.a.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},r.handleClick=function(t){t.stopPropagation(),t.preventDefault()},r.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(hr);hr.registerComponent("Slider",an);var on=function(t,e){return sn(t/e*100,0,100).toFixed(2)+"%"},ln=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).partEls_=[],i.on(e,"progress",i.update),i}p()(e,t);var r=e.prototype;return r.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),r=Qt("span",{className:"vjs-control-text"}),i=Qt("span",{textContent:this.localize("Loaded")}),n=a.a.createTextNode(": ");return this.percentageEl_=Qt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(i),r.appendChild(n),r.appendChild(this.percentageEl_),e},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},r.update=function(t){var e=this;this.requestAnimationFrame((function(){var t=e.player_.liveTracker,r=e.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():e.player_.duration(),n=e.player_.bufferedEnd(),s=e.partEls_,a=on(n,i);e.percent_!==a&&(e.el_.style.width=a,Jt(e.percentageEl_,a),e.percent_=a);for(var o=0;o<r.length;o++){var l=r.start(o),u=r.end(o),h=s[o];h||(h=e.el_.appendChild(Qt()),s[o]=h),h.dataset.start===l&&h.dataset.end===u||(h.dataset.start=l,h.dataset.end=u,h.style.left=on(l,n),h.style.width=on(u-l,n))}for(var c=s.length;c>r.length;c--)e.el_.removeChild(s[c-1]);s.length=r.length}))},e}(hr);hr.registerComponent("LoadProgressBar",ln);var un=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).update=Xe(Ye(h()(i),i.update),30),i}p()(e,t);var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(t,e,r){var i=ce(this.el_),n=ce(this.player_.el()),s=t.width*e;if(n&&i){var a=t.left-n.left+s,o=t.width-s+(n.right-t.right),l=i.width/2;a<l?l+=l-a:o<l&&(l=o),l<0?l=0:l>i.width&&(l=i.width),this.el_.style.right="-"+l+"px",this.write(r)}},r.write=function(t){Jt(this.el_,t)},r.updateTime=function(t,e,r,i){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var s,a=n.player_.duration();if(n.player_.liveTracker&&n.player_.liveTracker.isLive()){var o=n.player_.liveTracker.liveWindow(),l=o-e*o;s=(l<1?"":"-")+$i(l,o)}else s=$i(r,a);n.update(t,e,s),i&&i()}))},e}(hr);hr.registerComponent("TimeTooltip",un);var hn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).update=Xe(Ye(h()(i),i.update),30),i}p()(e,t);var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(t,e){var r=this.getChild("timeTooltip");if(r){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(t,e,i)}},e}(hr);hn.prototype.options_={children:[]},Dr||yr||hn.prototype.options_.children.push("timeTooltip"),hr.registerComponent("PlayProgressBar",hn);var cn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).update=Xe(Ye(h()(i),i.update),30),i}p()(e,t);var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(t,e){var r=this,i=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,i,(function(){r.el_.style.left=t.width*e+"px"}))},e}(hr);cn.prototype.options_={children:["timeTooltip"]},hr.registerComponent("MouseTimeDisplay",cn);var pn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).setEventHandlers_(),i}p()(e,t);var r=e.prototype;return r.setEventHandlers_=function(){this.update_=Ye(this,this.update),this.update=Xe(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a.a&&"visibilityState"in a.a&&this.on(a.a,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(t){a.a.hidden?this.disableInterval_(t):(this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},r.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(e){var r=this,i=t.prototype.update.call(this);return this.requestAnimationFrame((function(){var t=r.player_.ended()?r.player_.duration():r.getCurrentTime_(),e=r.player_.liveTracker,n=r.player_.duration();e&&e.isLive()&&(n=r.player_.liveTracker.liveCurrentTime()),r.percent_!==i&&(r.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),r.percent_=i),r.currentTime_===t&&r.duration_===n||(r.el_.setAttribute("aria-valuetext",r.localize("progress bar timing: currentTime={1} duration={2}",[$i(t,n),$i(n,n)],"{1} of {2}")),r.currentTime_=t,r.duration_=n),r.bar&&r.bar.update(ce(r.el()),r.getProgress())})),i},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var t,e=this.getCurrentTime_(),r=this.player_.liveTracker;return r&&r.isLive()?(t=(e-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},r.handleMouseDown=function(e){_e(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},r.handleMouseMove=function(t){if(_e(t)){var e,r=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){var n=i.seekableStart(),s=i.liveCurrentTime();if((e=n+r*i.liveWindow())>=s&&(e=s),e<=n&&(e=n+.1),e===1/0)return}else(e=r*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},r.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},r.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},r.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Wr(this.player_.play()):this.update_()},r.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},r.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},r.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(e){if(g.a.isEventKey(e,"Space")||g.a.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(g.a.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(g.a.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(g()(e))){e.preventDefault(),e.stopPropagation();var r=10*(g.a.codes[g()(e)]-g.a.codes[0])/100;this.player_.currentTime(this.player_.duration()*r)}else g.a.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):g.a.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},e}(an);pn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Dr||yr||pn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),hr.registerComponent("SeekBar",pn);var dn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).handleMouseMove=Xe(Ye(h()(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=Xe(Ye(h()(i),i.handleMouseSeek),30),i.enable(),i}p()(e,t);var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var r=e.getChild("playProgressBar"),i=e.getChild("mouseTimeDisplay");if(r||i){var n=e.el(),s=ce(n),a=de(n,t).x;a=sn(0,1,a),i&&i.update(s,a),r&&r.update(s,e.getProgress())}}},r.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},r.enabled=function(){return this.enabled_},r.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},r.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.handleMouseDown=function(t){var e=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},r.handleMouseUp=function(t){var e=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(hr);dn.prototype.options_={children:["seekBar"]},hr.registerComponent("ProgressControl",dn);var fn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),a.a.pictureInPictureEnabled||i.disable(),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},r.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},r.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(zi);fn.prototype.controlText_="Picture-in-Picture",hr.registerComponent("PictureInPictureToggle",fn);var mn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).on(e,"fullscreenchange",i.handleFullscreenChange),!1===a.a[e.fsApi_.fullscreenEnabled]&&i.disable(),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(zi);mn.prototype.controlText_="Fullscreen",hr.registerComponent("FullscreenToggle",mn);var gn=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(hr);hr.registerComponent("VolumeLevel",gn);var yn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready((function(){return i.updateARIAAttributes()})),i}p()(e,t);var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(e){_e(e)&&t.prototype.handleMouseDown.call(this,e)},r.handleMouseMove=function(t){_e(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},r.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},r.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(an);yn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},yn.prototype.playerEvent="volumechange",hr.registerComponent("VolumeBar",yn);var vn=function(t){function e(e,r){var i;return void 0===r&&(r={}),r.vertical=r.vertical||!1,(void 0===r.volumeBar||Ht(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),i=t.call(this,e,r)||this,function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(h()(i),e),i.throttledHandleMouseMove=Xe(Ye(h()(i),i.handleMouseMove),30),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}p()(e,t);var r=e.prototype;return r.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},r.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},r.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},r.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(hr);vn.prototype.options_={children:["volumeBar"]},hr.registerComponent("VolumeControl",vn);var _n=function(t){function e(e,r){var i;return i=t.call(this,e,r)||this,function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(h()(i),e),i.on(e,["loadstart","volumechange"],i.update),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(t){var e=this.player_.volume(),r=this.player_.lastVolume_();if(0===e){var i=r<.1?.1:r;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(t){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var t=this.player_.volume(),e=3;Dr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var r=0;r<4;r++)re(this.el_,"vjs-vol-"+r);ee(this.el_,"vjs-vol-"+e)},r.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(zi);_n.prototype.controlText_="Mute",hr.registerComponent("MuteToggle",_n);var bn=function(t){function e(e,r){var i;return void 0===r&&(r={}),void 0!==r.inline?r.inline=r.inline:r.inline=!0,(void 0===r.volumeControl||Ht(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),(i=t.call(this,e,r)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}p()(e,t);var r=e.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},r.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(t){g.a.isEventKey(t,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(t){this.addClass("vjs-hover"),je(a.a,"keyup",Ye(this,this.handleKeyPress))},r.handleMouseOut=function(t){this.removeClass("vjs-hover"),Ve(a.a,"keyup",Ye(this,this.handleKeyPress))},r.handleKeyPress=function(t){g.a.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(hr);bn.prototype.options_={children:["muteToggle","volumeControl"]},hr.registerComponent("VolumePanel",bn);var Tn=function(t){function e(e,r){var i;return i=t.call(this,e,r)||this,r&&(i.menuButton_=r.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=Ye(h()(i),i.handleBlur),i.boundHandleTapClick_=Ye(h()(i),i.handleTapClick),i}p()(e,t);var r=e.prototype;return r.addEventListenerForItem=function(t){t instanceof hr&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(t){t instanceof hr&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},r.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},r.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=Qt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),je(r,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),r},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},r.handleBlur=function(t){var e=t.relatedTarget||a.a.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var r=this.menuButton_;r&&r.buttonPressed_&&e!==r.el().firstChild&&r.unpressButton()}},r.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var r=e.filter((function(e){return e.el()===t.target}))[0];if(!r)return;"CaptionSettingsMenuItem"!==r.name()&&this.menuButton_.focus()}},r.handleKeyDown=function(t){g.a.isEventKey(t,"Left")||g.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(g.a.isEventKey(t,"Right")||g.a.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},r.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},r.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},r.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(hr);hr.registerComponent("Menu",Tn);var Sn=function(t){function e(e,r){var i;void 0===r&&(r={}),(i=t.call(this,e,r)||this).menuButton_=new zi(e,r),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var n=zi.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+n,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"keydown",i.handleKeyDown),i.on(i.menuButton_,"mouseenter",(function(){i.addClass("vjs-hover"),i.menu.show(),je(a.a,"keyup",Ye(h()(i),i.handleMenuKeyUp))})),i.on("mouseleave",i.handleMouseLeave),i.on("keydown",i.handleSubmenuKeyDown),i}p()(e,t);var r=e.prototype;return r.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.createMenu=function(){var t=new Tn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=Qt("li",{className:"vjs-menu-title",innerHTML:lr(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var r=new hr(this.player_,{el:e});t.addItem(r)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},r.createItems=function(){},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+zi.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},r.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},r.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},r.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Ve(a.a,"keyup",Ye(this,this.handleMenuKeyUp))},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(t){g.a.isEventKey(t,"Esc")||g.a.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),g.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(g.a.isEventKey(t,"Up")||g.a.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(t){(g.a.isEventKey(t,"Esc")||g.a.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},r.handleSubmenuKeyDown=function(t){(g.a.isEventKey(t,"Esc")||g.a.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),g.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Dr&&Kt())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(hr);hr.registerComponent("MenuButton",Sn);var En=function(t){function e(e,r){var i,n=r.tracks;if((i=t.call(this,e,r)||this).items.length<=1&&i.hide(),!n)return h()(i);var s=Ye(h()(i),i.update);return n.addEventListener("removetrack",s),n.addEventListener("addtrack",s),i.player_.on("ready",s),i.player_.on("dispose",(function(){n.removeEventListener("removetrack",s),n.removeEventListener("addtrack",s)})),i}return p()(e,t),e}(Sn);hr.registerComponent("TrackButton",En);var wn=["Tab","Esc","Up","Down","Right","Left"],kn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).selectable=r.selectable,i.isSelected_=r.selected||!1,i.multiSelectable=r.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}p()(e,t);var r=e.prototype;return r.createEl=function(e,r,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",Vt({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},r),i)},r.handleKeyDown=function(e){wn.some((function(t){return g.a.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},r.handleClick=function(t){this.selected(!0)},r.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Bi);hr.registerComponent("MenuItem",kn);var xn=function(t){function e(e,r){var i,s=r.track,o=e.textTracks();r.label=s.label||s.language||"Unknown",r.selected="showing"===s.mode,(i=t.call(this,e,r)||this).track=s,i.kinds=(r.kinds||[r.kind||i.track.kind]).filter(Boolean);var l,u=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.handleTracksChange.apply(h()(i),e)},c=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.handleSelectedLanguageChange.apply(h()(i),e)};return e.on(["loadstart","texttrackchange"],u),o.addEventListener("change",u),o.addEventListener("selectedlanguagechange",c),i.on("dispose",(function(){e.off(["loadstart","texttrackchange"],u),o.removeEventListener("change",u),o.removeEventListener("selectedlanguagechange",c)})),void 0===o.onchange&&i.on(["tap","click"],(function(){if("object"!=typeof n.a.Event)try{l=new n.a.Event("change")}catch(t){}l||(l=a.a.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(l)})),i.handleTracksChange(),i}p()(e,t);var r=e.prototype;return r.handleClick=function(e){var r=this.track,i=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),i)for(var n=0;n<i.length;n++){var s=i[n];-1!==this.kinds.indexOf(s.kind)&&(s===r?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},r.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},r.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(kn);hr.registerComponent("TextTrackMenuItem",xn);var Cn=function(t){function e(e,r){return r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,t.call(this,e,r)||this}p()(e,t);var r=e.prototype;return r.handleTracksChange=function(t){for(var e=this.player().textTracks(),r=!0,i=0,n=e.length;i<n;i++){var s=e[i];if(this.options_.kinds.indexOf(s.kind)>-1&&"showing"===s.mode){r=!1;break}}r!==this.isSelected_&&this.selected(r)},r.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),r=!0,i=0,n=e.length;i<n;i++){var s=e[i];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&"showing"===s.mode){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(xn);hr.registerComponent("OffTextTrackMenuItem",Cn);var An=function(t){function e(e,r){return void 0===r&&(r={}),r.tracks=e.textTracks(),t.call(this,e,r)||this}return p()(e,t),e.prototype.createItems=function(t,e){var r;void 0===t&&(t=[]),void 0===e&&(e=xn),this.label_&&(r=this.label_+" off"),t.push(new Cn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var n=0;n<i.length;n++){var s=i[n];if(this.kinds_.indexOf(s.kind)>-1){var a=new e(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+s.kind+"-menu-item"),t.push(a)}}return t},e}(En);hr.registerComponent("TextTrackButton",An);var Pn=function(t){function e(e,r){var i,n=r.track,s=r.cue,a=e.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=s.text,r.selected=s.startTime<=a&&a<s.endTime,(i=t.call(this,e,r)||this).track=n,i.cue=s,n.addEventListener("cuechange",Ye(h()(i),i.update)),i}p()(e,t);var r=e.prototype;return r.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},r.update=function(t){var e=this.cue,r=this.player_.currentTime();this.selected(e.startTime<=r&&r<e.endTime)},e}(kn);hr.registerComponent("ChaptersTrackMenuItem",Pn);var Dn=function(t){function e(e,r,i){return t.call(this,e,r,i)||this}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},r.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},r.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}}},r.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var r=t[e];if(r.kind===this.kind_)return r}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(lr(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},r.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var r=0,i=e.length;r<i;r++){var n=e[r],s=new Pn(this.player_,{track:this.track_,cue:n});t.push(s)}return t},e}(An);Dn.prototype.kind_="chapters",Dn.prototype.controlText_="Chapters",hr.registerComponent("ChaptersButton",Dn);var In=function(t){function e(e,r,i){var n;n=t.call(this,e,r,i)||this;var s=e.textTracks(),a=Ye(h()(n),n.handleTracksChange);return s.addEventListener("change",a),n.on("dispose",(function(){s.removeEventListener("change",a)})),n}p()(e,t);var r=e.prototype;return r.handleTracksChange=function(t){for(var e=this.player().textTracks(),r=!1,i=0,n=e.length;i<n;i++){var s=e[i];if(s.kind!==this.kind_&&"showing"===s.mode){r=!0;break}}r?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(An);In.prototype.kind_="descriptions",In.prototype.controlText_="Descriptions",hr.registerComponent("DescriptionsButton",In);var Mn=function(t){function e(e,r,i){return t.call(this,e,r,i)||this}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(An);Mn.prototype.kind_="subtitles",Mn.prototype.controlText_="Subtitles",hr.registerComponent("SubtitlesButton",Mn);var On=function(t){function e(e,r){var i;return r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",(i=t.call(this,e,r)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+r.kind+" settings dialog"),i}return p()(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(xn);hr.registerComponent("CaptionSettingsMenuItem",On);var Ln=function(t){function e(e,r,i){return t.call(this,e,r,i)||this}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new On(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(An);Ln.prototype.kind_="captions",Ln.prototype.controlText_="Captions",hr.registerComponent("CaptionsButton",Ln);var Rn=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(e,r,i){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),n+="</span>",t.prototype.createEl.call(this,e,Vt({innerHTML:n},r),i)},e}(xn);hr.registerComponent("SubsCapsMenuItem",Rn);var Nn=function(t){function e(e,r){var i;return void 0===r&&(r={}),(i=t.call(this,e,r)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(lr(i.label_)),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new On(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e,Rn)},e}(An);Nn.prototype.kinds_=["captions","subtitles"],Nn.prototype.controlText_="Subtitles",hr.registerComponent("SubsCapsButton",Nn);var Bn=function(t){function e(e,r){var i,n=r.track,s=e.audioTracks();r.label=n.label||n.language||"Unknown",r.selected=n.enabled,(i=t.call(this,e,r)||this).track=n,i.addClass("vjs-"+n.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.handleTracksChange.apply(h()(i),e)};return s.addEventListener("change",a),i.on("dispose",(function(){s.removeEventListener("change",a)})),i}p()(e,t);var r=e.prototype;return r.createEl=function(e,r,i){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),n+="</span>",t.prototype.createEl.call(this,e,Vt({innerHTML:n},r),i)},r.handleClick=function(e){var r=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<r.length;i++){var n=r[i];n.enabled=n===this.track}},r.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(kn);hr.registerComponent("AudioTrackMenuItem",Bn);var Fn=function(t){function e(e,r){return void 0===r&&(r={}),r.tracks=e.audioTracks(),t.call(this,e,r)||this}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),r=0;r<e.length;r++){var i=e[r];t.push(new Bn(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(En);Fn.prototype.controlText_="Audio Track",hr.registerComponent("AudioTrackButton",Fn);var Un=function(t){function e(e,r){var i,n=r.rate,s=parseFloat(n,10);return r.label=n,r.selected=1===s,r.selectable=!0,r.multiSelectable=!1,(i=t.call(this,e,r)||this).label=n,i.rate=s,i.on(e,"ratechange",i.update),i}p()(e,t);var r=e.prototype;return r.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(kn);Un.prototype.contentElType="button",hr.registerComponent("PlaybackRateMenuItem",Un);var jn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}p()(e,t);var r=e.prototype;return r.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=Qt("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},r.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},r.createMenu=function(){var t=new Tn(this.player()),e=this.playbackRates();if(e)for(var r=e.length-1;r>=0;r--)t.addChild(new Un(this.player(),{rate:e[r]+"x"}));return t},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(t){for(var e=this.player().playbackRate(),r=this.playbackRates(),i=r[0],n=0;n<r.length;n++)if(r[n]>e){i=r[n];break}this.player().playbackRate(i)},r.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Sn);jn.prototype.controlText_="Playback Rate",hr.registerComponent("PlaybackRateMenuButton",jn);var Vn=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(hr);hr.registerComponent("Spacer",Vn);var qn=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},r.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(Vn);hr.registerComponent("CustomControlSpacer",qn);var Hn=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(hr);Hn.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in a.a&&Hn.prototype.options_.children.splice(Hn.prototype.options_.children.length-1,0,"pictureInPictureToggle"),hr.registerComponent("ControlBar",Hn);var zn=function(t){function e(e,r){var i;return(i=t.call(this,e,r)||this).on(e,"error",i.open),i}p()(e,t);var r=e.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},r.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Kr);zn.prototype.options_=l()({},Kr.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),hr.registerComponent("ErrorDisplay",zn);var Gn=["#000","Black"],Wn=["#00F","Blue"],Yn=["#0FF","Cyan"],Xn=["#0F0","Green"],Kn=["#F0F","Magenta"],$n=["#F00","Red"],Qn=["#FFF","White"],Jn=["#FF0","Yellow"],Zn=["1","Opaque"],ts=["0.5","Semi-Transparent"],es=["0","Transparent"],rs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Gn,Qn,$n,Xn,Wn,Jn,Kn,Yn]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Zn,ts,es]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Qn,Gn,$n,Xn,Wn,Jn,Kn,Yn]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Zn,ts]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[es,ts,Zn]}};function is(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}rs.windowColor.options=rs.backgroundColor.options;var ns=function(t){function e(e,r){var i;return r.temporary=!1,(i=t.call(this,e,r)||this).updateDisplay=Ye(h()(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=Qt("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===r.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),jt(rs,(function(t){i.on(i.$(t.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}p()(e,t);var r=e.prototype;return r.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},r.createElSelect_=function(t,e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r="label");var n=rs[t],s=n.id.replace("%s",this.id_),a=[e,s].join(" ").trim();return["<"+r+' id="'+s+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(n.label),"</"+r+">",'<select aria-labelledby="'+a+'">'].concat(n.options.map((function(t){var e=s+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',i.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},r.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return Qt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return Qt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var t=this.localize("restore all settings to the default values");return Qt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var t,e,r,i=this;return e=function(t,e,r){var n,s,a=(n=i.$(e.selector),s=e.parser,is(n.options[n.options.selectedIndex].value,s));return void 0!==a&&(t[r]=a),t},void 0===(r={})&&(r=0),Ut(t=rs).reduce((function(r,i){return e(r,t[i],i)}),r)},r.setValues=function(t){var e=this;jt(rs,(function(r,i){!function(t,e,r){if(e)for(var i=0;i<t.options.length;i++)if(is(t.options[i].value,r)===e){t.selectedIndex=i;break}}(e.$(r.selector),t[i],r.parser)}))},r.setDefaults=function(){var t=this;jt(rs,(function(e){var r=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=r}))},r.restoreSettings=function(){var t;try{t=JSON.parse(n.a.localStorage.getItem("vjs-text-track-settings"))}catch(t){Nt.warn(t)}t&&this.setValues(t)},r.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?n.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):n.a.localStorage.removeItem("vjs-text-track-settings")}catch(t){Nt.warn(t)}}},r.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,r=t&&t.captionsButton;e?e.focus():r&&r.focus()},e}(Kr);hr.registerComponent("TextTrackSettings",ns);var ss=function(t){function e(e,r){var i,s=r.ResizeObserver||n.a.ResizeObserver;null===r.ResizeObserver&&(s=!1);var a=ur({createEl:!s,reportTouchActivity:!1},r);return(i=t.call(this,e,a)||this).ResizeObserver=r.ResizeObserver||n.a.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(t,e,r,i){var s;void 0===i&&(i=n.a);var a=function(){var n=this,a=arguments,o=function(){s=null,o=null,r||t.apply(n,a)};!s&&r&&t.apply(n,a),i.clearTimeout(s),s=i.setTimeout(o,e)};return a.cancel=function(){i.clearTimeout(s),s=null},a}((function(){i.resizeHandler()}),100,!1,h()(i)),s?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var t=i.debouncedHandler_,e=i.unloadListener_=function(){Ve(this,"resize",t),Ve(this,"unload",e),e=null};je(i.el_.contentWindow,"unload",e),je(i.el_.contentWindow,"resize",t)}},i.one("load",i.loadListener_)),i}p()(e,t);var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},r.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(hr);hr.registerComponent("ResizeManager",ss);var as=function(t){function e(e,r){var i,n=ur({createEl:!1},r);return(i=t.call(this,e,n)||this).reset_(),i.on(i.player_,"durationchange",i.handleDurationchange),wr&&"hidden"in a.a&&"visibilityState"in a.a&&i.on(a.a,"visibilitychange",i.handleVisibilityChange),i}p()(e,t);var r=e.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(a.a.hidden?this.stopTracking():this.startTracking())},r.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var t=this.liveCurrentTime(),e=this.player_.currentTime(),r=2*this.seekableIncrement_+.07;return t!==1/0&&t-r>=e},r.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var t=this.player_.seekable();if(t&&t.length){var e,r,i,n=this.seekableEnd();n!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(n-this.lastSeekEnd_)),this.seekableIncrementList_.length>3&&(this.seekableIncrement_=(e=this.seekableIncrementList_,r=Math.floor(e.length/2),i=[].concat(e).sort((function(t,e){return t-e})),e.length%2!=0?i[r]:(i[r-1]+i[r])/2))),this.pastSeekEnd_=0,this.lastSeekEnd_=n,this.trigger("seekableendchange")),this.pastSeekEnd()>1.5*this.seekableIncrement_?this.pastSeekEnd_=0:this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},r.startTracking=function(){var t=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){t.timeupdateSeen_=!0,t.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},r.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},r.stopTracking=function(){this.isTracking()&&this.reset_()},r.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],r=t?t.length:0;r--;)e.push(t.end(r));return e.length?e.sort()[e.length-1]:1/0},r.seekableStart=function(){for(var t=this.player_.seekable(),e=[],r=t?t.length:0;r--;)e.push(t.start(r));return e.length?e.sort()[0]:0},r.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){return this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return"number"==typeof this.trackingInterval_},r.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},r.dispose=function(){this.stopTracking(),t.prototype.dispose.call(this)},e}(hr);hr.registerComponent("LiveTracker",as);var os,ls=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var r=t.$$("source"),i=[],n="";if(!r.length)return!1;for(var s=0;s<r.length;s++){var a=r[s].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(n=i[0]),t.triggerSourceset(n),!0)},us=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=a.a.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var r=a.a.createDocumentFragment();e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",n.a.Element.prototype.appendChild.call(this,r),this.innerHTML}}),hs=function(t,e){for(var r={},i=0;i<t.length&&!((r=Object.getOwnPropertyDescriptor(t[i],e))&&r.set&&r.get);i++);return r.enumerable=!0,r.configurable=!0,r},cs=function(t){var e=t.el();if(!e.resetSourceWatch_){var r={},i=function(t){return hs([t.el(),n.a.HTMLMediaElement.prototype,n.a.Element.prototype,us],"innerHTML")}(t),s=function(r){return function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];var a=r.apply(e,n);return ls(t),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){e[t]&&(r[t]=e[t],e[t]=s(r[t]))})),Object.defineProperty(e,"innerHTML",ur(i,{set:s(i.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(r).forEach((function(t){e[t]=r[t]})),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)}},ps=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?ci(n.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return n.a.Element.prototype.setAttribute.call(this,"src",t),t}}),ds=function(t,e,r,i){void 0===i&&(i=!0);var n=function(r){return Object.defineProperty(t,e,{value:r,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var t=r();return n(t),t}};return i&&(s.set=n),Object.defineProperty(t,e,s)},fs=function(t){function e(e,r){var i;i=t.call(this,e,r)||this;var n=e.source,s=!1;if(n&&(i.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?i.setSource(n):i.handleLateInit_(i.el_),e.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var a=i.el_.childNodes,o=a.length,l=[];o--;){var u=a[o];"track"===u.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(u),i.remoteTextTracks().addTrack(u.track),i.textTracks().addTrack(u.track),s||i.el_.hasAttribute("crossorigin")||!di(u.src)||(s=!0)):l.push(u))}for(var h=0;h<l.length;h++)i.el_.removeChild(l[h])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&s&&Nt.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(Cr||Pr||_r)&&!0===e.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}p()(e,t);var r=e.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){!function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var r=function(t){return hs([t.el(),n.a.HTMLMediaElement.prototype,ps],"src")}(t),i=e.setAttribute,s=e.load;Object.defineProperty(e,"src",ur(r,{set:function(i){var n=r.set.call(e,i);return t.triggerSourceset(e.src),n}})),e.setAttribute=function(r,n){var s=i.call(e,r,n);return/src/i.test(r)&&t.triggerSourceset(e.src),s},e.load=function(){var r=s.call(e);return ls(t)||(t.triggerSourceset(""),cs(t)),r},e.currentSrc?t.triggerSourceset(e.currentSrc):ls(t)||cs(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=s,e.setAttribute=i,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}}}}(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),r=function(){t=[];for(var r=0;r<e.length;r++){var i=e[r];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};r(),e.addEventListener("change",r),this.on("dispose",(function(){return e.removeEventListener("change",r)}));var i=function r(){for(var i=0;i<t.length;i++){var n=t[i];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}e.removeEventListener("change",r)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",r),e.removeEventListener("change",i),e.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",i)}))},r.overrideNative_=function(t,e){var r=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(t){r.el()[i+"Tracks"].removeEventListener(t,r[i+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},r.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},r.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},r.proxyNativeTracksForType_=function(t){var e=this,r=Ti[t],i=this.el()[r.getterName],n=this[r.getterName]();if(this["featuresNative"+r.capitalName+"Tracks"]&&i&&i.addEventListener){var s={change:function(t){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},addtrack:function(t){n.addTrack(t.track)},removetrack:function(t){n.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<n.length;e++){for(var r=!1,s=0;s<i.length;s++)if(i[s]===n[e]){r=!0;break}r||t.push(n[e])}for(;t.length;)n.removeTrack(t.shift())};this[r.getterName+"Listeners_"]=s,Object.keys(s).forEach((function(t){var r=s[t];i.addEventListener(t,r),e.on("dispose",(function(e){return i.removeEventListener(t,r)}))})),this.on("loadstart",a),this.on("dispose",(function(t){return e.off("loadstart",a)}))}},r.proxyNativeTracks_=function(){var t=this;Ti.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},r.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var r=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(r,t),e.disposeMediaElement(t),t=r}else{t=a.a.createElement("video");var i=ur({},this.options_.tag&&se(this.options_.tag));Cr&&!0===this.options_.nativeControlsForTouch||delete i.controls,ne(t,Vt(i,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&oe(t,"preload",this.options_.preload);for(var n=["loop","muted","playsinline","autoplay"],s=0;s<n.length;s++){var o=n[s],l=this.options_[o];void 0!==l&&(l?oe(t,o,o):le(t,o),t[o]=l)}return t},r.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,r=function(){e=!0};this.on("loadstart",r);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",r),this.off("loadedmetadata",i),e||this.trigger("loadstart")}))}var n=["loadstart"];n.push("loadedmetadata"),t.readyState>=2&&n.push("loadeddata"),t.readyState>=3&&n.push("canplay"),t.readyState>=4&&n.push("canplaythrough"),this.ready((function(){n.forEach((function(t){this.trigger(t)}),this)}))}},r.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){Nt(t,"Video is not ready. (Video.js)")}},r.duration=function(){var t=this;return this.el_.duration===1/0&&yr&&Sr&&0===this.el_.currentTime?(this.on("timeupdate",(function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN):this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},r=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",(function(){t.off("webkitbeginfullscreen",r),t.off("webkitendfullscreen",e)}))}},r.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=n.a.navigator&&n.a.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},r.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},r.exitFullScreen=function(){this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},r.reset=function(){e.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(t){this.el_.controls=!!t},r.addTextTrack=function(e,r,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,i):t.prototype.addTextTrack.call(this,e,r,i)},r.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var r=a.a.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r},r.addRemoteTextTrack=function(e,r){var i=t.prototype.addRemoteTextTrack.call(this,e,r);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},r.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var r=this.$$("track"),i=r.length;i--;)e!==r[i]&&e!==r[i].track||this.el().removeChild(r[i])},r.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),n.a.performance&&"function"==typeof n.a.performance.now?t.creationTime=n.a.performance.now():n.a.performance&&n.a.performance.timing&&"number"==typeof n.a.performance.timing.navigationStart&&(t.creationTime=n.a.Date.now()-n.a.performance.timing.navigationStart),t},e}(wi);ds(fs,"TEST_VID",(function(){if(Yt()){var t=a.a.createElement("video"),e=a.a.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}})),fs.isSupported=function(){try{fs.TEST_VID.volume=.5}catch(t){return!1}return!(!fs.TEST_VID||!fs.TEST_VID.canPlayType)},fs.canPlayType=function(t){return fs.TEST_VID.canPlayType(t)},fs.canPlaySource=function(t,e){return fs.canPlayType(t.type)},fs.canControlVolume=function(){try{var t=fs.TEST_VID.volume;return fs.TEST_VID.volume=t/2+.1,t!==fs.TEST_VID.volume}catch(t){return!1}},fs.canMuteVolume=function(){try{var t=fs.TEST_VID.muted;return fs.TEST_VID.muted=!t,fs.TEST_VID.muted?oe(fs.TEST_VID,"muted","muted"):le(fs.TEST_VID,"muted"),t!==fs.TEST_VID.muted}catch(t){return!1}},fs.canControlPlaybackRate=function(){if(yr&&Sr&&Er<58)return!1;try{var t=fs.TEST_VID.playbackRate;return fs.TEST_VID.playbackRate=t/2+.1,t!==fs.TEST_VID.playbackRate}catch(t){return!1}},fs.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(a.a.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(a.a.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(a.a.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(a.a.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},fs.supportsNativeTextTracks=function(){return Ir||Dr&&Sr},fs.supportsNativeVideoTracks=function(){return!(!fs.TEST_VID||!fs.TEST_VID.videoTracks)},fs.supportsNativeAudioTracks=function(){return!(!fs.TEST_VID||!fs.TEST_VID.audioTracks)},fs.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[0],r=t[1];ds(fs.prototype,e,(function(){return fs[r]()}),!0)})),fs.prototype.movingMediaElementInDOM=!Dr,fs.prototype.featuresFullscreenResize=!0,fs.prototype.featuresProgressEvents=!0,fs.prototype.featuresTimeupdateEvents=!0,fs.patchCanPlayType=function(){vr>=4&&!br&&!Sr&&(os=fs.TEST_VID&&fs.TEST_VID.constructor.prototype.canPlayType,fs.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":os.call(this,t)})},fs.unpatchCanPlayType=function(){var t=fs.TEST_VID.constructor.prototype.canPlayType;return os&&(fs.TEST_VID.constructor.prototype.canPlayType=os),t},fs.patchCanPlayType(),fs.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},fs.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),r=e.length;r--;)t.removeChild(e[r]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){fs.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){fs.prototype["set"+lr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){fs.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(t){fs.prototype["set"+lr(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){fs.prototype[t]=function(){return this.el_[t]()}})),wi.withSourceHandlers(fs),fs.nativeSourceHandler={},fs.nativeSourceHandler.canPlayType=function(t){try{return fs.TEST_VID.canPlayType(t)}catch(t){return""}},fs.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return fs.nativeSourceHandler.canPlayType(t.type);if(t.src){var r=pi(t.src);return fs.nativeSourceHandler.canPlayType("video/"+r)}return""},fs.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)},fs.nativeSourceHandler.dispose=function(){},fs.registerSourceHandler(fs.nativeSourceHandler),wi.registerTech("Html5",fs);var ms=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],gs={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ys=["tiny","xsmall","small","medium","large","xlarge","huge"],vs={};ys.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;vs[t]="vjs-layout-"+e}));var _s={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},bs=function(t){function e(r,i,n){var s;if(r.id=r.id||i.id||"vjs_video_"+Me(),(i=Vt(e.getTagSettings(r),i)).initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof r.closest){var o=r.closest("[lang]");o&&o.getAttribute&&(i.language=o.getAttribute("lang"))}else for(var l=r;l&&1===l.nodeType;){if(se(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if((s=t.call(this,null,i,n)||this).boundDocumentFullscreenChange_=Ye(h()(s),s.documentFullscreenChange_),s.boundFullWindowOnEscKey_=Ye(h()(s),s.fullWindowOnEscKey),s.isFullscreen_=!1,s.log=Bt(s.id_),s.fsApi_=Fr,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=r,s.tagAttributes=r&&se(r),s.language(s.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach((function(t){u[t.toLowerCase()]=i.languages[t]})),s.languages_=u}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=i.poster||"",s.controls_=!!i.controls,r.controls=!1,r.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],r.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach((function(t){if("function"!=typeof s[t])throw new Error('plugin "'+t+'" does not exist')})),s.scrubbing_=!1,s.el_=s.createEl(),nr(h()(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(je(a.a,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on("playerreset",s.updateStyleEl_);var c=ur(s.options_);i.plugins&&Object.keys(i.plugins).forEach((function(t){s[t](i.plugins[t])})),s.options_.playerOptions=c,s.middleware_=[],s.initChildren(),s.isAudio("audio"===r.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Cr&&s.addClass("vjs-touch-enabled"),Dr||s.addClass("vjs-workinghover"),e.players[s.id_]=h()(s);var p="7.7.5".split(".")[0];return s.addClass("vjs-v"+p),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("stageclick",s.handleStageClick_),s.on("keydown",s.handleKeyDown),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}p()(e,t);var r=e.prototype;return r.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),Ve(a.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ve(a.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),xi[this.id()]=null,Ei.names.forEach((function(t){var e=Ei[t],i=r[e.getterName]();i&&i.off&&i.off()})),t.prototype.dispose.call(this)},r.createEl=function(){var e,r=this.tag,i=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();i?e=this.el_=r.parentNode:s||(e=this.el_=t.prototype.createEl.call(this,"div"));var o=se(r);if(s){for(e=this.el_=r,r=this.tag=a.a.createElement("video");e.children.length;)r.appendChild(e.firstChild);te(e,"video-js")||ee(e,"video-js"),e.appendChild(r),i=this.playerElIngest_=e,Object.keys(e).forEach((function(t){try{r[t]=e[t]}catch(t){}}))}if(r.setAttribute("tabindex","-1"),o.tabindex="-1",(wr||Sr&&xr)&&(r.setAttribute("role","application"),o.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(t){s&&"class"===t||e.setAttribute(t,o[t]),s&&r.setAttribute(t,o[t])})),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=e.player=this,this.addClass("vjs-paused"),!0!==n.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Pe("vjs-styles-dimensions");var l=Te(".vjs-styles-defaults"),u=Te("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var h=r.getElementsByTagName("a"),c=0;c<h.length;c++){var p=h.item(c);ee(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!i&&r.parentNode.insertBefore(e,r),Zt(r,e),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=e,e},r.width=function(t){return this.dimension("width",t)},r.height=function(t){return this.dimension("height",t)},r.dimension=function(t,e){var r=t+"_";if(void 0===e)return this[r]||0;if(""===e||"auto"===e)return this[r]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?Nt.error('Improper value "'+e+'" supplied for for '+t):(this[r]=i,this.updateStyleEl_())},r.fluid=function(t){if(void 0===t)return!!this.fluid_;var e,r;this.fluid_=!!t,$e(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),$e(e=function(){this.on("playerreset",this.updateStyleEl_)})?r():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(r))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(!0!==n.a.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,r,i=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),s=i[1]/i[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*s,r=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(r),De(this.styleEl_,"\n      ."+r+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+r+".vjs-fluid {\n        padding-top: "+100*s+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(a>=0&&(l.width=a),o>=0&&(l.height=o))}},r.loadTech_=function(t,e){var r=this;this.tech_&&this.unloadTech_();var i=lr(t),n=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(wi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var s={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+n+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Ei.names.forEach((function(t){var e=Ei[t];s[e.getterName]=r[e.privateName]})),Vt(s,this.options_[i]),Vt(s,this.options_[n]),Vt(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var a=wi.getTech(t);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(Ye(this,this.handleTechReady_),!0),function(t,e){t.forEach((function(t){var r=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return r.addCue(t)}))})),e.textTracks()}(this.textTracksJson_||[],this.tech_),ms.forEach((function(t){r.on(r.tech_,t,r["handleTech"+lr(t)+"_"])})),Object.keys(gs).forEach((function(t){r.on(r.tech_,t,(function(e){0===r.tech_.playbackRate()&&r.tech_.seeking()?r.queuedCallbacks_.push({callback:r["handleTech"+gs[t]+"_"].bind(r),event:e}):r["handleTech"+gs[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||Zt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var t=this;Ei.names.forEach((function(e){var r=Ei[e];t[r.privateName]=t[r.getterName]()})),this.textTracksJson_=function(t){var e=t.$$("track"),r=Array.prototype.map.call(e,(function(t){return t.track}));return Array.prototype.map.call(e,(function(t){var e=Yr(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===r.indexOf(t)})).map(Yr))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(t){return void 0===t&&Nt.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},r.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var r,i=function(){var t=e.muted();e.muted(!0);var r=function(){e.muted(t)};e.playTerminatedQueue_.push(r);var i=e.play();if(Gr(i))return i.catch(r)};if("any"===t&&!0!==this.muted()?Gr(r=this.play())&&(r=r.catch(i)):r="muted"===t&&!0!==this.muted()?i():this.play(),Gr(r))return r.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(r){e.trigger({type:"autoplay-failure",autoplay:t})}))}},r.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,r="";"string"!=typeof e&&(e=t.src,r=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!r&&(r=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var r=t.cache_.sources.filter((function(t){return t.src===e}));if(r.length)return r[0].type;for(var i=t.$$("source"),n=0;n<i.length;n++){var s=i[n];if(s.type&&s.src&&s.src===e)return s.type}return Li(e)}(this,e)),this.cache_.source=ur({},t,{src:e,type:r});for(var i=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),n=[],s=this.$$("source"),a=[],o=0;o<s.length;o++){var l=se(s[o]);n.push(l),l.src&&l.src===e&&a.push(l.src)}a.length&&!i.length?this.cache_.sources=n:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},r.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var r=function(t){return e.updateSourceCaches_(t)},i=this.currentSource().src,n=t.src;i&&!/^blob:/.test(i)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==i)&&(r=function(){}),r(n),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var r=e.techGet("currentSrc");e.lastSource_.tech=r,e.updateSourceCaches_(r)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},r.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",(function r(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",r))}))},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(Nt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(t){_e(t)&&this.controls_&&(this.paused()?Wr(this.play()):this.pause())},r.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(t){t.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var r=this.el(),i=a.a[this.fsApi_.fullscreenElement]===r;!i&&r.matches?i=r.matches(":"+this.fsApi_.fullscreen):!i&&r.msMatchesSelector&&(i=r.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}},r.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var t=this.tech_.error();this.error(t)},r.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},r.techCall_=function(t,e){this.ready((function(){if(t in Di)return function(t,e,r,i){return e[r](t.reduce(Mi(r),i))}(this.middleware_,this.tech_,t,e);if(t in Ii)return Ai(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw Nt(t),t}}),!0)},r.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Pi)return function(t,e,r){return t.reduceRight(Mi(r),e[r]())}(this.middleware_,this.tech_,t);if(t in Ii)return Ai(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw Nt("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw Nt("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw Nt(e),e}}},r.play=function(){var t=this,e=this.options_.Promise||n.a.Promise;return e?new e((function(e){t.play_(e)})):this.play_()},r.play_=function(t){var e=this;void 0===t&&(t=Wr),this.playCallbacks_.push(t);var r=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(r||!Ir&&!Dr||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},r.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},r.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},r.pause=function(){this.techCall_("pause")},r.paused=function(){return!1!==this.techGet_("paused")},r.played=function(){return this.techGet_("played")||Rr(0,0)},r.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},r.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(t)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=Rr(0,0)),t},r.bufferedPercent=function(){return Nr(this.buffered(),this.duration())},r.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),r=t.end(t.length-1);return r>e&&(r=e),r},r.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},r.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},r.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},r.requestFullscreen=function(t){var e,r=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](e);return i&&i.then((function(){return r.isFullscreen(!0)}),(function(){return r.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=a.a[this.fsApi_.exitFullscreen]();return e&&e.then((function(){return t.isFullscreen(!1)})),e}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=a.a.documentElement.style.overflow,je(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow="hidden",ee(a.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(t){g.a.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Ve(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow=this.docOrigOverflow,re(a.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in a.a)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in a.a)return a.a.exitPictureInPicture()},r.handleKeyDown=function(t){var e=this.options_.userActions;e&&e.hotkeys&&(function(t){var e=t.tagName.toLowerCase();return!!t.isContentEditable||("input"===e?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(e))}(this.el_.ownerDocument.activeElement)||("function"==typeof e.hotkeys?e.hotkeys.call(this,t):this.handleHotkeys(t)))},r.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},r=e.fullscreenKey,i=void 0===r?function(t){return g.a.isEventKey(t,"f")}:r,n=e.muteKey,s=void 0===n?function(t){return g.a.isEventKey(t,"m")}:n,o=e.playPauseKey,l=void 0===o?function(t){return g.a.isEventKey(t,"k")||g.a.isEventKey(t,"Space")}:o;if(i.call(this,t)){t.preventDefault(),t.stopPropagation();var u=hr.getComponent("FullscreenToggle");!1!==a.a[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,t)}else s.call(this,t)?(t.preventDefault(),t.stopPropagation(),hr.getComponent("MuteToggle").prototype.handleClick.call(this,t)):l.call(this,t)&&(t.preventDefault(),t.stopPropagation(),hr.getComponent("PlayToggle").prototype.handleClick.call(this,t))},r.canPlayType=function(t){for(var e,r=0,i=this.options_.techOrder;r<i.length;r++){var n=i[r],s=wi.getTech(n);if(s||(s=hr.getComponent(n)),s){if(s.isSupported()&&(e=s.canPlayType(t)))return e}else Nt.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.')}return""},r.selectSource=function(t){var e,r=this,i=this.options_.techOrder.map((function(t){return[t,wi.getTech(t)]})).filter((function(t){var e=t[0],r=t[1];return r?r.isSupported():(Nt.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),n=function(t,e,r){var i;return t.some((function(t){return e.some((function(e){if(i=r(t,e))return!0}))})),i},s=function(t,e){var i=t[0];if(t[1].canPlaySource(e,r.options_[i.toLowerCase()]))return{source:e,tech:i}};return(this.options_.sourceOrder?n(t,i,(e=s,function(t,r){return e(r,t)})):n(i,t,s))||!1},r.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var r=function t(e){if(Array.isArray(e)){var r=[];e.forEach((function(e){e=t(e),Array.isArray(e)?r=r.concat(e):qt(e)&&r.push(e)})),e=r}else e="string"==typeof e&&e.trim()?[Ri({src:e})]:qt(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Ri(e)]:[];return e}(t);r.length?(this.changingSrc_=!0,this.cache_.sources=r,this.updateSourceCaches_(r[0]),function(t,e,r){t.setTimeout((function(){return function t(e,r,i,n,s,a){void 0===e&&(e={}),void 0===r&&(r=[]),void 0===s&&(s=[]),void 0===a&&(a=!1);var o=r,l=o[0],u=o.slice(1);if("string"==typeof l)t(e,ki[l],i,n,s,a);else if(l){var h=function(t,e){var r=xi[t.id()],i=null;if(null==r)return i=e(t),xi[t.id()]=[[e,i]],i;for(var n=0;n<r.length;n++){var s=r[n],a=s[0],o=s[1];a===e&&(i=o)}return null===i&&(i=e(t),r.push([e,i])),i}(n,l);if(!h.setSource)return s.push(h),t(e,u,i,n,s,a);h.setSource(Vt({},e),(function(r,o){if(r)return t(e,u,i,n,s,a);s.push(h),t(o,e.type===o.type?u:ki[o.type],i,n,s,a)}))}else u.length?t(e,u,i,n,s,a):a?i(e,s):t(e,ki["*"],i,n,s,!0)}(e,ki[e.type],r,t)}),1)}(this,r[0],(function(t,i){var n,s;if(e.middleware_=i,e.cache_.sources=r,e.updateSourceCaches_(t),e.src_(t))return r.length>1?e.src(r.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());n=i,s=e.tech_,n.forEach((function(t){return t.setTech&&t.setTech(s)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},r.src_=function(t){var e,r,i=this,n=this.selectSource([t]);return!n||(e=n.tech,r=this.techName_,lr(e)!==lr(r)?(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1))},r.load=function(){this.techCall_("load")},r.reset=function(){var t=this,e=this.options_.Promise||n.a.Promise;this.paused()||!e?this.doReset_():Wr(this.play().then((function(){return t.doReset_()})))},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),$e(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,r=t.remainingTimeDisplay;e&&e.updateContent(),r&&r.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},r.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},r.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},r.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},r.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Hr(t),this.addClass("vjs-error"),Nt.error("(CODE:"+this.error_.code+" "+Hr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},r.reportUserActivity=function(t){this.userActivity_=!0},r.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var t,e,r,i=Ye(this,this.reportUserActivity),n=function(e){i(),this.clearInterval(t)};this.on("mousedown",(function(){i(),this.clearInterval(t),t=this.setInterval(i,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===r||(e=t.screenX,r=t.screenY,i())})),this.on("mouseup",n),this.on("mouseleave",n);var s,a=this.getChild("controlBar");!a||Dr||yr||(a.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var t=this.options_.inactivityTimeout;t<=0||(s=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},r.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},r.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},r.addTextTrack=function(t,e,r){if(this.tech_)return this.tech_.addTextTrack(t,e,r)},r.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},r.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},r.languages=function(){return ur(e.prototype.options_.languages,this.languages_)},r.toJSON=function(){var t=ur(this.options_),e=t.tracks;t.tracks=[];for(var r=0;r<e.length;r++){var i=e[r];(i=ur(i)).player=void 0,t.tracks[r]=i}return t},r.createModal=function(t,e){var r=this;(e=e||{}).content=t||"";var i=new Kr(this,e);return this.addChild(i),i.on("dispose",(function(){r.removeChild(i)})),i.open(),i},r.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),r=0;r<ys.length;r++){var i=ys[r];if(e<=this.breakpoints_[i]){if(t===i)return;t&&this.removeClass(vs[t]),this.addClass(vs[i]),this.breakpoint_=i;break}}},r.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},r.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=Vt({},_s,t),this.updateCurrentBreakpoint_()),Vt(this.breakpoints_)},r.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return vs[this.breakpoint_]||""},r.loadMedia=function(t,e){var r=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=ur(t);var i=this.cache_.media,n=i.artwork,s=i.poster,a=i.src,o=i.textTracks;!n&&s&&(this.cache_.media.artwork=[{src:s,type:Li(s)}]),a&&this.src(a),s&&this.poster(s),Array.isArray(o)&&o.forEach((function(t){return r.addRemoteTextTrack(t,!1)})),this.ready(e)}},r.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}))};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:Li(e.poster)}]),e}return ur(this.cache_.media)},e.getTagSettings=function(t){var e={sources:[],tracks:[]},r=se(t),i=r["data-setup"];if(te(t,"vjs-fill")&&(r.fill=!0),te(t,"vjs-fluid")&&(r.fluid=!0),null!==i){var n=f()(i||"{}"),s=n[0],a=n[1];s&&Nt.error(s),Vt(r,a)}if(Vt(e,r),t.hasChildNodes())for(var o=t.childNodes,l=0,u=o.length;l<u;l++){var h=o[l],c=h.nodeName.toLowerCase();"source"===c?e.sources.push(se(h)):"track"===c&&e.tracks.push(se(h))}return e},r.flexNotSupported_=function(){var t=a.a.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(hr);Ei.names.forEach((function(t){var e=Ei[t];bs.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),bs.players={};var Ts=n.a.navigator;bs.prototype.options_={techOrder:wi.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ts&&(Ts.languages&&Ts.languages[0]||Ts.userLanguage||Ts.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){bs.prototype[t]=function(){return this.techGet_(t)}})),ms.forEach((function(t){bs.prototype["handleTech"+lr(t)+"_"]=function(){return this.trigger(t)}})),hr.registerComponent("Player",bs);var Ss={},Es=function(t){return Ss.hasOwnProperty(t)},ws=function(t){return Es(t)?Ss[t]:void 0},ks=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},xs=function(t,e,r){var i=(r?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},Cs=function(t,e){return e.prototype.name=t,function(){xs(this,{name:t,plugin:e,instance:null},!0);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=S()(e,[this].concat(i));return this[t]=function(){return s},xs(this,s.getEventHash()),s}},As=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,nr(this),delete this.trigger,ar(this,this.constructor.defaultState),ks(e,this.name),this.dispose=Ye(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),qe(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=Cs(t,Ss[t])},t.isBasic=function(e){var r="string"==typeof e?ws(e):e;return"function"==typeof r&&!t.prototype.isPrototypeOf(r.prototype)},t.registerPlugin=function(e,r){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(Es(e))Nt.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(bs.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof r)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof r+".");return Ss[e]=r,"plugin"!==e&&(t.isBasic(r)?bs.prototype[e]=function(t,e){var r=function(){xs(this,{name:t,plugin:e,instance:null},!0);var r=e.apply(this,arguments);return ks(this,t),xs(this,{name:t,plugin:e,instance:r}),r};return Object.keys(e).forEach((function(t){r[t]=e[t]})),r}(e,r):bs.prototype[e]=Cs(e,r)),r},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");Es(t)&&(delete Ss[t],delete bs.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Ss)),t.forEach((function(t){var r=ws(t);r&&((e=e||{})[t]=r)})),e},t.getPluginVersion=function(t){var e=ws(t);return e&&e.VERSION||""},t}();As.getPlugin=ws,As.BASE_PLUGIN_NAME="plugin",As.registerPlugin("plugin",As),bs.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},bs.prototype.hasPlugin=function(t){return!!Es(t)};var Ps=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Ds(t,e,r){var i=Ds.getPlayer(t);if(i)return e&&Nt.warn('Player "'+t+'" is already initialised. Options will not be applied.'),r&&i.ready(r),i;var n="string"==typeof t?Te("#"+Ps(t)):t;if(!Xt(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");n.ownerDocument.defaultView&&n.ownerDocument.body.contains(n)||Nt.warn("The element supplied is not included in the DOM"),e=e||{},Ds.hooks("beforesetup").forEach((function(t){var r=t(n,ur(e));qt(r)&&!Array.isArray(r)?e=ur(e,r):Nt.error("please return an object in beforesetup hooks")}));var s=hr.getComponent("Player");return i=new s(n,e,r),Ds.hooks("setup").forEach((function(t){return t(i)})),i}if(Ds.hooks_={},Ds.hooks=function(t,e){return Ds.hooks_[t]=Ds.hooks_[t]||[],e&&(Ds.hooks_[t]=Ds.hooks_[t].concat(e)),Ds.hooks_[t]},Ds.hook=function(t,e){Ds.hooks(t,e)},Ds.hookOnce=function(t,e){Ds.hooks(t,[].concat(e).map((function(e){return function r(){return Ds.removeHook(t,r),e.apply(void 0,arguments)}})))},Ds.removeHook=function(t,e){var r=Ds.hooks(t).indexOf(e);return!(r<=-1||(Ds.hooks_[t]=Ds.hooks_[t].slice(),Ds.hooks_[t].splice(r,1),0))},!0!==n.a.VIDEOJS_NO_DYNAMIC_STYLE&&Yt()){var Is=Te(".vjs-styles-defaults");if(!Is){Is=Pe("vjs-styles-defaults");var Ms=Te("head");Ms&&Ms.insertBefore(Is,Ms.firstChild),De(Is,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}xe(1,Ds),Ds.VERSION="7.7.5",Ds.options=bs.prototype.options_,Ds.getPlayers=function(){return bs.players},Ds.getPlayer=function(t){var e,r=bs.players;if("string"==typeof t){var i=Ps(t),n=r[i];if(n)return n;e=Te("#"+i)}else e=t;if(Xt(e)){var s=e,a=s.player,o=s.playerId;if(a||r[o])return a||r[o]}},Ds.getAllPlayers=function(){return Object.keys(bs.players).map((function(t){return bs.players[t]})).filter(Boolean)},Ds.players=bs.players,Ds.getComponent=hr.getComponent,Ds.registerComponent=function(t,e){wi.isTech(e)&&Nt.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),hr.registerComponent.call(hr,t,e)},Ds.getTech=wi.getTech,Ds.registerTech=wi.registerTech,Ds.use=function(t,e){ki[t]=ki[t]||[],ki[t].push(e)},Object.defineProperty(Ds,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ds.middleware,"TERMINATOR",{value:Ci,writeable:!1,enumerable:!0}),Ds.browser=Mr,Ds.TOUCH_ENABLED=Cr,Ds.extend=function(t,e){void 0===e&&(e={});var r=function(){t.apply(this,arguments)},i={};for(var n in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(r=e.constructor),i=e):"function"==typeof e&&(r=e),w()(r,t),t&&(r.super_=t),i)i.hasOwnProperty(n)&&(r.prototype[n]=i[n]);return r},Ds.mergeOptions=ur,Ds.bind=Ye,Ds.registerPlugin=As.registerPlugin,Ds.deregisterPlugin=As.deregisterPlugin,Ds.plugin=function(t,e){return Nt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),As.registerPlugin(t,e)},Ds.getPlugins=As.getPlugins,Ds.getPlugin=As.getPlugin,Ds.getPluginVersion=As.getPluginVersion,Ds.addLanguage=function(t,e){var r;return t=(""+t).toLowerCase(),Ds.options.languages=ur(Ds.options.languages,((r={})[t]=e,r)),Ds.options.languages[t]},Ds.log=Nt,Ds.createLogger=Bt,Ds.createTimeRange=Ds.createTimeRanges=Rr,Ds.formatTime=$i,Ds.setFormatTime=function(t){Ki=t},Ds.resetFormatTime=function(){Ki=Xi},Ds.parseUrl=hi,Ds.isCrossOrigin=di,Ds.EventTarget=Ke,Ds.on=je,Ds.one=He,Ds.off=Ve,Ds.trigger=qe,Ds.xhr=v.a,Ds.TextTrack=yi,Ds.AudioTrack=vi,Ds.VideoTrack=_i,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Ds[t]=function(){return Nt.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Ee[t].apply(null,arguments)}})),Ds.computedStyle=zt,Ds.dom=Ee,Ds.url=fi,Ds.defineLazyProperty=ds;var Os=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=x.a.buildAbsoluteURL(n.a.location.href,t)),x.a.buildAbsoluteURL(t,e))},Ls=function(t,e,r){return t&&r.responseURL&&e!==r.responseURL?r.responseURL:e},Rs=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ns=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Bs=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Fs=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Us=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],i=!0,n=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){n=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw s}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},js=Ds.mergeOptions,Vs=Ds.EventTarget,qs=Ds.log,Hs=function(t,e){["AUDIO","SUBTITLES"].forEach((function(r){for(var i in t.mediaGroups[r])for(var n in t.mediaGroups[r][i]){var s=t.mediaGroups[r][i][n];e(s,r,i,n)}}))},zs=function(t,e){var r=js(t,{}),i=r.playlists[e.uri];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.endList===e.endList&&i.mediaSequence===e.mediaSequence)return null;var n=js(i,e);i.segments&&(n.segments=function(t,e,r){var i=e.slice();r=r||0;for(var n=Math.min(t.length,e.length+r),s=r;s<n;s++)i[s-r]=js(t[s],i[s-r]);return i}(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),n.segments.forEach((function(t){!function(t,e){t.resolvedUri||(t.resolvedUri=Os(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Os(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Os(e,t.map.uri))}(t,n.resolvedUri)}));for(var s=0;s<r.playlists.length;s++)r.playlists[s].uri===e.uri&&(r.playlists[s]=n);return r.playlists[e.uri]=n,r},Gs=function(t){for(var e=t.playlists.length;e--;){var r=t.playlists[e];t.playlists[r.uri]=r,r.resolvedUri=Os(t.uri,r.uri),r.id=e,r.attributes||(r.attributes={},qs.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},Ws=function(t){Hs(t,(function(e){e.uri&&(e.resolvedUri=Os(t.uri,e.uri))}))},Ys=function(t,e){var r=t.segments[t.segments.length-1];return e&&r&&r.duration?1e3*r.duration:500*(t.targetDuration||10)},Xs=function(t){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Rs(this,e);var n=Fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),s=i.withCredentials,a=void 0!==s&&s,o=i.handleManifestRedirects,l=void 0!==o&&o;n.srcUrl=t,n.hls_=r,n.withCredentials=a,n.handleManifestRedirects=l;var u=r.options_;if(n.customTagParsers=u&&u.customTagParsers||[],n.customTagMappers=u&&u.customTagMappers||[],!n.srcUrl)throw new Error("A non-empty playlist URL is required");return n.state="HAVE_NOTHING",n.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===n.state&&(n.state="HAVE_CURRENT_METADATA",n.request=n.hls_.xhr({uri:Os(n.master.uri,n.media().uri),withCredentials:n.withCredentials},(function(t,e){if(n.request)return t?n.playlistRequestError(n.request,n.media().uri,"HAVE_METADATA"):void n.haveMetadata(n.request,n.media().uri)})))})),n}return Bs(e,t),Ns(e,[{key:"playlistRequestError",value:function(t,e,r){this.request=null,r&&(this.state=r),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var r=this;this.request=null,this.state="HAVE_METADATA";var i=new L;this.customTagParsers.forEach((function(t){return i.addParser(t)})),this.customTagMappers.forEach((function(t){return i.addTagMapper(t)})),i.push(t.responseText),i.end(),i.manifest.uri=e,i.manifest.attributes=i.manifest.attributes||{};var s=zs(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,s?(this.master=s,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(n.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=n.a.setTimeout((function(){r.trigger("mediaupdatetimeout")}),Ys(this.media(),!!s))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),n.a.clearTimeout(this.mediaUpdateTimeout),n.a.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t,e){var r=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(n.a.clearTimeout(this.finalRenditionTimeout),e){var i=t.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=n.a.setTimeout(this.media.bind(this,t,!1),i)}else{var s=this.state,a=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(a&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},(function(e,i){if(r.request){if(t.resolvedUri=Ls(r.handleManifestRedirects,t.resolvedUri,i),e)return r.playlistRequestError(r.request,t.uri,s);r.haveMetadata(i,t.uri),"HAVE_MASTER"===s?r.trigger("loadedmetadata"):r.trigger("mediachange")}}))}}}},{key:"pause",value:function(){this.stopRequest(),n.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;n.a.clearTimeout(this.mediaUpdateTimeout);var r=this.media();if(t){var i=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=n.a.setTimeout((function(){return e.load()}),i)}else this.started?r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,r){if(t.request){if(t.request=null,e)return t.error={status:r.status,message:"HLS playlist request error at URL: "+t.srcUrl+".",responseText:r.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var i=new L;return t.customTagParsers.forEach((function(t){return i.addParser(t)})),t.customTagMappers.forEach((function(t){return i.addTagMapper(t)})),i.push(r.responseText),i.end(),t.state="HAVE_MASTER",t.srcUrl=Ls(t.handleManifestRedirects,t.srcUrl,r),i.manifest.uri=t.srcUrl,i.manifest.playlists?(t.master=i.manifest,Gs(t.master),Ws(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(i.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:n.a.location.href,playlists:[{uri:t.srcUrl,id:0,resolvedUri:t.srcUrl,attributes:{}}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.haveMetadata(r,t.srcUrl),t.trigger("loadedmetadata"))}}))}}]),e}(Vs),Ks=Ds.createTimeRange,$s=function(t,e,r){var i,n;return void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(i=function(t,e){var r=0,i=e-t.mediaSequence,n=t.segments[i];if(n){if(void 0!==n.start)return{result:n.start,precise:!0};if(void 0!==n.end)return{result:n.end-n.duration,precise:!0}}for(;i--;){if(void 0!==(n=t.segments[i]).end)return{result:r+n.end,precise:!0};if(r+=n.duration,void 0!==n.start)return{result:r+n.start,precise:!0}}return{result:r,precise:!1}}(t,e)).precise?i.result:(n=function(t,e){for(var r=0,i=void 0,n=e-t.mediaSequence;n<t.segments.length;n++){if(void 0!==(i=t.segments[n]).start)return{result:i.start-r,precise:!0};if(r+=i.duration,void 0!==i.end)return{result:i.end-r,precise:!0}}return{result:-1,precise:!1}}(t,e)).precise?n.result:i.result+r},Qs=function(t,e,r){if(!t)return 0;if("number"!=typeof r&&(r=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return n.a.Infinity}return $s(t,e,r)},Js=function(t,e,r){var i=0;if(e>r){var n=[r,e];e=n[0],r=n[1]}if(e<0){for(var s=e;s<Math.min(0,r);s++)i+=t.targetDuration;e=0}for(var a=e;a<r;a++)i+=t.segments[a].duration;return i},Zs=function(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,r=t.segments[e].duration||t.targetDuration,i=r+2*t.targetDuration;e--&&!((r+=t.segments[e].duration)>=i););return Math.max(0,e)},ta=function(t,e,r){if(!t||!t.segments)return null;if(t.endList)return Qs(t);if(null===e)return null;e=e||0;var i=r?Zs(t):t.segments.length;return $s(t,t.mediaSequence+i,e)},ea=function(t){return t-Math.floor(t)==0},ra=function(t,e){if(ea(e))return e+.1*t;for(var r=e.toString().split(".")[1].length,i=1;i<=r;i++){var n=Math.pow(10,i),s=e*n;if(ea(s)||i===r)return(s+t)/n}},ia=ra.bind(null,1),na=ra.bind(null,-1),sa=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},aa=function(t){return t.excludeUntil&&t.excludeUntil===1/0},oa=function(t){var e=sa(t);return!t.disabled&&!e},la=function(t,e){return e.attributes&&e.attributes[t]},ua=function(t,e){if(1===t.playlists.length)return!0;var r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter((function(t){return!!oa(t)&&(t.attributes.BANDWIDTH||0)<r})).length},ha={duration:Qs,seekable:function(t,e){var r=e||0,i=ta(t,e,!0);return null===i?Ks():Ks(r,i)},safeLiveIndex:Zs,getMediaInfoForTime:function(t,e,r,i){var n=void 0,s=void 0,a=t.segments.length,o=e-i;if(o<0){if(r>0)for(n=r-1;n>=0;n--)if(s=t.segments[n],(o+=na(s.duration))>0)return{mediaIndex:n,startTime:i-Js(t,r,n)};return{mediaIndex:0,startTime:e}}if(r<0){for(n=r;n<0;n++)if((o-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};r=0}for(n=r;n<a;n++)if(s=t.segments[n],(o-=ia(s.duration))<0)return{mediaIndex:n,startTime:i+Js(t,r,n)};return{mediaIndex:a-1,startTime:e}},isEnabled:oa,isDisabled:function(t){return t.disabled},isBlacklisted:sa,isIncompatible:aa,playlistEnd:ta,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},isFmp4:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},hasAttribute:la,estimateSegmentRequestTime:function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!la("BANDWIDTH",r))return NaN;var n=t*r.attributes.BANDWIDTH;return(n-8*i)/e},isLowestEnabledRendition:ua},ca=Ds.xhr,pa=Ds.mergeOptions,da=function(){return function t(e,r){e=pa({timeout:45e3},e);var i=t.beforeRequest||Ds.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var n=i(e);n&&(e=n)}var s=ca(e,(function(t,e){var i=s.response;!t&&i&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=i.byteLength||i.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),e.headers&&(s.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(s.timedout=!0),t||s.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(s&&(i||s.responseText)))),r(t,s)})),a=s.abort;return s.abort=function(){return s.aborted=!0,a.apply(s,arguments)},s.uri=e.uri,s.requestTime=Date.now(),s}},fa=function(t){var e,r,i={};return t.byterange&&(i.Range=(r=(e=t.byterange).offset+e.length-1,"bytes="+e.offset+"-"+r)),i},ma=function(t,e){return t.start(e)+"-"+t.end(e)},ga=function(t,e){var r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},ya=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},va=function(t){var e={};return Object.keys(t).forEach((function(r){var i=t[r];ArrayBuffer.isView(i)?e[r]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[r]=i})),e},_a=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},ba=function(t){return t.resolvedUri},Ta=function(t){for(var e=Array.prototype.slice.call(t),r="",i=0;i<e.length/16;i++)r+=e.slice(16*i,16*i+16).map(ga).join("")+" "+e.slice(16*i,16*i+16).map(ya).join("")+"\n";return r},Sa=Object.freeze({createTransferableMessage:va,initSegmentId:_a,segmentKeyId:ba,hexDump:Ta,tagDump:function(t){var e=t.bytes;return Ta(e)},textRanges:function(t){var e="",r=void 0;for(r=0;r<t.length;r++)e+=ma(t,r)+" ";return e}}),Ea=function t(e){var r=e.programTime,i=e.playlist,n=e.retryCount,s=void 0===n?2:n,a=e.seekTo,o=e.pauseAfterSeek,l=void 0===o||o,u=e.tech,h=e.callback;if(!h)throw new Error("seekToProgramTime: callback must be provided");if(void 0===r||!i||!a)return h({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!u.hasStarted_)return h({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(i))return h({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var c=function(t,e){var r=void 0;try{r=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;var i=e.segments[0];if(r<i.dateTimeObject)return null;for(var n=0;n<e.segments.length-1&&(i=e.segments[n],!(r<e.segments[n+1].dateTimeObject));n++);var s,a=e.segments[e.segments.length-1],o=a.dateTimeObject,l=a.videoTimingInfo?(s=a.videoTimingInfo).transmuxedPresentationEnd-s.transmuxedPresentationStart-s.transmuxerPrependedSeconds:a.duration+.25*a.duration;return r>new Date(o.getTime()+1e3*l)?null:(r>o&&(i=a),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:ha.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(r,i);if(!c)return h({message:r+" was not found in the stream"});var p=c.segment,d=function(t,e){var r=void 0,i=void 0;try{r=new Date(t),i=new Date(e)}catch(t){}var n=r.getTime();return(i.getTime()-n)/1e3}(p.dateTimeObject,r);if("estimate"===c.type)return 0===s?h({message:r+" is not buffered yet. Try again"}):(a(c.estimatedStart+d),void u.one("seeked",(function(){t({programTime:r,playlist:i,retryCount:s-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:h})})));var f=p.start+d;u.one("seeked",(function(){return h(null,u.currentTime())})),l&&u.pause(),a(f)},wa=function(t,e){var r=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&r.push([t.start(i),t.end(i)]);return Ds.createTimeRanges(r)},ka=function(t,e){return wa(t,(function(t,r){return t-.1<=e&&r+.1>=e}))},xa=function(t,e){return wa(t,(function(t){return t-1/30>=e}))},Ca=function(t){var e=[];if(!t||!t.length)return"";for(var r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},Aa=function(t){for(var e=[],r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},Pa=function(t,e,r){var i=void 0,n=void 0;if(r&&r.cues)for(i=r.cues.length;i--;)(n=r.cues[i]).startTime<=e&&n.endTime>=t&&r.removeCue(n)},Da=function(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t},Ia="undefined"!=typeof window?window:{},Ma="undefined"==typeof Symbol?"__target":Symbol(),Oa=Ia.BlobBuilder||Ia.WebKitBlobBuilder||Ia.MozBlobBuilder||Ia.MSBlobBuilder,La=Ia.URL||Ia.webkitURL||La&&La.msURL,Ra=Ia.Worker;function Na(t,e){return function(r){var i=this;if(!e)return new Ra(t);if(Ra&&!r){var n=ja(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Ma]=new Ra(n),function(t,e){if(t&&e){var r=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&La.revokeObjectURL(t.objURL),r.call(t)}}}(this[Ma],n),this[Ma]}var s={postMessage:function(t){i.onmessage&&setTimeout((function(){i.onmessage({data:t,target:s})}))}};e.call(s),this.postMessage=function(t){setTimeout((function(){s.onmessage({data:t,target:i})}))},this.isThisThread=!0}}if(Ra){var Ba,Fa=ja("self.onmessage = function () {}"),Ua=new Uint8Array(1);try{(Ba=new Ra(Fa)).postMessage(Ua,[Ua.buffer])}catch(t){Ra=null}finally{La.revokeObjectURL(Fa),Ba&&Ba.terminate()}}function ja(t){try{return La.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(r){var e=new Oa;return e.append(t),La.createObjectURL(e.getBlob(type))}}var Va=new Na("./transmuxer-worker.worker.js",(function(t,e){var r=this;!function(){var t=function(){this.init=function(){var t={};this.on=function(e,r){t[e]||(t[e]=[]),t[e]=t[e].concat(r)},this.off=function(e,r){var i;return!!t[e]&&(i=t[e].indexOf(r),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var r,i,n,s;if(r=t[e])if(2===arguments.length)for(n=r.length,i=0;i<n;++i)r[i].call(this,arguments[1]);else{for(s=[],i=arguments.length,i=1;i<arguments.length;++i)s.push(arguments[i]);for(n=r.length,i=0;i<n;++i)r[i].apply(this,s)}},this.dispose=function(){t={}}}};t.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var e,i,n,s,a,o,l,u,h,c,p,d,f,m,g,y,v,_,b,T,S,E,w,k,x,C,A,P,D,I,M,O,L,R,N,B,F,U,j,V,q=t,H=Math.pow(2,32)-1;!function(){var t;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in E)E.hasOwnProperty(t)&&(E[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);w=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),k=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:C,audio:A},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),O=new Uint8Array([0,0,0,0,0,0,0,0]),L=O,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=O,D=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(t){var e,r,i=[],n=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)n+=i[e].byteLength;for(r=new Uint8Array(n+8),new DataView(r.buffer,r.byteOffset,r.byteLength).setUint32(0,r.byteLength),r.set(t,4),e=0,n=8;e<i.length;e++)r.set(i[e],n),n+=i[e].byteLength;return r},i=function(){return e(E.dinf,e(E.dref,M))},n=function(t){return e(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},g=function(t){return e(E.hdlr,P[t])},m=function(t){var r=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(r[12]=t.samplerate>>>24&255,r[13]=t.samplerate>>>16&255,r[14]=t.samplerate>>>8&255,r[15]=255&t.samplerate),e(E.mdhd,r)},f=function(t){return e(E.mdia,m(t),g(t.type),o(t))},a=function(t){return e(E.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},o=function(t){return e(E.minf,"video"===t.type?e(E.vmhd,D):e(E.smhd,I),i(),v(t))},l=function(t,r){for(var i=[],n=r.length;n--;)i[n]=b(r[n]);return e.apply(null,[E.moof,a(t)].concat(i))},u=function(t){for(var r=t.length,i=[];r--;)i[r]=p(t[r]);return e.apply(null,[E.moov,c(4294967295)].concat(i).concat(h(t)))},h=function(t){for(var r=t.length,i=[];r--;)i[r]=T(t[r]);return e.apply(null,[E.mvex].concat(i))},c=function(t){var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(E.mvhd,r)},y=function(t){var r,i,n=t.samples||[],s=new Uint8Array(4+n.length);for(i=0;i<n.length;i++)r=n[i].flags,s[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e(E.sdtp,s)},v=function(t){return e(E.stbl,_(t),e(E.stts,N),e(E.stsc,L),e(E.stsz,R),e(E.stco,O))},_=function(t){return e(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?B(t):F(t))},B=function(t){var r,i,n=t.sps||[],s=t.pps||[],a=[],o=[];for(r=0;r<n.length;r++)a.push((65280&n[r].byteLength)>>>8),a.push(255&n[r].byteLength),a=a.concat(Array.prototype.slice.call(n[r]));for(r=0;r<s.length;r++)o.push((65280&s[r].byteLength)>>>8),o.push(255&s[r].byteLength),o=o.concat(Array.prototype.slice.call(s[r]));if(i=[E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(E.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([n.length],a,[s.length],o))),e(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var l=t.sarRatio[0],u=t.sarRatio[1];i.push(e(E.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return e.apply(null,i)},F=function(t){return e(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),n(t))},d=function(t){var r=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(E.tkhd,r)},b=function(t){var r,i,n,s,a,o;return r=e(E.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(H+1)),o=Math.floor(t.baseMediaDecodeTime%(H+1)),i=e(E.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),"audio"===t.type?(n=S(t,92),e(E.traf,r,i,n)):(s=y(t),n=S(t,s.length+92),e(E.traf,r,i,n,s))},p=function(t){return t.duration=t.duration||4294967295,e(E.trak,d(t),f(t))},T=function(t){var r=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(r[r.length-1]=0),e(E.trex,r)},V=function(t,e){var r=0,i=0,n=0,s=0;return t.length&&(void 0!==t[0].duration&&(r=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(n=4),void 0!==t[0].compositionTimeOffset&&(s=8)),[0,0,r|i|n|s,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},j=function(t,r){var i,n,s,a;for(r+=20+16*(n=t.samples||[]).length,i=V(n,r),a=0;a<n.length;a++)s=n[a],i=i.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return e(E.trun,new Uint8Array(i))},U=function(t,r){var i,n,s,a;for(r+=20+8*(n=t.samples||[]).length,i=V(n,r),a=0;a<n.length;a++)s=n[a],i=i.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return e(E.trun,new Uint8Array(i))},S=function(t,e){return"audio"===t.type?U(t,e):j(t,e)},s=function(){return e(E.ftyp,w,k,w,x)};var z,G,W,Y,X,K,$,Q,J=function(t){return e(E.mdat,t)},Z=l,tt=function(t){var e,r=s(),i=u(t);return(e=new Uint8Array(r.byteLength+i.byteLength)).set(r),e.set(i,r.byteLength),e},et=function(t,e){var r={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return r.dataOffset=e,r.compositionTimeOffset=t.pts-t.dts,r.duration=t.duration,r.size=4*t.length,r.size+=t.byteLength,t.keyFrame&&(r.flags.dependsOn=2,r.flags.isNonSyncSample=0),r},rt=[33,16,5,32,164,27],it=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],nt=function(t){for(var e=[];t--;)e.push(0);return e},st={96e3:[rt,[227,64],nt(154),[56]],88200:[rt,[231],nt(170),[56]],64e3:[rt,[248,192],nt(240),[56]],48e3:[rt,[255,192],nt(268),[55,148,128],nt(54),[112]],44100:[rt,[255,192],nt(268),[55,163,128],nt(84),[112]],32e3:[rt,[255,192],nt(268),[55,234],nt(226),[112]],24e3:[rt,[255,192],nt(268),[55,255,128],nt(268),[111,112],nt(126),[224]],16e3:[rt,[255,192],nt(268),[55,255,128],nt(268),[111,255],nt(269),[223,108],nt(195),[1,192]],12e3:[it,nt(268),[3,127,248],nt(268),[6,255,240],nt(268),[13,255,224],nt(268),[27,253,128],nt(259),[56]],11025:[it,nt(268),[3,127,248],nt(268),[6,255,240],nt(268),[13,255,224],nt(268),[27,255,192],nt(268),[55,175,128],nt(108),[112]],8e3:[it,nt(268),[3,121,16],nt(47),[7]]},at=(z=st,Object.keys(z).reduce((function(t,e){return t[e]=new Uint8Array(z[e].reduce((function(t,e){return t.concat(e)}),[])),t}),{}));K=function(t,e){return G(X(t,e))},$=function(t,e){return W(Y(t),e)},Q=function(t,e,r){return Y(r?t:t-e)};var ot=9e4,lt=(G=function(t){return 9e4*t},W=function(t,e){return t*e},Y=function(t){return t/9e4},X=function(t,e){return t/e},K),ut=$,ht=Q,ct=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},pt=function(t,e){var r,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),r=t.timelineStartInfo.baseMediaDecodeTime,r+=i,r=Math.max(0,r),"audio"===t.type&&(r*=t.samplerate/9e4,r=Math.floor(r)),r},dt=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},ft=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new _t(0,0),new _t(0,1),new _t(1,0),new _t(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};(ft.prototype=new q).push=function(t){var e,r,i;if("sei_rbsp"===t.nalUnitType&&4===(e=function(t){for(var e=0,r={payloadType:-1,payloadSize:0},i=0,n=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)n+=255,e++;if(n+=t[e++],!r.payload&&4===i){r.payloadType=i,r.payloadSize=n,r.payload=t.subarray(e,e+n);break}e+=n,i=0,n=0}return r}(t.escapedRBSP)).payloadType&&(r=function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)}(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=function(t,e){var r,i,n,s,a=[];if(!(64&e[0]))return a;for(i=31&e[0],r=0;r<i;r++)s={type:3&e[2+(n=3*r)],pts:t},4&e[n+2]&&(s.ccData=e[n+3]<<8|e[n+4],a.push(s));return a}(t.pts,r),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},ft.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},ft.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},ft.prototype.flush=function(){return this.flushStream("flush")},ft.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ft.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},ft.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},ft.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},ft.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},ft.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var mt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},gt=function(t){return null===t?"":(t=mt[t]||t,String.fromCharCode(t))},yt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],vt=function(){for(var t=[],e=15;e--;)t.push("");return t},_t=function t(e,r){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=r||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,r,i,n,s;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,n=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=vt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=vt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=vt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,n))s=gt((i=(3&i)<<8)|n),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(i,n))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=gt((i=(3&i)<<8)|n),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(i,n))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&n)&&this.addFormatting(t.pts,["i"]),1==(1&n)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,n))this.column_+=3&n;else if(this.isPAC(i,n)){var a=yt.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===n&&(n=null),s=gt(i),s+=gt(n),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};_t.prototype=new q,_t.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},_t.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=vt(),this.nonDisplayed_=vt(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},_t.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},_t.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},_t.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},_t.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},_t.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},_t.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},_t.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},_t.prototype.isNormalChar=function(t){return t>=32&&t<=127},_t.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=vt(),this.displayed_=vt()),void 0!==e&&e!==this.row_)for(var r=0;r<this.rollUpRows_;r++)this.displayed_[e-r]=this.displayed_[this.row_-r],this.displayed_[this.row_-r]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},_t.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var r=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,r)},_t.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},_t.prototype.popOn=function(t,e){var r=this.nonDisplayed_[this.row_];r+=e,this.nonDisplayed_[this.row_]=r},_t.prototype.rollUp=function(t,e){var r=this.displayed_[this.row_];r+=e,this.displayed_[this.row_]=r},_t.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},_t.prototype.paintOn=function(t,e){var r=this.displayed_[this.row_];r+=e,this.displayed_[this.row_]=r};var bt={CaptionStream:ft,Cea608Stream:_t},Tt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},St=function(t,e){var r=1;for(t>e&&(r=-1);Math.abs(e-t)>4294967296;)t+=8589934592*r;return t},Et=function t(e){var r,i;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=St(t.dts,i),t.pts=St(t.pts,i),r=t.dts,this.trigger("data",t))},this.flush=function(){i=r,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,r=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Et.prototype=new q;var wt,kt=Et,xt=function(t,e,r){var i,n="";for(i=e;i<r;i++)n+="%"+("00"+t[i].toString(16)).slice(-2);return n},Ct=function(t,e,r){return decodeURIComponent(xt(t,e,r))},At=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Pt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Ct(t.data,1,e),t.value=Ct(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Ct(t.data,1,e),t.url=Ct(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,r;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(r=t.data,unescape(xt(r,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(wt=function(t){var e,r={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,n=[],s=0;if(wt.prototype.init.call(this),this.dispatchType=Tt.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(e=0;e<r.descriptor.length;e++)this.dispatchType+=("00"+r.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,o,l,u;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(s=0,n.length=0),0===n.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))r.debug&&console.log("Skipping unrecognized metadata packet");else if(n.push(t),s+=t.data.byteLength,1===n.length&&(i=At(t.data.subarray(6,10)),i+=10),!(s<i)){for(e={data:new Uint8Array(i),frames:[],pts:n[0].pts,dts:n[0].dts},u=0;u<i;)e.data.set(n[0].data.subarray(0,i-u),u),u+=n[0].data.byteLength,s-=n[0].data.byteLength,n.shift();a=10,64&e.data[5]&&(a+=4,a+=At(e.data.subarray(10,14)),i-=At(e.data.subarray(16,20)));do{if((o=At(e.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),data:e.data.subarray(a+10,a+o+10)}).key=l.id,Pt[l.id]&&(Pt[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var h=l.data,c=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;c*=4,c+=3&h[7],l.timeStamp=c,void 0===e.pts&&void 0===e.dts&&(e.pts=l.timeStamp,e.dts=l.timeStamp),this.trigger("timestamp",l)}e.frames.push(l),a+=10,a+=o}while(a<i);this.trigger("data",e)}}}).prototype=new q;var Dt,It,Mt,Ot=wt,Lt=kt;(Dt=function(){var t=new Uint8Array(188),e=0;Dt.prototype.init.call(this),this.push=function(r){var i,n=0,s=188;for(e?((i=new Uint8Array(r.byteLength+e)).set(t.subarray(0,e)),i.set(r,e),e=0):i=r;s<i.byteLength;)71!==i[n]||71!==i[s]?(n++,s++):(this.trigger("data",i.subarray(n,s)),n+=188,s+=188);n<i.byteLength&&(t.set(i.subarray(n),0),e=i.byteLength-n)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}}).prototype=new q,(It=function(){var t,e,r,i;It.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var n=0;i.payloadUnitStartIndicator&&(n+=t[n]+1),"pat"===i.type?e(t.subarray(n),i):r(t.subarray(n),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},r=function(t,e){var r,n;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},r=3+((15&t[1])<<8|t[2])-4,n=12+((15&t[10])<<8|t[11]);n<r;){var s=t[n],a=(31&t[n+1])<<8|t[n+2];s===Tt.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:s===Tt.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:s===Tt.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=s),n+=5+((15&t[n+3])<<8|t[n+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var r={},i=4;if(r.payloadUnitStartIndicator=!!(64&e[1]),r.pid=31&e[1],r.pid<<=8,r.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===r.pid)r.type="pat",t(e.subarray(i),r),this.trigger("data",r);else if(r.pid===this.pmtPid)for(r.type="pmt",t(e.subarray(i),r),this.trigger("data",r);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,r]):this.processPes_(e,i,r)},this.processPes_=function(t,e,r){r.pid===this.programMapTable.video?r.streamType=Tt.H264_STREAM_TYPE:r.pid===this.programMapTable.audio?r.streamType=Tt.ADTS_STREAM_TYPE:r.streamType=this.programMapTable["timed-metadata"][r.pid],r.type="pes",r.data=t.subarray(e),this.trigger("data",r)}}).prototype=new q,It.STREAM_TYPES={h264:27,adts:15},(Mt=function(){var t,e=this,r={data:[],size:0},i={data:[],size:0},n={data:[],size:0},s=function(t,r,i){var n,s,a=new Uint8Array(t.size),o={type:r},l=0,u=0;if(t.data.length&&!(t.size<9)){for(o.trackId=t.data[0].pid,l=0;l<t.data.length;l++)s=t.data[l],a.set(s.data,u),u+=s.data.byteLength;var h,c,p;h=a,(c=o).packetLength=6+(h[4]<<8|h[5]),c.dataAlignmentIndicator=0!=(4&h[6]),192&(p=h[7])&&(c.pts=(14&h[9])<<27|(255&h[10])<<20|(254&h[11])<<12|(255&h[12])<<5|(254&h[13])>>>3,c.pts*=4,c.pts+=(6&h[13])>>>1,c.dts=c.pts,64&p&&(c.dts=(14&h[14])<<27|(255&h[15])<<20|(254&h[16])<<12|(255&h[17])<<5|(254&h[18])>>>3,c.dts*=4,c.dts+=(6&h[18])>>>1)),c.data=h.subarray(9+h[8]),n="video"===r||o.packetLength<=t.size,(i||n)&&(t.size=0,t.data.length=0),n&&e.trigger("data",o)}};Mt.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,e;switch(a.streamType){case Tt.H264_STREAM_TYPE:case Tt.H264_STREAM_TYPE:t=r,e="video";break;case Tt.ADTS_STREAM_TYPE:t=i,e="audio";break;case Tt.METADATA_STREAM_TYPE:t=n,e="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&s(t,e,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var r={type:"metadata",tracks:[]};null!==(t=a.programMapTable).video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",r)}})[a.type]()},this.reset=function(){r.size=0,r.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(r,"video"),s(i,"audio"),s(n,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new q;var Rt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Dt,TransportParseStream:It,ElementaryStream:Mt,TimestampRolloverStream:Lt,CaptionStream:bt.CaptionStream,Cea608Stream:bt.Cea608Stream,MetadataStream:Ot};for(var Nt in Tt)Tt.hasOwnProperty(Nt)&&(Rt[Nt]=Tt[Nt]);var Bt,Ft=Rt,Ut=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Bt=function(t){var e,r=0;Bt.prototype.init.call(this),this.push=function(i){var n,s,a,o,l,u,h=0;if(t||(r=0),"audio"===i.type)for(e?(o=e,(e=new Uint8Array(o.byteLength+i.data.byteLength)).set(o),e.set(i.data,o.byteLength)):e=i.data;h+5<e.length;)if(255===e[h]&&240==(246&e[h+1])){if(s=2*(1&~e[h+1]),n=(3&e[h+3])<<11|e[h+4]<<3|(224&e[h+5])>>5,u=9e4*(l=1024*(1+(3&e[h+6])))/Ut[(60&e[h+2])>>>2],a=h+n,e.byteLength<a)return;if(this.trigger("data",{pts:i.pts+r*u,dts:i.dts+r*u,sampleCount:l,audioobjecttype:1+(e[h+2]>>>6&3),channelcount:(1&e[h+2])<<2|(192&e[h+3])>>>6,samplerate:Ut[(60&e[h+2])>>>2],samplingfrequencyindex:(60&e[h+2])>>>2,samplesize:16,data:e.subarray(h+7+s,a)}),r++,e.byteLength===a)return void(e=void 0);e=e.subarray(a)}else h++},this.flush=function(){r=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}}).prototype=new q;var jt,Vt,qt,Ht=Bt,zt=function(t){var e=t.byteLength,r=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var n=t.byteLength-e,s=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");s.set(t.subarray(n,n+a)),r=new DataView(s.buffer).getUint32(0),i=8*a,e-=a},this.skipBits=function(t){var n;i>t?(r<<=t,i-=t):(t-=i,t-=8*(n=Math.floor(t/8)),e-=n,this.loadWord(),r<<=t,i-=t)},this.readBits=function(t){var n=Math.min(i,t),s=r>>>32-n;return(i-=n)>0?r<<=n:e>0&&this.loadWord(),(n=t-n)>0?s<<n|this.readBits(n):s},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(r&2147483648>>>t))return r<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Vt=function(){var t,e,r=0;Vt.prototype.init.call(this),this.push=function(i){var n;e?((n=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),n.set(i.data,e.byteLength),e=n):e=i.data;for(var s=e.byteLength;r<s-3;r++)if(1===e[r+2]){t=r+5;break}for(;t<s;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}r+3!==t-2&&this.trigger("data",e.subarray(r+3,t-2));do{t++}while(1!==e[t]&&t<s);r=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(r+3,t-2)),r=t-2,t+=3;break;default:t+=3}e=e.subarray(r),t-=r,r=0},this.reset=function(){e=null,r=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(r+3)),e=null,r=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new q,qt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(jt=function(){var t,e,r,i,n,s,a,o=new Vt;jt.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,r=t.pts,i=t.dts,o.push(t))},o.on("data",(function(a){var o={trackId:e,pts:r,dts:i,data:a};switch(31&a[0]){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=n(a.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=n(a.subarray(1)),o.config=s(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",o)})),o.on("done",(function(){t.trigger("done")})),o.on("partialdone",(function(){t.trigger("partialdone")})),o.on("reset",(function(){t.trigger("reset")})),o.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},a=function(t,e){var r,i=8,n=8;for(r=0;r<t;r++)0!==n&&(n=(i+e.readExpGolomb()+256)%256),i=0===n?i:n},n=function(t){for(var e,r,i=t.byteLength,n=[],s=1;s<i-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(n.push(s+2),s+=2):s++;if(0===n.length)return t;e=i-n.length,r=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===n[0]&&(a++,n.shift()),r[s]=t[a];return r},s=function(t){var e,r,i,n,s,o,l,u,h,c,p,d,f,m=0,g=0,y=0,v=0,_=1;if(r=(e=new zt(t)).readUnsignedByte(),n=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),qt[r]&&(3===(s=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(p=3!==s?8:12,f=0;f<p;f++)e.readBoolean()&&a(f<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(o=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===o)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),f=0;f<l;f++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),h=e.readUnsignedExpGolomb(),0===(c=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}d&&(_=d[0]/d[1])}return{profileIdc:r,levelIdc:i,profileCompatibility:n,width:Math.ceil((16*(u+1)-2*m-2*g)*_),height:(2-c)*(h+1)*16-2*y-2*v,sarRatio:d}}}).prototype=new q;var Gt,Wt={H264Stream:jt,NalByteStream:Vt},Yt=function(t,e){var r=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?r+20:r+10},Xt=function(t,e){var r=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|r};(Gt=function(){var t=new Uint8Array,e=0;Gt.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(r){var i,n,s,a,o=0,l=0;for(t.length?(a=t.length,(t=new Uint8Array(r.byteLength+a)).set(t.subarray(0,a)),t.set(r,a)):t=r;t.length-l>=3;)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(255!=(255&t[l])||240!=(240&t[l+1]))l++;else{if(t.length-l<7)break;if(l+(o=Xt(t,l))>t.length)break;s={type:"audio",data:t.subarray(l,l+o),pts:e,dts:e},this.trigger("data",s),l+=o}else{if(t.length-l<10)break;if(l+(o=Yt(t,l))>t.length)break;n={type:"timed-metadata",data:t.subarray(l,l+o)},this.trigger("data",n),l+=o}i=t.length-l,t=i>0?t.subarray(l):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new q;var Kt,$t,Qt,Jt,Zt=Gt,te=Wt.H264Stream,ee=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},re=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ie=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ne=function(t,e){var r;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},se=function(t,e,r,i,n,s){return{start:{dts:t,pts:t+(r-e)},end:{dts:t+(i-e),pts:t+(n-r)},prependedContentDuration:s,baseMediaDecodeTime:t}};($t=function(t,e){var r=[],i=0,n=0,s=0,a=1/0;e=e||{},$t.prototype.init.call(this),this.push=function(e){dt(t,e),t&&re.forEach((function(r){t[r]=e[r]})),r.push(e)},this.setEarliestDts=function(e){n=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){s=t},this.flush=function(){var o,l,u,h,c;0!==r.length?(o=function(t,e,r){return e.minSegmentDts>=r?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=r&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))}(r,t,n),t.baseMediaDecodeTime=pt(t,e.keepOriginalTimestamps),function(t,e,r,i){var n,s,a,o,l,u=0,h=0,c=0;if(e.length&&(n=lt(t.baseMediaDecodeTime,t.samplerate),s=Math.ceil(ot/(t.samplerate/1024)),r&&i&&(u=n-Math.max(r,i),c=(h=Math.floor(u/s))*s),!(h<1||c>ot/2))){for((a=at[t.samplerate])||(a=e[0].data),o=0;o<h;o++)l=e[0],e.splice(0,0,{data:a,dts:l.dts-s,pts:l.pts-s});t.baseMediaDecodeTime-=Math.floor(ut(c,t.samplerate))}}(t,o,s,a),t.samples=function(t){var e,r,i=[];for(e=0;e<t.length;e++)r=t[e],i.push({size:r.data.byteLength,duration:1024});return i}(o),u=J(function(t){var e,r,i=0,n=new Uint8Array(function(t){var e,r=0;for(e=0;e<t.length;e++)r+=t[e].data.byteLength;return r}(t));for(e=0;e<t.length;e++)r=t[e],n.set(r.data,i),i+=r.data.byteLength;return n}(o)),r=[],l=Z(i,[t]),h=new Uint8Array(l.byteLength+u.byteLength),i++,h.set(l),h.set(u,l.byteLength),ct(t),c=Math.ceil(9216e4/t.samplerate),o.length&&this.trigger("timingInfo",{start:o[0].dts,end:o[0].dts+o.length*c}),this.trigger("data",{track:t,boxes:h}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){ct(t),r=[],this.trigger("reset")}}).prototype=new q,(Kt=function(t,e){var r,i,n=0,s=[],a=[];e=e||{},Kt.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){dt(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.config,t.sps=[e.data],ie.forEach((function(e){t[e]=r[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),s.push(e)},this.flush=function(){for(var r,i,o,l,u,h,c,p=0;s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if((i=function(t){var e,r,i=[],n=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,e=0;e<t.length;e++)(r=t[e]).keyFrame?(i.length&&(n.push(i),n.byteLength+=i.byteLength,n.nalCount+=i.nalCount,n.duration+=i.duration),(i=[r]).nalCount=r.length,i.byteLength=r.byteLength,i.pts=r.pts,i.dts=r.dts,i.duration=r.duration):(i.duration+=r.duration,i.nalCount+=r.length,i.byteLength+=r.byteLength,i.push(r));return n.length&&i.duration<=0&&(i.duration=n[n.length-1].duration),n.byteLength+=i.byteLength,n.nalCount+=i.nalCount,n.duration+=i.duration,n.push(i),n}(function(t){var e,r,i=[],n=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(r=t[e]).nalUnitType?(i.length&&(i.duration=r.dts-i.dts,n.byteLength+=i.byteLength,n.nalCount+=i.length,n.duration+=i.duration,n.push(i)),(i=[r]).byteLength=r.data.byteLength,i.pts=r.pts,i.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(i.keyFrame=!0),i.duration=r.dts-i.dts,i.byteLength+=r.data.byteLength,i.push(r));return n.length&&(!i.duration||i.duration<=0)&&(i.duration=n[n.length-1].duration),n.byteLength+=i.byteLength,n.nalCount+=i.length,n.duration+=i.duration,n.push(i),n}(s)))[0][0].keyFrame||((r=this.getGopForFusion_(s[0],t))?(p=r.duration,i.unshift(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.pts=r.pts,i.dts=r.dts,i.duration+=r.duration):i=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t}(i)),a.length){var d;if(!(d=e.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");ct(t),i=d}dt(t,i),t.samples=function(t,e){var r,i,n,s,a,o=e||0,l=[];for(r=0;r<t.length;r++)for(s=t[r],i=0;i<s.length;i++)a=s[i],o+=(n=et(a,o)).size,l.push(n);return l}(i),l=J(function(t){var e,r,i,n,s,a,o=0,l=t.byteLength,u=t.nalCount,h=new Uint8Array(l+4*u),c=new DataView(h.buffer);for(e=0;e<t.length;e++)for(n=t[e],r=0;r<n.length;r++)for(s=n[r],i=0;i<s.length;i++)a=s[i],c.setUint32(o,a.data.byteLength),o+=4,h.set(a.data,o),o+=a.data.byteLength;return h}(i)),t.baseMediaDecodeTime=pt(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),h=i[0],c=i[i.length-1],this.trigger("segmentTimingInfo",se(t.baseMediaDecodeTime,h.dts,h.pts,c.dts+c.duration,c.pts+c.duration,p)),this.trigger("timingInfo",{start:i[0].dts,end:i[i.length-1].dts+i[i.length-1].duration}),this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),o=Z(n,[t]),u=new Uint8Array(o.byteLength+l.byteLength),n++,u.set(o),u.set(l,o.byteLength),this.trigger("data",{track:t,boxes:u}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),s=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){ct(t),r=void 0,i=void 0},this.getGopForFusion_=function(e){var r,i,n,s,a,o=1/0;for(a=0;a<this.gopCache_.length;a++)n=(s=this.gopCache_[a]).gop,t.pps&&ne(t.pps[0],s.pps[0])&&t.sps&&ne(t.sps[0],s.sps[0])&&(n.dts<t.timelineStartInfo.dts||(r=e.dts-n.dts-n.duration)>=-1e4&&r<=45e3&&(!i||o>r)&&(i=s,o=r));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,r,i,n,s,o,l,u;for(s=t.byteLength,o=t.nalCount,l=t.duration,e=r=0;e<a.length&&r<t.length&&(i=a[e],n=t[r],i.pts!==n.pts);)n.pts>i.pts?e++:(r++,s-=n.byteLength,o-=n.nalCount,l-=n.duration);return 0===r?t:r===t.length?null:((u=t.slice(r)).byteLength=s,u.duration=l,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,r,i,n,s,o,l;for(e=a.length-1,r=t.length-1,s=null,o=!1;e>=0&&r>=0;){if(i=a[e],n=t[r],i.pts===n.pts){o=!0;break}i.pts>n.pts?e--:(e===a.length-1&&(s=r),r--)}if(!o&&null===s)return null;if(0===(l=o?r:s))return t;var u=t.slice(l),h=u.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=h.byteLength,u.duration=h.duration,u.nalCount=h.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){a=t}}).prototype=new q,(Jt=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Jt.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}}).prototype=new q,Jt.prototype.flush=function(t){var e,r,i,n,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,ie.forEach((function(t){a.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,re.forEach((function(t){a.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=tt(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),n=0;n<this.pendingBoxes.length;n++)a.data.set(this.pendingBoxes[n],s),s+=this.pendingBoxes[n].byteLength;for(n=0;n<this.pendingCaptions.length;n++)(e=this.pendingCaptions[n]).startTime=ht(e.startPts,o,this.keepOriginalTimestamps),e.endTime=ht(e.endPts,o,this.keepOriginalTimestamps),a.captionStreams[e.stream]=!0,a.captions.push(e);for(n=0;n<this.pendingMetadata.length;n++)(r=this.pendingMetadata[n]).cueTime=ht(r.pts,o,this.keepOriginalTimestamps),a.metadata.push(r);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),n=0;n<a.captions.length;n++)e=a.captions[n],this.trigger("caption",e);for(n=0;n<a.metadata.length;n++)r=a.metadata[n],this.trigger("id3Frame",r)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Jt.prototype.setRemux=function(t){this.remuxTracks=t},(Qt=function(t){var e,r,i=this,n=!0;Qt.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="aac",n.metadataStream=new Ft.MetadataStream,n.aacStream=new Zt,n.audioTimestampRolloverStream=new Ft.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new Ft.TimestampRolloverStream("timed-metadata"),n.adtsStream=new Ht,n.coalesceStream=new Jt(t,n.metadataStream),n.headOfPipeline=n.aacStream,n.aacStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.aacStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.metadataStream.on("timestamp",(function(t){n.aacStream.setTimestamp(t.timeStamp)})),n.aacStream.on("data",(function(s){"timed-metadata"!==s.type||n.audioSegmentStream||(r=r||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new $t(r,t),n.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!e})})),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="ts",n.metadataStream=new Ft.MetadataStream,n.packetStream=new Ft.TransportPacketStream,n.parseStream=new Ft.TransportParseStream,n.elementaryStream=new Ft.ElementaryStream,n.timestampRolloverStream=new Ft.TimestampRolloverStream,n.adtsStream=new Ht,n.h264Stream=new te,n.captionStream=new Ft.CaptionStream,n.coalesceStream=new Jt(t,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream).pipe(n.timestampRolloverStream),n.timestampRolloverStream.pipe(n.h264Stream),n.timestampRolloverStream.pipe(n.adtsStream),n.timestampRolloverStream.pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",(function(s){var a;if("metadata"===s.type){for(a=s.tracks.length;a--;)e||"video"!==s.tracks[a].type?r||"audio"!==s.tracks[a].type||((r=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(e=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;e&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new Kt(e,t),n.videoSegmentStream.on("timelineStartInfo",(function(t){r&&(r.timelineStartInfo=t,n.audioSegmentStream.setEarliestDts(t.dts))})),n.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),n.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",(function(t){r&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),n.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),r&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new $t(r,t),n.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!r,hasVideo:!!e})}})),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("id3Frame",(function(t){t.dispatchType=n.metadataStream.dispatchType,i.trigger("id3Frame",t)})),n.coalesceStream.on("caption",this.trigger.bind(this,"caption")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var n=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),r&&(r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,ct(r),t.keepOriginalTimestamps||(r.timelineStartInfo.baseMediaDecodeTime=i),n.audioTimestampRolloverStream&&n.audioTimestampRolloverStream.discontinuity()),e&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,ct(e),n.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=i)),n.timestampRolloverStream&&n.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){r&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var r=this.transmuxPipeline_;t.remux=e,r&&r.coalesceStream&&r.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(n){var e=ee(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new q;var ae={Transmuxer:Qt,VideoSegmentStream:Kt,AudioSegmentStream:$t,AUDIO_PROPERTIES:re,VIDEO_PROPERTIES:ie,generateVideoSegmentTimingInfo:se},oe=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),le=function(){function t(e,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.options=r||{},this.self=e,this.init()}return oe(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new ae.Transmuxer(this.options),function(t,e){e.on("data",(function(e){var r=e.initSegment;e.initSegment={data:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength};var i=e.data;e.data=i.buffer,t.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])})),e.captionStream&&e.captionStream.on("data",(function(e){t.postMessage({action:"caption",data:e})})),e.on("done",(function(e){t.postMessage({action:"done"})})),e.on("gopInfo",(function(e){t.postMessage({action:"gopInfo",gopInfo:e})})),e.on("videoSegmentTimingInfo",(function(e){t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})}))}(this.self,this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new le(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new le(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(r)}()})),qa={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Ha=function(t){return t.map((function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,r){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(r).toString(16)).slice(-2)}))}))},za=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={codecCount:0},r=void 0;return e.codecCount=t.split(",").length,e.codecCount=e.codecCount||2,(r=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t))&&(e.videoCodec=r[2],e.videoObjectTypeIndicator=r[3]),e.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),e.audioProfile=e.audioProfile&&e.audioProfile[2],e},Ga=function(t,e,r){return t+"/"+e+'; codecs="'+r.filter((function(t){return!!t})).join(", ")+'"'},Wa=function(t){var e={type:"",parameters:{}},r=t.trim().split(";");return e.type=r.shift().trim(),r.forEach((function(t){var r=t.trim().split("=");if(r.length>1){var i=r[0].replace(/"/g,"").trim(),n=r[1].replace(/"/g,"").trim();e.parameters[i]=n}})),e},Ya=function(t){return/mp4a\.\d+.\d+/i.test(t)},Xa=function(t){return/avc1\.[\da-f]+/i.test(t)},Ka=function(t,e,r){if(null==e||!t.length)return[];var i=Math.ceil(9e4*(e-r+3)),n=void 0;for(n=0;n<t.length&&!(t[n].pts>i);n++);return t.slice(n)},$a=function(t){function e(t,r){Rs(this,e);var i=Fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Ds.EventTarget));i.timestampOffset_=0,i.pendingBuffers_=[],i.bufferUpdating_=!1,i.mediaSource_=t,i.codecs_=r,i.audioCodec_=null,i.videoCodec_=null,i.audioDisabled_=!1,i.appendAudioInitSegment_=!0,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Ds.browser.IE_VERSION>=11;var n={remux:!1,alignGopsAtEnd:i.safeAppend_};return i.codecs_.forEach((function(t){Ya(t)?i.audioCodec_=t:Xa(t)&&(i.videoCodec_=t)})),i.transmuxer_=new Va,i.transmuxer_.postMessage({action:"init",options:n}),i.transmuxer_.onmessage=function(t){return"data"===t.data.action?i.data_(t):"done"===t.data.action?i.done_(t):"gopInfo"===t.data.action?i.appendGopInfo_(t):"videoSegmentTimingInfo"===t.data.action?i.videoSegmentTimingInfo_(t.data.videoSegmentTimingInfo):void 0},Object.defineProperty(i,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(i,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(i,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(i,"buffered",{get:function(){return function(t,e,r){var i=null,n=null,s=0,a=[],o=[];if(!t&&!e)return Ds.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(r)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return Ds.createTimeRange();for(var l=t.buffered,u=e.buffered,h=l.length;h--;)a.push({time:l.start(h),type:"start"}),a.push({time:l.end(h),type:"end"});for(h=u.length;h--;)a.push({time:u.start(h),type:"start"}),a.push({time:u.end(h),type:"end"});for(a.sort((function(t,e){return t.time-e.time})),h=0;h<a.length;h++)"start"===a[h].type?2==++s&&(i=a[h].time):"end"===a[h].type&&1==--s&&(n=a[h].time),null!==i&&null!==n&&(o.push([i,n]),i=null,n=null);return Ds.createTimeRanges(o)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),i}return Bs(e,t),Ns(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),function(t,e,r){var i=e.player_;if(r.captions&&r.captions.length)for(var n in t.inbandTextTracks_||(t.inbandTextTracks_={}),r.captionStreams)if(!t.inbandTextTracks_[n]){i.tech_.trigger({type:"usage",name:"hls-608"});var s=i.textTracks().getTrackById(n);t.inbandTextTracks_[n]=s||i.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}r.metadata&&r.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=r.metadata.dispatchType)}(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(t){var e={start:{decode:t.start.dts/9e4,presentation:t.start.pts/9e4},end:{decode:t.end.dts/9e4,presentation:t.end.pts/9e4},baseMediaDecodeTime:t.baseMediaDecodeTime/9e4};t.prependedContentDuration&&(e.prependedContentDuration=t.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach((function(r){if(t[r+"Codec_"]&&!t[r+"Buffer_"]){var i=null;if(t.mediaSource_[r+"Buffer_"])(i=t.mediaSource_[r+"Buffer_"]).updating=!1;else{var n=r+'/mp4;codecs="'+t[r+"Codec_"]+'"';i=function(t,e){var r=t.addSourceBuffer(e),i=Object.create(null);i.updating=!1,i.realBuffer_=r;var n=function(t){"function"==typeof r[t]?i[t]=function(){return r[t].apply(r,arguments)}:void 0===i[t]&&Object.defineProperty(i,t,{get:function(){return r[t]},set:function(e){return r[t]=e}})};for(var s in r)n(s);return i}(t.mediaSource_.nativeMediaSource_,n),t.mediaSource_[r+"Buffer_"]=i}t[r+"Buffer_"]=i,["update","updatestart","updateend"].forEach((function(n){i.addEventListener(n,(function(){if("audio"!==r||!t.audioDisabled_)return"updateend"===n&&(t[r+"Buffer_"].updating=!1),e.every((function(e){return!("audio"!==e||!t.audioDisabled_)||r===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating}))?t.trigger(n):void 0}))}))}}))}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:Ka(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=function(t,e,r){if(!e.length)return t;if(r)return e.slice();for(var i=e[0].pts,n=0;n<t.length&&!(t[n].pts>=i);n++);return t.slice(0,n).concat(e)}(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=function(t,e,r,i){for(var n=Math.ceil(9e4*(e-i)),s=Math.ceil(9e4*(r-i)),a=t.slice(),o=t.length;o--&&!(t[o].pts<=s););if(-1===o)return a;for(var l=o+1;l--&&!(t[l].pts<=n););return l=Math.max(l,0),a.splice(l,o-l+1),a}(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),Pa(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)Pa(t,e,this.inbandTextTracks_[r])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);t=this.pendingBuffers_.reduce((function(t,e){var r=e.type,i=e.data,n=e.initSegment;return t[r].segments.push(i),t[r].bytes+=i.byteLength,t[r].initSegment=n,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[r].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t}),t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),function(t,e,r){var i=n.a.WebKitDataCue||n.a.VTTCue;if(e&&e.forEach((function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new i(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))}),t),r){var s=Da(t.mediaSource_.duration);if(r.forEach((function(t){var e=t.cueTime+this.timestampOffset;!("number"!=typeof e||n.a.isNaN(e)||e<0)&&e<1/0&&t.frames.forEach((function(t){var r=new i(e,e,t.value||t.url||t.data||"");r.frame=t,r.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return Ds.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Ds.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Ds.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(r),this.metadataTrack_.addCue(r)}),this)}),t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var a=t.metadataTrack_.cues,o=[],l=0;l<a.length;l++)a[l]&&o.push(a[l]);var u=o.reduce((function(t,e){var r=t[e.startTime]||[];return r.push(e),t[e.startTime]=r,t}),{}),h=Object.keys(u).sort((function(t,e){return Number(t)-Number(e)}));h.forEach((function(t,e){var r=u[t],i=Number(h[e+1])||s;r.forEach((function(t){t.endTime=i}))}))}}}(this,t.captions,t.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var r=0,i=void 0;if(t.bytes){i=new Uint8Array(t.bytes),t.segments.forEach((function(t){i.set(t,r),r+=t.byteLength}));try{e.updating=!0,e.appendBuffer(i)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(Ds.EventTarget),Qa=function(t){function e(){Rs(this,e);var t=Fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=void 0;for(r in t.nativeMediaSource_=new n.a.MediaSource,t.nativeMediaSource_)r in e.prototype||"function"!=typeof t.nativeMediaSource_[r]||(t[r]=t.nativeMediaSource_[r].bind(t.nativeMediaSource_));return t.duration_=NaN,Object.defineProperty(t,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){this.duration_=t,t===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(t,"seekable",{get:function(){return this.duration_===1/0?Ds.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(t,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(t,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),t.sourceBuffers=[],t.activeSourceBuffers_=[],t.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var r=!1,i=!0,n=0;n<t.player_.audioTracks().length;n++){var s=t.player_.audioTracks()[n];if(s.enabled&&"main"!==s.kind){r=!0,i=!1;break}}t.sourceBuffers.forEach((function(e,n){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=r;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,i=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=n?i:!i,e.audioDisabled_))return;t.activeSourceBuffers_.push(e)}))},t.onPlayerMediachange_=function(){t.sourceBuffers.forEach((function(t){t.appendAudioInitSegment_=!0}))},t.onHlsReset_=function(){t.sourceBuffers.forEach((function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})}))},t.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach((function(t){return t.timeMapping_=e.mapping}))},["sourceopen","sourceclose","sourceended"].forEach((function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))}),t),t.on("sourceopen",(function(e){var r=a.a.querySelector('[src="'+t.url_+'"]');r&&(t.player_=Ds(r.parentNode),t.player_&&(t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_)))})),t.on("sourceended",(function(e){for(var r=Da(t.duration),i=0;i<t.sourceBuffers.length;i++){var n=t.sourceBuffers[i],s=n.metadataTrack_&&n.metadataTrack_.cues;s&&s.length&&(s[s.length-1].endTime=r)}})),t.on("sourceclose",(function(t){this.sourceBuffers.forEach((function(t){t.transmuxer_&&t.transmuxer_.terminate()})),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})),t}return Bs(e,t),Ns(e,[{key:"addSeekableRange_",value:function(t,e){var r=void 0;if(this.duration!==1/0)throw(r=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",r.code=11,r;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,r=Wa(t);if(/^(video|audio)\/mp2t$/i.test(r.type)){var i=[];r.parameters&&r.parameters.codecs&&(i=r.parameters.codecs.split(","),i=(i=Ha(i)).filter((function(t){return Ya(t)||Xa(t)}))),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),e=new $a(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}(Ds.EventTarget),Ja=0;Ds.mediaSources={};var Za=function(t,e){var r=Ds.mediaSources[t];if(!r)throw new Error("Media Source not found (Video.js)");r.trigger({type:"sourceopen",swfId:e})},to=function(){return!!n.a.MediaSource&&!!n.a.MediaSource.isTypeSupported&&n.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},eo=function(){if(this.MediaSource={open:Za,supportsNativeMediaSources:to},to())return new Qa;throw new Error("Cannot use create a virtual MediaSource for this video")};eo.open=Za,eo.supportsNativeMediaSources=to;var ro={createObjectURL:function(t){var e=void 0;return t instanceof Qa?(e=n.a.URL.createObjectURL(t.nativeMediaSource_),t.url_=e,e):t instanceof Qa?(e="blob:vjs-media-source/"+Ja,Ja++,Ds.mediaSources[e]=t,e):(e=n.a.URL.createObjectURL(t),t.url_=e,e)}};Ds.MediaSource=eo,Ds.URL=ro;var io=Ds.EventTarget,no=Ds.mergeOptions,so=function(t,e){for(var r=void 0,i=no(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),n=0;n<e.playlists.length;n++){var s=zs(i,e.playlists[n]);s?i=s:r=!0}return Hs(e,(function(t,e,n,s){if(t.playlists&&t.playlists.length){var a=t.playlists[0].uri,o=zs(i,t.playlists[0]);o&&((i=o).mediaGroups[e][n][s].playlists[0]=i.playlists[a],r=!1)}})),r?null:i},ao=function(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e},oo=function(t,e){var r,i,n={};for(var s in t){var a=t[s].sidx;if(a){var o=ao(a);if(!e[o])break;r=e[o].sidxInfo,i=a,(Boolean(!r.map&&!i.map)||Boolean(r.map&&i.map&&r.map.byterange.offset===i.map.byterange.offset&&r.map.byterange.length===i.map.byterange.length))&&r.uri===i.uri&&r.byterange.offset===i.byterange.offset&&r.byterange.length===i.byterange.length&&(n[o]=e[o])}}return n},lo=function(t,e,r,i,n){var s={uri:Ls(i.handleManifestRedirects,t.resolvedUri),byterange:t.byterange,playlist:e};return r(Ds.mergeOptions(s,{responseType:"arraybuffer",headers:fa(s)}),n)},uo=function(t){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];Rs(this,e);var s=Fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),a=i.withCredentials,o=void 0!==a&&a,l=i.handleManifestRedirects,u=void 0!==l&&l;if(s.hls_=r,s.withCredentials=o,s.handleManifestRedirects=u,!t)throw new Error("A non-empty playlist URL or playlist is required");return s.on("minimumUpdatePeriod",(function(){s.refreshXml_()})),s.on("mediaupdatetimeout",(function(){s.refreshMedia_(s.media().uri)})),s.state="HAVE_NOTHING",s.loadedPlaylists_={},"string"==typeof t?(s.srcUrl=t,s.sidxMapping_={},Fs(s)):(s.setupChildLoader(n,t),s)}return Bs(e,t),Ns(e,[{key:"setupChildLoader",value:function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},n.a.clearTimeout(this.minimumUpdatePeriodTimeout_),n.a.clearTimeout(this.mediaRequest_),n.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"sidxRequestFinished_",value:function(t,e,r,i){var n=this;return function(s,a){if(n.request){if(n.request=null,s)return n.error={status:a.status,message:"DASH playlist request error at URL: "+t.uri,response:a.response,code:2},r&&(n.state=r),n.trigger("error"),i(e,null);var o=new Uint8Array(a.response),l=vt.a.parseSidx(o.subarray(8));return i(e,l)}}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var i=!this.media_||t.uri!==this.media_.uri;if(i&&this.loadedPlaylists_[t.uri]&&this.loadedPlaylists_[t.uri].endList)return this.state="HAVE_METADATA",this.media_=t,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i)if(this.media_&&this.trigger("mediachanging"),t.sidx){var s=void 0,a=void 0;this.masterPlaylistLoader_?(s=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(s=this.master,a=this.sidxMapping_);var o=ao(t.sidx);a[o]={sidxInfo:t.sidx},this.request=lo(t.sidx,t,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(t,s,r,(function(i,n){if(!i||!n)throw new Error("failed to request sidx");a[o].sidx=n,e.haveMetadata({startingState:r,playlist:i.playlists[t.uri]})})))}else this.mediaRequest_=n.a.setTimeout(this.haveMetadata.bind(this,{startingState:r,playlist:t}),0)}},{key:"haveMetadata",value:function(t){var e=t.startingState,r=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[r.uri]=r,this.mediaRequest_=null,this.refreshMedia_(r.uri),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),n.a.clearTimeout(this.mediaUpdateTimeout),n.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(t){var e=this;n.a.clearTimeout(this.mediaUpdateTimeout),n.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var r=this.media();if(t){var i=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=n.a.setTimeout((function(){return e.load()}),i)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var t=gt(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});t.uri=this.srcUrl;for(var e=0;e<t.playlists.length;e++){var r="placeholder-uri-"+e;t.playlists[e].uri=r,t.playlists[r]=t.playlists[e]}return Hs(t,(function(e,r,i,n){if(e.playlists&&e.playlists.length){var s="placeholder-uri-"+r+"-"+i+"-"+n;e.playlists[0].uri=s,t.playlists[s]=e.playlists[0]}})),Gs(t),Ws(t),t}},{key:"start",value:function(){var t=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=n.a.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,r){if(t.request){if(t.request=null,e)return t.error={status:r.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:r.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?t.masterLoaded_=Date.parse(r.responseHeaders.date):t.masterLoaded_=Date.now(),t.srcUrl=Ls(t.handleManifestRedirects,t.srcUrl,r),t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))}}))}},{key:"syncClientServerClock_",value:function(t){var e=this,r=function(t){return function(t){var e=at(t,"UTCTiming")[0];if(!e)return null;var r=ht(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return r}(mt(t))}(this.masterXml_);return null===r?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===r.method?(this.clientOffset_=r.value-Date.now(),t()):void(this.request=this.hls_.xhr({uri:Os(this.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},(function(i,n){if(e.request){if(i)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var s;s="HEAD"===r.method?n.responseHeaders&&n.responseHeaders.date?Date.parse(n.responseHeaders.date):e.masterLoaded_:Date.parse(n.responseText),e.clientOffset_=s-Date.now(),t()}})))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=n.a.setTimeout((function(){t.trigger("minimumUpdatePeriod")}),this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,r){if(t.request){if(t.request=null,e)return t.error={status:r.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:r.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=r.responseText,t.sidxMapping_=function(t,e,r,i){var n=gt(t,{manifestUri:e,clientOffset:r}),s=oo(n.playlists,i);return Hs(n,(function(t,e,r,n){if(t.playlists&&t.playlists.length){var a=t.playlists;s=no(s,oo(a,i))}})),s}(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var i=t.parseMasterXml(),s=so(t.master,i),a=t.media().sidx;if(s)if(a){var o=ao(a);if(!t.sidxMapping_[o]){var l=t.media();t.request=lo(l.sidx,l,t.hls_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(l,i,t.state,(function(e,r){if(!e||!r)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[o].sidx=r,t.minimumUpdatePeriodTimeout_=n.a.setTimeout((function(){t.trigger("minimumUpdatePeriod")}),t.master.minimumUpdatePeriod),t.refreshMedia_(t.media().uri)})))}}else t.master=s;t.minimumUpdatePeriodTimeout_=n.a.setTimeout((function(){t.trigger("minimumUpdatePeriod")}),t.master.minimumUpdatePeriod)}}))}},{key:"refreshMedia_",value:function(t){var e=this;if(!t)throw new Error("refreshMedia_ must take a media uri");var r=void 0,i=void 0;this.masterPlaylistLoader_?(r=this.masterPlaylistLoader_.master,i=this.masterPlaylistLoader_.parseMasterXml()):(r=this.master,i=this.parseMasterXml());var s=so(r,i);s?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=s:this.master=s,this.media_=s.playlists[t]):(this.media_=i.playlists[t],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=n.a.setTimeout((function(){e.trigger("mediaupdatetimeout")}),Ys(this.media(),!!s))),this.trigger("loadedplaylist")}}]),e}(io),ho=function(t){return Ds.log.debug?Ds.log.debug.bind(Ds,"VHS:",t+" >"):function(){}};function co(){}var po=function(){function t(e,r,i,n){Rs(this,t),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=i,this.mimeType_=r,this.logger_=ho("SourceUpdater["+i+"]["+r+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,r,n)):this.createSourceBuffer_(r,n)}return Ns(t,[{key:"createSourceBuffer_",value:function(t,e){var r=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",(function(){r.start_()})):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.sourceBuffer_.removing=!1,t.logger_("buffered ["+Ca(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_((function(){e.sourceBuffer_.abort()}),t)}},{key:"appendBuffer",value:function(t,e){var r=this;this.processedAppend_=!0,this.queueCallback_((function(){t.videoSegmentTimingInfoCallback&&r.sourceBuffer_.addEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),r.sourceBuffer_.appendBuffer(t.bytes)}),(function(){t.videoSegmentTimingInfoCallback&&r.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),e()}))}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Ds.createTimeRanges()}},{key:"remove",value:function(t,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:co;this.processedAppend_&&this.queueCallback_((function(){r.logger_("remove ["+t+" => "+e+"]"),r.sourceBuffer_.removing=!0,r.sourceBuffer_.remove(t,e)}),i)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==co}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_((function(){e.sourceBuffer_.timestampOffset=t,e.runCallback_()})),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){var t=this,e=function e(){t.sourceBuffer_&&"open"===t.mediaSource.readyState&&t.sourceBuffer_.abort(),t.sourceBuffer_.removeEventListener("updateend",e)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",e):e()}}]),t}(),fo={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},mo=function(t){t.forEach((function(t){t.abort()}))},go=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:-101,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:-102,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:2,xhr:e}:null},yo=function(t,e,r,i,n,s,a){var o=[],l=function(t,e,r){var i=0,n=!1;return function(s,a){if(!n)return s?(n=!0,mo(t),r(s,a)):(i+=1)===t.length?(a.endOfAllRequests=Date.now(),a.encryptedBytes?function(t,e,r){t.addEventListener("message",(function i(n){if(n.data.source===e.requestId){t.removeEventListener("message",i);var s=n.data.decrypted;return e.bytes=new Uint8Array(s.bytes,s.byteOffset,s.byteLength),r(null,e)}}));var i;i=e.key.bytes.slice?e.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(e.key.bytes)),t.postMessage(va({source:e.requestId,encrypted:e.encryptedBytes,key:i,iv:e.key.iv}),[e.encryptedBytes.buffer,i.buffer])}(e,a,r):r(null,a)):void 0}}(o,r,a);if(n.key&&!n.key.bytes){var u=t(Ds.mergeOptions(e,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(r,i){var n=i.response,s=go(r,i);if(s)return e(s,t);if(16!==n.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:2,xhr:i},t);var a=new DataView(n);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}}(n,l));o.push(u)}if(n.map&&!n.map.bytes){var h=t(Ds.mergeOptions(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:fa(n.map)}),function(t,e,r){return function(i,n){var s=n.response,a=go(i,n);return a?r(a,t):0===s.byteLength?r({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:2,xhr:n},t):(t.map.bytes=new Uint8Array(n.response),e&&!e.isInitialized()&&e.init(),t.map.timescales=bt.a.timescale(t.map.bytes),t.map.videoTrackIds=bt.a.videoTrackIds(t.map.bytes),r(null,t))}}(n,i,l));o.push(h)}var c=t(Ds.mergeOptions(e,{uri:n.resolvedUri,responseType:"arraybuffer",headers:fa(n)}),function(t,e,r){return function(i,n){var s=n.response,a=go(i,n),o=void 0;return a?r(a,t):0===s.byteLength?r({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:2,xhr:n},t):(t.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(n),t.key?t.encryptedBytes=new Uint8Array(n.response):t.bytes=new Uint8Array(n.response),e&&t.map&&t.map.bytes&&(e.isInitialized()||e.init(),(o=e.parse(t.bytes,t.map.videoTrackIds,t.map.timescales))&&o.captions&&(t.captionStreams=o.captionStreams,t.fmp4Captions=o.captions)),r(null,t))}}(n,i,l));return c.addEventListener("progress",function(t,e){return function(r){var i,n,s;return t.stats=Ds.mergeOptions(t.stats,(n=(i=r).target,(s={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-n.requestTime||0}).bytesReceived=i.loaded,s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3),s)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(r,t)}}(n,s)),o.push(c),function(){return mo(o)}},vo=function(t,e){var r;return t&&(r=n.a.getComputedStyle(t))?r[e]:""},_o=function(t,e){var r=t.slice();t.sort((function(t,i){var n=e(t,i);return 0===n?r.indexOf(t)-r.indexOf(i):n}))},bo=function(t,e){var r=void 0,i=void 0;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||n.a.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),r-(i||n.a.Number.MAX_VALUE)},To=function(t,e,r){if(!t||!e)return!1;var i=r===t.segments.length;return t.endList&&"open"===e.readyState&&i},So=function(t){return"number"==typeof t&&isFinite(t)},Eo=function(t){function e(t){Rs(this,e);var r=Fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=t.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.hasPlayed_=t.hasPlayed,r.currentTime_=t.currentTime,r.seekable_=t.seekable,r.seeking_=t.seeking,r.duration_=t.duration,r.mediaSource_=t.mediaSource,r.hls_=t.hls,r.loaderType_=t.loaderType,r.startingMedia_=void 0,r.segmentMetadataTrack_=t.segmentMetadataTrack,r.goalBufferLength_=t.goalBufferLength,r.sourceType_=t.sourceType,r.inbandTextTracks_=t.inbandTextTracks,r.state_="INIT",r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.mimeType_=null,r.sourceUpdater_=null,r.xhrOptions_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=t.cacheEncryptionKeys,r.keyCache_={},"main"===r.loaderType_?r.captionParser_=new St.a:r.captionParser_=null,r.decrypter_=t.decrypter,r.syncController_=t.syncController,r.syncPoint_={segmentIndex:0,time:0},r.syncController_.on("syncinfoupdate",(function(){return r.trigger("syncinfoupdate")})),r.mediaSource_.addEventListener("sourceopen",(function(){return r.ended_=!1})),r.fetchAtBuffer_=!1,r.logger_=ho("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(r,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),r}return Bs(e,t),Ns(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Ds.createTimeRanges()}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var r=_a(t),i=this.initSegments_[r];return e&&!i&&t.bytes&&(this.initSegments_[r]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),i||t}},{key:"segmentKey",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var r=ba(t),i=this.keyCache_[r];this.cacheEncryptionKeys_&&e&&!i&&t.bytes&&(this.keyCache_[r]=i={resolvedUri:t.resolvedUri,bytes:t.bytes});var n={resolvedUri:(i||t).resolvedUri};return i&&(n.bytes=i.bytes),n}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new po(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var r=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var n=null;if(r&&(r.id?n=r.id:r.uri&&(n=r.uri)),this.logger_("playlist update ["+n+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(r&&r.uri===t.uri){var s=t.mediaSequence-r.mediaSequence;this.logger_("live window shift ["+s+"]"),null!==this.mediaIndex&&(this.mediaIndex-=s),i&&(i.mediaIndex-=s,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(r,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(n.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),t),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,r){if(this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,r),Pa(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Pa(t,e,this.inbandTextTracks_[i])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&n.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=n.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&n.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=n.a.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);t&&(this.isEndOfStream_(t.mediaIndex)?this.endOfStream():(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(t.timeline!==this.currentTimeline_&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(t)))}}},{key:"isEndOfStream_",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_;return To(e,this.mediaSource_,t)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(t,e,r,i,n,s){var a=0,o=void 0;t.length&&(a=t.end(t.length-1));var l=Math.max(0,a-n);if(!e.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!i&&l>=1)return null;if(null===s)return r=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,r,null,!0);if(null!==r)return e.segments[r],o=a,this.generateSegmentInfo_(e,r+1,o,!1);if(this.fetchAtBuffer_){var u=ha.getMediaInfoForTime(e,a,s.segmentIndex,s.time);r=u.mediaIndex,o=u.startTime}else{var h=ha.getMediaInfoForTime(e,n,s.segmentIndex,s.time);r=h.mediaIndex,o=h.startTime}return this.generateSegmentInfo_(e,r,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var r=t.segments.map((function(t,e){return{timeline:t.timeline,segmentIndex:e}})).filter((function(t){return t.timeline===e.currentTimeline_}));return r.length?r[Math.min(r.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,r,i){if(e<0||e>=t.segments.length)return null;var n=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:n.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:r,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:n.timeline,duration:n.duration,segment:n}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),r=t.bandwidth,i=this.pendingSegment_.duration,n=ha.estimateSegmentRequestTime(i,r,this.playlist_,t.bytesReceived),s=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.length?t.end(t.length-1):0;return(i-e)/r}(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(n<=s)return!1;var a=function(t){var e=t.currentTime,r=t.bandwidth,i=t.duration,n=t.segmentDuration,s=t.timeUntilRebuffer,a=t.currentTimeline,o=t.syncController,l=t.master.playlists.filter((function(t){return!ha.isIncompatible(t)})),u=l.filter(ha.isEnabled);u.length||(u=l.filter((function(t){return!ha.isDisabled(t)})));var h=u.filter(ha.hasAttribute.bind(null,"BANDWIDTH")).map((function(t){var l=o.getSyncPoint(t,i,a,e)?1:2;return{playlist:t,rebufferingImpact:ha.estimateSegmentRequestTime(n,r,t)*l-s}})),c=h.filter((function(t){return t.rebufferingImpact<=0}));return _o(c,(function(t,e){return bo(e.playlist,t.playlist)})),c.length?c[0]:(_o(h,(function(t,e){return t.rebufferingImpact-e.rebufferingImpact})),h[0]||null)}({master:this.hls_.playlists.master,currentTime:e,bandwidth:r,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var o=n-s-a.rebufferingImpact,l=.5;return s<=1/30&&(l=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||o<l)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*fo.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=yo(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=function(t,e,r){var i;return i=t.length&&t.start(0)>0&&t.start(0)<e?t.start(0):e-30,Math.min(i,e-r)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,r={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var i=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);r.key=this.segmentKey(e.key),r.key.iv=i}return e.map&&(r.map=this.initSegment(e.map)),r}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",-102===t.code?void(this.mediaRequestsAborted+=1):(this.pause(),-101===t.code?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),e.key&&this.segmentKey(e.key,!0),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(function(t,e,r){for(var i in r)if(!t[i]){e.trigger({type:"usage",name:"hls-608"});var n=e.textTracks().getTrackById(i);t[i]=n||e.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),function(t){var e=t.inbandTextTracks,r=t.captionArray,i=t.timestampOffset;if(r){var n=window.WebKitDataCue||window.VTTCue;r.forEach((function(t){var r=t.stream,s=t.startTime,a=t.endTime;e[r]&&(s+=i,a+=i,e[r].addCue(new n(s,a,t.text)))}))}}({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,r=e.segment,i=this.syncController_.probeSegmentInfo(e);void 0===this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var n,s,a,o=(n=this.loaderType_,s=this.startingMedia_,a=i,"main"===n&&s&&a?a.containsAudio||a.containsVideo?s.containsVideo&&!a.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!s.containsVideo&&a.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(o)return this.error({message:o,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(i&&i.segmentTimestampInfo){var l=i.segmentTimestampInfo[0].ptsTime,u=i.segmentTimestampInfo[0].dtsTime;e.timestampOffset-=l-u}this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset")}var h=this.syncController_.mappingForTimeline(e.timeline);if(null!==h&&this.trigger({type:"segmenttimemapping",mapping:h}),this.state="APPENDING",r.map){var c=_a(r.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==c){var p=this.initSegment(r.map);this.sourceUpdater_.appendBuffer({bytes:p.bytes},(function(){t.activeInitSegmentId_=c}))}}e.byteLength=e.bytes.byteLength,"number"==typeof r.start&&"number"==typeof r.end?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration,this.logger_(function(t){var e=t.segment,r=e.start,i=e.end,n=t.playlist,s=n.mediaSequence,a=n.id,o=n.segments,l=void 0===o?[]:o,u=t.mediaIndex,h=t.timeline;return["appending ["+u+"] of ["+s+", "+(s+l.length)+"] from playlist ["+a+"]","["+r+" => "+i+"] in timeline ["+h+"]"].join(" ")}(e)),this.sourceUpdater_.appendBuffer({bytes:e.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,e.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var r=this.pendingSegment_.segment;r.videoTimingInfo||(r.videoTimingInfo={}),r.videoTimingInfo.transmuxerPrependedSeconds=e.videoSegmentTimingInfo.prependedContentDuration||0,r.videoTimingInfo.transmuxedPresentationStart=e.videoSegmentTimingInfo.start.presentation,r.videoTimingInfo.transmuxedPresentationEnd=e.videoSegmentTimingInfo.end.presentation,r.videoTimingInfo.baseMediaDecodeTime=e.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,r=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(r&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(t.mediaIndex+1,t.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,r=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/r*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,r=e.start,i=e.end;if(So(r)&&So(i)){Pa(r,i,this.segmentMetadataTrack_);var s=n.a.WebKitDataCue||n.a.VTTCue,a={custom:e.custom,dateTimeObject:e.dateTimeObject,dateTimeString:e.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:r,end:i},o=new s(r,i,JSON.stringify(a));o.value=a,this.segmentMetadataTrack_.addCue(o)}}}}]),e}(Ds.EventTarget),wo=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},ko=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)}))),xo=function(t){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Rs(this,e);var i=Fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.mediaSource_=null,i.subtitlesTrack_=null,i}return Bs(e,t),Ns(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Ds.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,r=t[t.length-1].startTime;return Ds.createTimeRanges([[e,r]])}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var r=_a(t),i=this.initSegments_[r];if(e&&!i&&t.bytes){var n=ko.byteLength+t.bytes.byteLength,s=new Uint8Array(n);s.set(t.bytes),s.set(ko,t.bytes.byteLength),this.initSegments_[r]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:s}}return i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(t,e){Pa(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline))return this.syncController_.one("timestampoffset",(function(){t.state="READY",t.paused()||t.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,r=e.segment;if("function"!=typeof n.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=void 0,s=function(){t.subtitlesTrack_.tech_.off("vttjsloaded",i),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")};return i=function(){t.subtitlesTrack_.tech_.off("vttjserror",s),t.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",i),void this.subtitlesTrack_.tech_.one("vttjserror",s)}r.requested=!0;try{this.parseVTTCues_(e)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach((function(e){t.subtitlesTrack_.addCue(e)})),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,r=!1;"function"==typeof n.a.TextDecoder?e=new n.a.TextDecoder("utf8"):(e=n.a.WebVTT.StringDecoder(),r=!0);var i=new n.a.WebVTT.Parser(n.a,n.a.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=function(e){return t.timestampmap=e},i.onparsingerror=function(t){Ds.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var s=t.segment.map.bytes;r&&(s=wo(s)),i.parse(s)}var a=t.bytes;r&&(a=wo(a)),i.parse(a),i.flush()}},{key:"updateTimeMapping_",value:function(t,e,r){var i=t.segment;if(e)if(t.cues.length){var n=t.timestampmap,s=n.MPEGTS/9e4-n.LOCAL+e.mapping;if(t.cues.forEach((function(t){t.startTime+=s,t.endTime+=s})),!r.syncInfo){var a=t.cues[0].startTime,o=t.cues[t.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+t.mediaIndex,time:Math.min(a,o-i.duration)}}}else i.empty=!0}}]),e}(Eo),Co=function(t,e){for(var r=t.cues,i=0;i<r.length;i++){var n=r[i];if(e>=n.adStartTime&&e<=n.adEndTime)return n}return null},Ao=wt.a.inspect,Po=[{name:"VOD",run:function(t,e,r,i,n){return r!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(t,e,r,i,n){if(!t.datetimeToDisplayTime)return null;var s=e.segments||[],a=null,o=null;n=n||0;for(var l=0;l<s.length;l++){var u=s[l];if(u.dateTimeObject){var h=u.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,c=Math.abs(n-h);if(null!==o&&(0===c||o<c))break;o=c,a={time:h,segmentIndex:l}}}return a}},{name:"Segment",run:function(t,e,r,i,n){var s=e.segments||[],a=null,o=null;n=n||0;for(var l=0;l<s.length;l++){var u=s[l];if(u.timeline===i&&void 0!==u.start){var h=Math.abs(n-u.start);if(null!==o&&o<h)break;(!a||null===o||o>=h)&&(o=h,a={time:u.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(t,e,r,i,n){var s=null;if(n=n||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,o=0;o<e.discontinuityStarts.length;o++){var l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,h=t.discontinuities[u];if(h){var c=Math.abs(n-h.time);if(null!==a&&a<c)break;(!s||null===a||a>=c)&&(a=c,s={time:h.time,segmentIndex:l})}}return s}},{name:"Playlist",run:function(t,e,r,i,n){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],Do=function(t){function e(){Rs(this,e);var t=Fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=ho("SyncController"),t}return Bs(e,t),Ns(e,[{key:"getSyncPoint",value:function(t,e,r,i){var n=this.runStrategies_(t,e,r,i);return n.length?this.selectSyncPoint_(n,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var r=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!r.length)return null;var i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+Js(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,r,i){for(var n=[],s=0;s<Po.length;s++){var a=Po[s],o=a.run(this,t,e,r,i);o&&(o.strategy=a.name,n.push({strategy:a.name,syncPoint:o}))}return n}},{key:"selectSyncPoint_",value:function(t,e){for(var r=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),n=t[0].strategy,s=1;s<t.length;s++){var a=Math.abs(t[s].syncPoint[e.key]-e.value);a<i&&(i=a,r=t[s].syncPoint,n=t[s].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+n+"]: [time:"+r.time+", segmentIndex:"+r.segmentIndex+"]"),r}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var r=e.mediaSequence-t.mediaSequence-1;r>=0;r--){var i=t.segments[r];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+r,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e,r=t.segment,i=t.playlist;return(e=r.map?this.probeMp4Segment_(t):this.probeTsSegment_(t))&&this.calculateSegmentTimeMapping_(t,e)&&(this.saveDiscontinuitySyncInfo_(t),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:r.start})),e}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,r=bt.a.timescale(e.map.bytes),i=bt.a.compositionStartTime(r,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=i),{start:i,end:i+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=Ao(t.bytes,this.inspectCache_),r=void 0,i=void 0,n=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,r=e.video[0].dtsTime,i=e.video[1].dtsTime,n=e.video):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,r=e.audio[0].dtsTime,i=e.audio[1].dtsTime,n=e.audio),{segmentTimestampInfo:n,start:r,end:i,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var r=t.segment,i=this.timelines[t.timeline];if(null!==t.timestampOffset)i={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),r.start=t.startOfSegment,r.end=e.end+i.mapping;else{if(!i)return!1;r.start=e.start+i.mapping,r.end=e.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,r=t.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var n=e.discontinuityStarts[i],s=e.discontinuitySequence+i+1,a=n-t.mediaIndex,o=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>o){var l;l=a<0?r.start-Js(e,t.mediaIndex,n):r.end+Js(e,t.mediaIndex+1,n),this.discontinuities[s]={time:l,accuracy:o}}}}}]),e}(Ds.EventTarget),Io=new Na("./decrypter-worker.worker.js",(function(t,e){var r=this;!function(){var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),i=null,n=function(){function e(r){t(this,e),i||(i=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],r=t[1],i=e[4],n=r[4],s=void 0,a=void 0,o=void 0,l=[],u=[],h=void 0,c=void 0,p=void 0,d=void 0,f=void 0;for(s=0;s<256;s++)u[(l[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!i[a];a^=h||1,o=u[o]||1)for(p=(p=o^o<<1^o<<2^o<<3^o<<4)>>8^255&p^99,i[a]=p,n[p]=a,f=16843009*l[c=l[h=l[a]]]^65537*c^257*h^16843008*a,d=257*l[p]^16843008*p,s=0;s<4;s++)e[s][a]=d=d<<24^d>>>8,r[s][p]=f=f<<24^f>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),r[s]=r[s].slice(0);return t}()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];var n=void 0,s=void 0,a=void 0,o=void 0,l=void 0,u=this._tables[0][4],h=this._tables[1],c=r.length,p=1;if(4!==c&&6!==c&&8!==c)throw new Error("Invalid aes key size");for(o=r.slice(0),l=[],this._key=[o,l],n=c;n<4*c+28;n++)a=o[n-1],(n%c==0||8===c&&n%c==4)&&(a=u[a>>>24]<<24^u[a>>16&255]<<16^u[a>>8&255]<<8^u[255&a],n%c==0&&(a=a<<8^a>>>24^p<<24,p=p<<1^283*(p>>7))),o[n]=o[n-c]^a;for(s=0;n;s++,n--)a=o[3&s?n:n-4],l[s]=n<=4||s<4?a:h[0][u[a>>>24]]^h[1][u[a>>16&255]]^h[2][u[a>>8&255]]^h[3][u[255&a]]}return e.prototype.decrypt=function(t,e,r,i,n,s){var a=this._key[1],o=t^a[0],l=i^a[1],u=r^a[2],h=e^a[3],c=void 0,p=void 0,d=void 0,f=a.length/4-2,m=void 0,g=4,y=this._tables[1],v=y[0],_=y[1],b=y[2],T=y[3],S=y[4];for(m=0;m<f;m++)c=v[o>>>24]^_[l>>16&255]^b[u>>8&255]^T[255&h]^a[g],p=v[l>>>24]^_[u>>16&255]^b[h>>8&255]^T[255&o]^a[g+1],d=v[u>>>24]^_[h>>16&255]^b[o>>8&255]^T[255&l]^a[g+2],h=v[h>>>24]^_[o>>16&255]^b[l>>8&255]^T[255&u]^a[g+3],g+=4,o=c,l=p,u=d;for(m=0;m<4;m++)n[(3&-m)+s]=S[o>>>24]<<24^S[l>>16&255]<<16^S[u>>8&255]<<8^S[255&h]^a[g++],c=o,o=l,l=u,u=h,h=c},e}(),s=function(){function e(){t(this,e),this.listeners={}}return e.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.prototype.off=function(t,e){if(!this.listeners[t])return!1;var r=this.listeners[t].indexOf(e);return this.listeners[t].splice(r,1),r>-1},e.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var r=e.length,i=0;i<r;++i)e[i].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),s=e.length,a=0;a<s;++a)e[a].apply(this,n)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(t){this.on("data",(function(e){t.push(e)}))},e}(),a=function(e){function r(){t(this,r);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this,s));return i.jobs=[],i.delay=1,i.timeout_=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,e),r.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},r.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},r}(s),o=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},l=function(){function r(e,i,n,s){t(this,r);var l=r.STEP,u=new Int32Array(e.buffer),h=new Uint8Array(e.byteLength),c=0;for(this.asyncStream_=new a,this.asyncStream_.push(this.decryptChunk_(u.subarray(c,c+l),i,n,h)),c=l;c<u.length;c+=l)n=new Uint32Array([o(u[c-4]),o(u[c-3]),o(u[c-2]),o(u[c-1])]),this.asyncStream_.push(this.decryptChunk_(u.subarray(c,c+l),i,n,h));this.asyncStream_.push((function(){var t;s(null,(t=h).subarray(0,t.byteLength-t[t.byteLength-1]))}))}return r.prototype.decryptChunk_=function(t,e,r,i){return function(){var s=function(t,e,r){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),s=new n(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),l=new Int32Array(a.buffer),u=void 0,h=void 0,c=void 0,p=void 0,d=void 0,f=void 0,m=void 0,g=void 0,y=void 0;for(u=r[0],h=r[1],c=r[2],p=r[3],y=0;y<i.length;y+=4)d=o(i[y]),f=o(i[y+1]),m=o(i[y+2]),g=o(i[y+3]),s.decrypt(d,f,m,g,l,y),l[y]=o(l[y]^u),l[y+1]=o(l[y+1]^h),l[y+2]=o(l[y+2]^c),l[y+3]=o(l[y+3]^p),u=d,h=f,c=m,p=g;return a}(t,e,r);i.set(s,t.byteOffset)}},e(r,null,[{key:"STEP",get:function(){return 32e3}}]),r}();new function(t){t.onmessage=function(e){var r=e.data,i=new Uint8Array(r.encrypted.bytes,r.encrypted.byteOffset,r.encrypted.byteLength),n=new Uint32Array(r.key.bytes,r.key.byteOffset,r.key.byteLength/4),s=new Uint32Array(r.iv.bytes,r.iv.byteOffset,r.iv.byteLength/4);new l(i,n,s,(function(e,i){var n,s;t.postMessage((n={source:r.source,decrypted:i},s={},Object.keys(n).forEach((function(t){var e=n[t];ArrayBuffer.isView(e)?s[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:s[t]=e})),s),[i.buffer])}))}}(r)}()})),Mo=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Oo=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Lo=function(t,e){e.activePlaylistLoader=t,t.load()},Ro={AUDIO:function(t,e){return function(){var r=e.segmentLoaders[t],i=e.mediaTypes[t],n=e.blacklistCurrentPlaylist;Oo(r,i);var s=i.activeTrack(),a=i.activeGroup(),o=(a.filter((function(t){return t.default}))[0]||a[0]).id,l=i.tracks[o];if(s!==l){for(var u in Ds.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[u].enabled=i.tracks[u]===l;i.onTrackChanged()}else n({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var r=e.segmentLoaders[t],i=e.mediaTypes[t];Ds.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Oo(r,i);var n=i.activeTrack();n&&(n.mode="disabled"),i.onTrackChanged()}}},No={AUDIO:function(t,e,r){if(e){var i=r.tech,n=r.requestOptions,s=r.segmentLoaders[t];e.on("loadedmetadata",(function(){var t=e.media();s.playlist(t,n),(!i.paused()||t.endList&&"none"!==i.preload())&&s.load()})),e.on("loadedplaylist",(function(){s.playlist(e.media(),n),i.paused()||s.load()})),e.on("error",Ro[t](t,r))}},SUBTITLES:function(t,e,r){var i=r.tech,n=r.requestOptions,s=r.segmentLoaders[t],a=r.mediaTypes[t];e.on("loadedmetadata",(function(){var t=e.media();s.playlist(t,n),s.track(a.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&s.load()})),e.on("loadedplaylist",(function(){s.playlist(e.media(),n),i.paused()||s.load()})),e.on("error",Ro[t](t,r))}},Bo={AUDIO:function(t,e){var r=e.hls,i=e.sourceType,n=e.segmentLoaders[t],s=e.requestOptions,a=e.master.mediaGroups,o=e.mediaTypes[t],l=o.groups,u=o.tracks,h=e.masterPlaylistLoader;for(var c in a[t]&&0!==Object.keys(a[t]).length||(a[t]={main:{default:{default:!0}}}),a[t])for(var p in l[c]||(l[c]=[]),a[t][c]){var d,f=a[t][c][p];if(d=f.resolvedUri?new Xs(f.resolvedUri,r,s):f.playlists&&"dash"===i?new uo(f.playlists[0],r,s,h):null,f=Ds.mergeOptions({id:p,playlistLoader:d},f),No[t](t,f.playlistLoader,e),l[c].push(f),void 0===u[p]){var m=new Ds.AudioTrack({id:p,kind:Mo(f),enabled:!1,language:f.language,default:f.default,label:p});u[p]=m}}n.on("error",Ro[t](t,e))},SUBTITLES:function(t,e){var r=e.tech,i=e.hls,n=e.sourceType,s=e.segmentLoaders[t],a=e.requestOptions,o=e.master.mediaGroups,l=e.mediaTypes[t],u=l.groups,h=l.tracks,c=e.masterPlaylistLoader;for(var p in o[t])for(var d in u[p]||(u[p]=[]),o[t][p])if(!o[t][p][d].forced){var f=o[t][p][d],m=void 0;if("hls"===n?m=new Xs(f.resolvedUri,i,a):"dash"===n&&(m=new uo(f.playlists[0],i,a,c)),f=Ds.mergeOptions({id:d,playlistLoader:m},f),No[t](t,f.playlistLoader,e),u[p].push(f),void 0===h[d]){var g=r.addRemoteTextTrack({id:d,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:d},!1).track;h[d]=g}}s.on("error",Ro[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var r=e.tech,i=e.master.mediaGroups,n=e.mediaTypes[t],s=n.groups,a=n.tracks;for(var o in i[t])for(var l in s[o]||(s[o]=[]),i[t][o]){var u=i[t][o][l];if(u.instreamId.match(/CC\d/)&&(s[o].push(Ds.mergeOptions({id:l},u)),void 0===a[l])){var h=r.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default&&u.autoselect,language:u.language,label:l},!1).track;a[l]=h}}}},Fo={AUDIO:function(t,e){return function(){var r=e.mediaTypes[t].tracks;for(var i in r)if(r[i].enabled)return r[i];return null}},SUBTITLES:function(t,e){return function(){var r=e.mediaTypes[t].tracks;for(var i in r)if("showing"===r[i].mode)return r[i];return null}}},Uo=void 0,jo=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Vo=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},qo=function(t){function e(t){Rs(this,e);var r=Fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=t.url,n=t.handleManifestRedirects,s=t.withCredentials,a=t.tech,o=t.bandwidth,l=t.externHls,u=t.useCueTags,h=t.blacklistDuration,c=t.enableLowInitialPlaylist,p=t.sourceType,d=t.seekTo,f=t.cacheEncryptionKeys;if(!i)throw new Error("A non-empty playlist URL is required");Uo=l,r.withCredentials=s,r.tech_=a,r.hls_=a.hls,r.seekTo_=d,r.sourceType_=p,r.useCueTags_=u,r.blacklistDuration=h,r.enableLowInitialPlaylist=c,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:s,handleManifestRedirects:n,timeout:null},r.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:co,activeTrack:co,onGroupChanged:co,onTrackChanged:co}})),t}(),r.mediaSource=new Ds.MediaSource,r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_.bind(r)),r.seekable_=Ds.createTimeRanges(),r.hasPlayed_=function(){return!1},r.syncController_=new Do(t),r.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new Io,r.inbandTextTracks_={};var m={hls:r.hls_,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.mediaSource.duration},hasPlayed:function(){return r.hasPlayed_()},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:o,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:f};return r.masterPlaylistLoader_="dash"===r.sourceType_?new uo(i,r.hls_,r.requestOptions_):new Xs(i,r.hls_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new Eo(Ds.mergeOptions(m,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),t),r.audioSegmentLoader_=new Eo(Ds.mergeOptions(m,{loaderType:"audio"}),t),r.subtitleSegmentLoader_=new xo(Ds.mergeOptions(m,{loaderType:"vtt"}),t),r.setupSegmentLoaderListeners_(),jo.forEach((function(t){r[t+"_"]=Vo.bind(r,t)})),r.logger_=ho("MPC"),r.masterPlaylistLoader_.load(),r}return Bs(e,t),Ns(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var e=t.masterPlaylistLoader_.media(),r=1.5*e.targetDuration*1e3;ua(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=r,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){Bo[e](e,t)}));var e=t.mediaTypes,r=t.masterPlaylistLoader,i=t.tech,n=t.hls;["AUDIO","SUBTITLES"].forEach((function(r){e[r].activeGroup=function(t,e){return function(r){var i=e.masterPlaylistLoader,n=e.mediaTypes[t].groups,s=i.media();if(!s)return null;var a=null;return s.attributes[t]&&(a=n[s.attributes[t]]),a=a||n.main,void 0===r?a:null===r?null:a.filter((function(t){return t.id===r.id}))[0]||null}}(r,t),e[r].activeTrack=Fo[r](r,t),e[r].onGroupChanged=function(t,e){return function(){var r=e.segmentLoaders,i=r[t],n=r.main,s=e.mediaTypes[t],a=s.activeTrack(),o=s.activeGroup(a),l=s.activePlaylistLoader;Oo(i,s),o&&(o.playlistLoader?(i.resyncLoader(),Lo(o.playlistLoader,s)):l&&n.resetEverything())}}(r,t),e[r].onTrackChanged=function(t,e){return function(){var r=e.segmentLoaders,i=r[t],n=r.main,s=e.mediaTypes[t],a=s.activeTrack(),o=s.activeGroup(a),l=s.activePlaylistLoader;Oo(i,s),o&&(o.playlistLoader?l!==o.playlistLoader?(i.track&&i.track(a),i.resetEverything(),Lo(o.playlistLoader,s)):Lo(o.playlistLoader,s):n.resetEverything())}}(r,t)}));var s=e.AUDIO.activeGroup(),a=(s.filter((function(t){return t.default}))[0]||s[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged(),r.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))}));var o=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};for(var l in i.audioTracks().addEventListener("change",o),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),n.on("dispose",(function(){i.audioTracks().removeEventListener("change",o),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[l])}({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(e){return Ds.log.warn("Failed to create SourceBuffers",e),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){t.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var e=t.masterPlaylistLoader_.media();if(!e){t.excludeUnsupportedVariants_();var r=void 0;return t.enableLowInitialPlaylist&&(r=t.selectInitialPlaylist()),r||(r=t.selectPlaylist()),t.initialMedia_=r,void t.masterPlaylistLoader_.media(t.initialMedia_)}if(t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||(t.mainSegmentLoader_.load(),t.audioSegmentLoader_&&t.audioSegmentLoader_.load()),!e.endList){var i=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};t.duration()!==1/0?t.tech_.one("durationchange",(function e(){t.duration()===1/0?i():t.tech_.one("durationchange",e)})):i()}})),this.masterPlaylistLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var e=t.masterPlaylistLoader_.media(),r=1.5*e.targetDuration*1e3;ua(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=r,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))}},{key:"triggerPresenceUsage_",value:function(t,e){var r=t.mediaGroups||{},i=!0,n=Object.keys(r.AUDIO);for(var s in r.AUDIO)for(var a in r.AUDIO[s])r.AUDIO[s][a].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Uo.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Uo.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.length&&Object.keys(r.AUDIO[n[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var e=t.selectPlaylist(),r=t.masterPlaylistLoader_.media(),i=t.tech_.buffered(),n=i.length?i.end(i.length-1)-t.tech_.currentTime():0,s=t.bufferLowWaterLine();(!r.endList||t.duration()<fo.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<r.attributes.BANDWIDTH||n>=s)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("ended",(function(){t.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)})),this.mainSegmentLoader_.on("reseteverything",(function(){t.tech_.trigger("hls-reset")})),this.mainSegmentLoader_.on("segmenttimemapping",(function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})})),this.audioSegmentLoader_.on("ended",(function(){t.onEndOfStream()}))}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything((function(){Ds.browser.IE_VERSION||Ds.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())})))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.seekTo_(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var r=this.seekable();if(!r.length)return!1;if(Ds.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){t.trigger("firstplay"),t.seekTo_(r.end(0)),t.hasPlayed_=function(){return!0}})),!1;this.trigger("firstplay"),this.seekTo_(r.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return Ds.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(function(t){}))}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(t){Ds.log.warn("Failed to call media source endOfStream",t)}}}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var r=Uo.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),n=this.tech_.buffered();if(!n.length)return r-i<=.1;var s=n.end(n.length-1);return s-i<=.1&&r-s<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],r=void 0,i=void 0;if(r=t.playlist||this.masterPlaylistLoader_.media(),e=e||t.blacklistDuration||this.blacklistDuration,!r){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var n=1===this.masterPlaylistLoader_.master.playlists.filter(oa).length,s=this.masterPlaylistLoader_.master.playlists;return 1===s.length?(Ds.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(n)):(n&&(Ds.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),s.forEach((function(t){t.excludeUntil!==1/0&&delete t.excludeUntil})),this.tech_.trigger("retryplaylist")),r.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),Ds.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i,n))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=ka(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Uo.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var r=this.masterPlaylistLoader_.media();if(r){var i=this.syncController_.getExpiredTime(r,this.mediaSource.duration);if(null!==i&&0!==(t=Uo.Playlist.seekable(r,i)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(r,this.mediaSource.duration)))return;if(0===(e=Uo.Playlist.seekable(r,i)).length)return}var n=void 0,s=void 0;this.seekable_&&this.seekable_.length&&(n=this.seekable_.end(0),s=this.seekable_.start(0)),e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=Ds.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===n&&this.seekable_.start(0)===s||(this.logger_("seekable updated ["+Ca(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,r=Uo.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),n=function e(){t.logger_("Setting duration from "+t.mediaSource.duration+" => "+r);try{t.mediaSource.duration=r}catch(t){Ds.log.warn("Failed to set media source duration",t)}t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};i.length>0&&(r=Math.max(r,i.end(i.length-1))),e!==r&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",n):n())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(e){var r=t.mediaTypes_[e].groups;for(var i in r)r[i].forEach((function(t){t.playlistLoader&&t.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,e=this.masterPlaylistLoader_.media();if(e&&"open"===this.mediaSource.readyState){if((t=function(t,e){var r=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"}(e),i=function(t){var e=t.attributes||{};return e.CODECS?za(e.CODECS):qa}(e),n=e.attributes||{},s=!0,a=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&n.AUDIO){var o=t.mediaGroups.AUDIO[n.AUDIO];if(o)for(var l in a=!0,s=!1,o)if(!o[l].uri&&!o[l].playlists){s=!0;break}}a&&!i.audioProfile&&(s||(i.audioProfile=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var r=t.mediaGroups.AUDIO[e];if(!r)return null;for(var i in r){var n=r[i];if(n.default&&n.playlists)return za(n.playlists[0].attributes.CODECS).audioProfile}return null}(t,n.AUDIO)),i.audioProfile||(Ds.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=qa.audioProfile));var u={};i.videoCodec&&(u.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(u.audio="mp4a.40."+i.audioProfile);var h=Ga("audio",r,[u.audio]),c=Ga("video",r,[u.video]),p=Ga("video",r,[u.video,u.audio]);return a?!s&&u.video?[c,h]:s||u.video?[p,h]:[h,h]:u.video?[p]:[h]}(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=t.length>1&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new Ds.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach((function(t){var e;t.attributes.CODECS&&n.a.MediaSource&&n.a.MediaSource.isTypeSupported&&!n.a.MediaSource.isTypeSupported('video/mp4; codecs="'+(e=t.attributes.CODECS,e.replace(/avc1\.(\d+)\.(\d+)/i,(function(t){return Ha([t])[0]}))+'"'))&&(t.excludeUntil=1/0)}))}},{key:"excludeIncompatibleVariants_",value:function(t){var e=2,r=null,i=void 0;t.attributes.CODECS&&(i=za(t.attributes.CODECS),r=i.videoCodec,e=i.codecCount),this.master().playlists.forEach((function(t){var i={codecCount:2,videoCodec:null};t.attributes.CODECS&&(i=za(t.attributes.CODECS)),i.codecCount!==e&&(t.excludeUntil=1/0),i.videoCodec!==r&&(t.excludeUntil=1/0)}))}},{key:"updateAdCues_",value:function(t){var e=0,r=this.seekable();r.length&&(e=r.start(0)),function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.segments)for(var i=r,s=void 0,a=0;a<t.segments.length;a++){var o=t.segments[a];if(s||(s=Co(e,i+o.duration/2)),s){if("cueIn"in o){s.endTime=i,s.adEndTime=i,i+=o.duration,s=null;continue}if(i<s.endTime){i+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&((s=new n.a.VTTCue(i,i+o.duration,o.cueOut)).adStartTime=i,s.adEndTime=i+parseFloat(o.cueOut),e.addCue(s)),"cueOutCont"in o){var l=void 0,u=void 0,h=o.cueOutCont.split("/").map(parseFloat),c=Us(h,2);l=c[0],u=c[1],(s=new n.a.VTTCue(i,i+o.duration,"")).adStartTime=i-l,s.adEndTime=s.adStartTime+u,e.addCue(s)}i+=o.duration}}(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=fo.GOAL_BUFFER_LENGTH,r=fo.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,fo.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*r,i)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=fo.BUFFER_LOW_WATER_LINE,r=fo.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,fo.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*r,i)}}]),e}(Ds.EventTarget),Ho=function t(e,r,i){Rs(this,t);var n,s,a,o=e.masterPlaylistController_,l=o[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(o);if(r.attributes.RESOLUTION){var u=r.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=r.attributes.BANDWIDTH,this.id=i,this.enabled=(n=e.playlists,s=r.uri,a=l,function(t){var e=n.master.playlists[s],r=aa(e),i=oa(e);return void 0===t?i:(t?delete e.disabled:e.disabled=!0,t===i||r||(a(),t?n.trigger("renditionenabled"):n.trigger("renditiondisabled")),t)})},zo=["seeking","seeked","pause","playing","error"],Go=function(){function t(e){var r=this;Rs(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.seekTo=e.seekTo,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ho("PlaybackWatcher"),this.logger_("initialize");var i=function(){return r.monitorCurrentTime_()},s=function(){return r.techWaiting_()},a=function(){return r.cancelTimer_()},o=function(){return r.fixesBadSeeks_()};this.tech_.on("seekablechanged",o),this.tech_.on("waiting",s),this.tech_.on(zo,a),this.tech_.on("canplay",i),this.dispose=function(){r.logger_("dispose"),r.tech_.off("seekablechanged",o),r.tech_.off("waiting",s),r.tech_.off(zo,a),r.tech_.off("canplay",i),r.checkCurrentTimeTimeout_&&n.a.clearTimeout(r.checkCurrentTimeTimeout_),r.cancelTimer_()}}return Ns(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&n.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=n.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var t=this.seekable(),e=this.tech_.currentTime(),r=void 0;return this.afterSeekableWindow_(t,e,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(r=t.end(t.length-1)),this.beforeSeekableWindow_(t,e)&&(r=t.start(0)+.1),void 0!==r&&(this.logger_("Trying to seek outside of seekable at time "+e+" with seekable range "+Ca(t)+". Seeking to "+r+"."),this.seekTo(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),r=ka(e,t);return r.length&&t+3<=r.end(0)?(this.cancelTimer_(),this.seekTo(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+r.start(0)+" -> "+r.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var r=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+r),this.cancelTimer_(),this.seekTo(r),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),n=xa(i,e);if(this.videoUnderflow_(n,i,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(n.length>0){var s=n.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+s+", seeking to "+n.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t.length)return!1;var n=t.end(t.length-1)+.1,s=!r.endList;return s&&i&&(n=t.end(t.length-1)+3*r.targetDuration),e>n}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,r){if(0===t.length){var i=this.gapFromVideoUnderflow_(e,r);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+r),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),r=this.tech_.currentTime(),i=xa(e,r);this.cancelTimer_(),0!==i.length&&r===t&&(this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var r=function(t){if(t.length<2)return Ds.createTimeRanges();for(var e=[],r=1;r<t.length;r++){var i=t.end(r-1),n=t.start(r);e.push([i,n])}return Ds.createTimeRanges(e)}(t),i=0;i<r.length;i++){var n=r.start(i),s=r.end(i);if(e-n<4&&e-n>2)return{start:n,end:s}}return null}}]),t}(),Wo={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},Yo=function(t){!function t(e,r){var i=0,n=0,s=Ds.mergeOptions(Wo,r);e.ready((function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){n&&e.currentTime(n)},o=function(t){null!=t&&(n=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-i<1e3*s.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return i=Date.now(),s.getSource.call(e,o);Ds.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},u=function t(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",t)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=function(r){u(),t(e,r)}}(this,t)};Ds.use("*",(function(t){return{setSource:function(t,e){e(null,t)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.tech_.currentTime())}}}));var Xo={PlaylistLoader:Xs,Playlist:ha,Decrypter:Ot,AsyncStream:Dt,decrypt:Mt,utils:Sa,STANDARD_PLAYLIST_SELECTOR:function(){return function(t,e,r,i,s){var a=t.playlists.map((function(t){var e,r;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,r=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,{bandwidth:t.attributes.BANDWIDTH||n.a.Number.MAX_VALUE,width:e,height:r,playlist:t}}));_o(a,(function(t,e){return t.bandwidth-e.bandwidth}));var o=(a=a.filter((function(t){return!ha.isIncompatible(t.playlist)}))).filter((function(t){return ha.isEnabled(t.playlist)}));o.length||(o=a.filter((function(t){return!ha.isDisabled(t.playlist)})));var l=o.filter((function(t){return t.bandwidth*fo.BANDWIDTH_VARIANCE<e})),u=l[l.length-1],h=l.filter((function(t){return t.bandwidth===u.bandwidth}))[0];if(!1===s){var c=h||o[0]||a[0];return c?c.playlist:null}var p=l.filter((function(t){return t.width&&t.height}));_o(p,(function(t,e){return t.width-e.width}));var d=p.filter((function(t){return t.width===r&&t.height===i}));u=d[d.length-1];var f=d.filter((function(t){return t.bandwidth===u.bandwidth}))[0],m=void 0,g=void 0,y=void 0;f||(g=(m=p.filter((function(t){return t.width>r||t.height>i}))).filter((function(t){return t.width===m[0].width&&t.height===m[0].height})),u=g[g.length-1],y=g.filter((function(t){return t.bandwidth===u.bandwidth}))[0]);var v=y||f||h||o[0]||a[0];return v?v.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(vo(this.tech_.el(),"width"),10),parseInt(vo(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this.playlists.master.playlists.filter(ha.isEnabled);return _o(t,(function(t,e){return bo(t,e)})),t.filter((function(t){return za(t.attributes.CODECS).videoCodec}))[0]||null},comparePlaylistBandwidth:bo,comparePlaylistResolution:function(t,e){var r=void 0,i=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||n.a.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),r===(i=i||n.a.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-i},xhr:da()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(t){Object.defineProperty(Xo,t,{get:function(){return Ds.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),fo[t]},set:function(e){Ds.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Ds.log.warn("value of Hls."+t+" must be greater than or equal to 0"):fo[t]=e}})}));var Ko=function(t){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t)?"hls":/^application\/dash\+xml/i.test(t)?"dash":null},$o=function(t,e){for(var r=e.media(),i=-1,n=0;n<t.length;n++)if(t[n].id===r.uri){i=n;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})};Xo.canPlaySource=function(){return Ds.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Qo=function(){if(!window.localStorage)return null;var t=window.localStorage.getItem("videojs-vhs");if(!t)return null;try{return JSON.parse(t)}catch(t){return null}};Xo.supportsNativeHls=function(){var t=a.a.createElement("video");return!!Ds.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(e){return/maybe|probably/i.test(t.canPlayType(e))}))}(),Xo.supportsNativeDash=!!Ds.getTech("Html5").isSupported()&&/maybe|probably/i.test(a.a.createElement("video").canPlayType("application/dash+xml")),Xo.supportsTypeNatively=function(t){return"hls"===t?Xo.supportsNativeHls:"dash"===t&&Xo.supportsNativeDash},Xo.isSupported=function(){return Ds.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Jo=function(t){function e(t,r,i){Rs(this,e);var n=Fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,i.hls));if(r.options_&&r.options_.playerId){var s=Ds(r.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return Ds.log.warn("player.hls is deprecated. Use player.tech().hls instead."),r.trigger({type:"usage",name:"hls-player-access"}),n},configurable:!0}),s.vhs=n,s.dash=n,n.player_=s}if(n.tech_=r,n.source_=t,n.stats={},n.setOptions_(),n.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(n.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return n.on(a.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var e=a.a.fullscreenElement||a.a.webkitFullscreenElement||a.a.mozFullScreenElement||a.a.msFullscreenElement;e&&e.contains(n.tech_.el())&&n.masterPlaylistController_.smoothQualityChange_()})),n.on(n.tech_,"seeking",(function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)})),n.on(n.tech_,"error",(function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),n.on(n.tech_,"play",n.play),n}return Bs(e,t),Ns(e,[{key:"setOptions_",value:function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=Qo();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=fo.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===fo.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach((function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(t,e){var r=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Xo,this.options_.sourceType=Ko(e),this.options_.seekTo=function(t){r.tech_.setCurrentTime(t),r.setCurrentTime(t)},this.masterPlaylistController_=new qo(this.options_),this.playbackWatcher_=new Go(Ds.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",(function(){Ds.players[r.tech_.options_.playerId].error(r.masterPlaylistController_.error)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Xo.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Xo.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t,e=1/(this.bandwidth||1);return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){Ds.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Aa(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Aa(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){r.options_.useBandwidthFromLocalStorage&&function(t){if(!window.localStorage)return!1;var e=Qo();e=e?Ds.mergeOptions(e,t):t;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(e))}catch(t){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,e;e=(t=r).playlists,t.representations=function(){return e.master.playlists.filter((function(t){return!aa(t)})).map((function(e,r){return new Ho(t,e,e.uri)}))},function(t){var e=t.masterPlaylistController_.mainSegmentLoader_,r=t.masterPlaylistController_.audioSegmentLoader_,i=Ds.players[t.tech_.options_.playerId];if(i.eme){var n=function(t,e,r){if(!t)return t;var i=void 0,n=void 0;if(r.mimeType_)i=e.mimeType_,n=r.mimeType_;else{var s=Wa(e.mimeType_),a=s.parameters.codecs.split(","),o=void 0,l=void 0;a.forEach((function(t){t=t.trim(),Ya(t)?o=t:Xa(t)&&(l=t)})),i=s.type+'; codecs="'+l+'"',n=s.type.replace("video","audio")+'; codecs="'+o+'"'}var u={},h=e.playlist_;for(var c in t)u[c]={audioContentType:n,videoContentType:i},h.contentProtection&&h.contentProtection[c]&&h.contentProtection[c].pssh&&(u[c].pssh=h.contentProtection[c].pssh),"string"==typeof t[c]&&(u[c].url=t[c]);return Ds.mergeOptions(t,u)}(t.source_.keySystems,e,r);n&&(i.currentSource().keySystems=n,11!==Ds.browser.IE_VERSION&&i.eme.initializeMediaKeys&&i.eme.initializeMediaKeys())}}(r)})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.tech_.ready((function(){return r.setupQualityLevels_()})),this.tech_.el()&&this.tech_.src(Ds.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=Ds.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,r;e=t.qualityLevels_,(r=t).representations().forEach((function(t){e.addQualityLevel(t)})),$o(e,r.playlists)})),this.playlists.on("mediachange",(function(){$o(t.qualityLevels_,t.playlists)})))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function t(e,r,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,r,i)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(t,e){return function(t){var e=t.playlist,r=t.time,i=void 0===r?void 0:r,n=t.callback;if(!n)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===i)return n({message:"getProgramTime: playlist and time must be provided"});var s=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var r=0,i=void 0,n=0;n<e.segments.length&&!(t<=(r=(i=e.segments[n]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:r+i.duration));n++);var s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+.25*s.duration)return null;i=s}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:r-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}}(i,e);if(!s)return n({message:"valid programTime was not found"});if("estimate"===s.type)return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var a={mediaSeconds:i},o=function(t,e){if(!e.dateTimeObject)return null;var r=e.videoTimingInfo.transmuxerPrependedSeconds,i=t-(e.videoTimingInfo.transmuxedPresentationStart+r);return new Date(e.dateTimeObject.getTime()+1e3*i)}(i,s.segment);return o&&(a.programDateTime=o.toISOString()),n(null,a)}({playlist:this.masterPlaylistController_.media(),time:t,callback:e})}},{key:"seekToProgramTime",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Ea({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})}}]),e}(Ds.getComponent("Component")),Zo={name:"videojs-http-streaming",VERSION:"1.11.2",canHandleSource:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ds.mergeOptions(Ds.options,e);return Zo.canPlayType(t.type,r)},handleSource:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ds.mergeOptions(Ds.options,r);return e.hls=new Jo(t,e,i),e.hls.xhr=da(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ds.mergeOptions(Ds.options,e),i=r.hls.overrideNative,n=Ko(t),s=n&&(!Xo.supportsTypeNatively(n)||i);return s?"maybe":""}};void 0!==Ds.MediaSource&&void 0!==Ds.URL||(Ds.MediaSource=eo,Ds.URL=ro),eo.supportsNativeMediaSources()&&Ds.getTech("Html5").registerSourceHandler(Zo,0),Ds.HlsHandler=Jo,Ds.HlsSourceHandler=Zo,Ds.Hls=Xo,Ds.use||Ds.registerComponent("Hls",Xo),Ds.options.hls=Ds.options.hls||{},Ds.registerPlugin?Ds.registerPlugin("reloadSourceOnError",Yo):Ds.plugin("reloadSourceOnError",Yo),e.a=Ds},function(t,e,r){"use strict";var i=r(68),n=r(219),s=Object.prototype.toString;function a(t){return"[object Array]"===s.call(t)}function o(t){return null!==t&&"object"==typeof t}function l(t){return"[object Function]"===s.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===s.call(t)},isBuffer:n,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===s.call(t)},isFile:function(t){return"[object File]"===s.call(t)},isBlob:function(t){return"[object Blob]"===s.call(t)},isFunction:l,isStream:function(t){return o(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function r(r,i){"object"==typeof e[i]&&"object"==typeof r?e[i]=t(e[i],r):e[i]=r}for(var i=0,n=arguments.length;i<n;i++)u(arguments[i],r);return e},extend:function(t,e,r){return u(e,(function(e,n){t[n]=r&&"function"==typeof e?i(e,r):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){var i=r(50)("wks"),n=r(32),s=r(12).Symbol,a="function"==typeof s;(t.exports=function(t){return i[t]||(i[t]=a&&s[t]||(a?s:n)("Symbol."+t))}).store=i},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){t.exports=r(218)},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){var r=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},function(t,e,r){t.exports=!r(25)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,r){var i=r(12),n=r(13),s=r(22),a=r(17),o=r(21),l=function(t,e,r){var u,h,c,p,d=t&l.F,f=t&l.G,m=t&l.S,g=t&l.P,y=t&l.B,v=f?i:m?i[e]||(i[e]={}):(i[e]||{}).prototype,_=f?n:n[e]||(n[e]={}),b=_.prototype||(_.prototype={});for(u in f&&(r=e),r)c=((h=!d&&v&&void 0!==v[u])?v:r)[u],p=y&&h?o(c,i):g&&"function"==typeof c?o(Function.call,c):c,v&&a(v,u,c,t&l.U),_[u]!=c&&s(_,u,p),g&&b[u]!=c&&(b[u]=c)};i.core=n,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var i=r(12),n=r(22),s=r(20),a=r(32)("src"),o=r(259),l=(""+o).split("toString");r(13).inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,r,o){var u="function"==typeof r;u&&(s(r,"name")||n(r,"name",e)),t[e]!==r&&(u&&(s(r,a)||n(r,a,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=r:o?t[e]?t[e]=r:n(t,e,r):(delete t[e],n(t,e,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||o.call(this)}))},function(t,e,r){var i=r(19),n=r(81),s=r(83),a=Object.defineProperty;e.f=r(14)?Object.defineProperty:function(t,e,r){if(i(t),e=s(e,!0),i(r),n)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var i=r(10);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var i=r(84);t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var i=r(18),n=r(33);t.exports=r(14)?function(t,e,r){return i.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var i=r(10);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,r){"use strict";var i,n,s,a,o,l=r(46).toUnsigned,u=r(46).toHexString,h=r(38);i=function(t){return h.findBox(t,["moov","trak"]).reduce((function(t,e){var r,i,n,s,a;return(r=h.findBox(e,["tkhd"])[0])?(i=r[0],s=l(r[n=0===i?12:20]<<24|r[n+1]<<16|r[n+2]<<8|r[n+3]),(a=h.findBox(e,["mdia","mdhd"])[0])?(n=0===(i=a[0])?12:20,t[s]=l(a[n]<<24|a[n+1]<<16|a[n+2]<<8|a[n+3]),t):null):null}),{})},n=function(t,e){var r,i,n;return r=h.findBox(e,["moof","traf"]),i=[].concat.apply([],r.map((function(e){return h.findBox(e,["tfhd"]).map((function(r){var i,n;return i=l(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),n=t[i]||9e4,(h.findBox(e,["tfdt"]).map((function(t){var e,r;return e=t[0],r=l(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(r*=Math.pow(2,32),r+=l(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),r}))[0]||1/0)/n}))}))),n=Math.min.apply(null,i),isFinite(n)?n:0},s=function(t,e){var r,i=h.findBox(e,["moof","traf"]),n=0,s=0;if(i&&i.length)for(var a=h.parseTraf(i[0]),o=0;o<a.boxes.length;o++)"tfhd"===a.boxes[o].type?r=a.boxes[o].trackId:"tfdt"===a.boxes[o].type?n=a.boxes[o].baseMediaDecodeTime:"trun"===a.boxes[o].type&&a.boxes[o].samples.length&&(s=a.boxes[o].samples[0].compositionTimeOffset||0);return(n+s)/(t[r]||9e4)},a=function(t){var e=h.findBox(t,["moov","trak"]),r=[];return e.forEach((function(t){var e=h.findBox(t,["mdia","hdlr"]),i=h.findBox(t,["tkhd"]);e.forEach((function(t,e){var n,s,a=h.parseType(t.subarray(8,12)),o=i[e];"vide"===a&&(s=0===(n=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0)?n.getUint32(12):n.getUint32(20),r.push(s))}))})),r},o=function(t){var e=h.findBox(t,["moov","trak"]),r=[];return e.forEach((function(t){var e,i,n={},s=h.findBox(t,["tkhd"])[0];s&&(i=(e=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0),n.id=0===i?e.getUint32(12):e.getUint32(20));var a=h.findBox(t,["mdia","hdlr"])[0];if(a){var o=h.parseType(a.subarray(8,12));n.type="vide"===o?"video":"soun"===o?"audio":o}var c=h.findBox(t,["mdia","minf","stbl","stsd"])[0];if(c){var p=c.subarray(8);n.codec=h.parseType(p.subarray(4,8));var d,f=h.findBox(p,[n.codec])[0];f&&(/^[a-z]vc[1-9]$/i.test(n.codec)?(d=f.subarray(78),"avcC"===h.parseType(d.subarray(4,8))&&d.length>11?(n.codec+=".",n.codec+=u(d[9]),n.codec+=u(d[10]),n.codec+=u(d[11])):n.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(n.codec)&&(d=f.subarray(28),"esds"===h.parseType(d.subarray(4,8))&&d.length>20&&0!==d[19]?(n.codec+="."+u(d[19]),n.codec+="."+u(d[20]>>>2&63).replace(/^0/,"")):n.codec="mp4a.40.2"))}var m=h.findBox(t,["mdia","mdhd"])[0];if(m&&s){var g=0===i?12:20;n.timescale=l(m[g]<<24|m[g+1]<<16|m[g+2]<<8|m[g+3])}r.push(n)})),r},t.exports={findBox:h.findBox,parseType:h.parseType,timescale:i,startTime:n,compositionStartTime:s,videoTrackIds:a,tracks:o}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e,r){var i=r(21),n=r(89),s=r(90),a=r(19),o=r(35),l=r(91),u={},h={};(e=t.exports=function(t,e,r,c,p){var d,f,m,g,y=p?function(){return t}:l(t),v=i(r,c,e?2:1),_=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(s(y)){for(d=o(t.length);d>_;_++)if((g=e?v(a(f=t[_])[0],f[1]):v(t[_]))===u||g===h)return g}else for(m=y.call(t);!(f=m.next()).done;)if((g=n(m,v,f.value,e))===u||g===h)return g}).BREAK=u,e.RETURN=h},function(t,e){function r(){return t.exports=r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},r.apply(this,arguments)}t.exports=r},function(t,e,r){"use strict";var i={};r.r(i),r.d(i,"keyboardHandler",(function(){return nt})),r.d(i,"mouseHandler",(function(){return st})),r.d(i,"resizeHandler",(function(){return at})),r.d(i,"selectHandler",(function(){return ot})),r.d(i,"touchHandler",(function(){return lt})),r.d(i,"wheelHandler",(function(){return ut}));var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},s=function(){return(s=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function a(t,e,r,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(a=(s<3?n(a):s>3?n(e,r,a):n(e,r))||a);return s>3&&a&&Object.defineProperty(e,r,a),a}function o(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,n++)i[n]=s[a];return i}r(258),r(279),r(284),r(293),r(296);var l=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},u=r(105),h="object"==typeof self&&self&&self.Object===Object&&self,c=u.a||h||Function("return this")(),p=c.Symbol,d=Object.prototype,f=d.hasOwnProperty,m=d.toString,g=p?p.toStringTag:void 0,y=Object.prototype.toString,v=p?p.toStringTag:void 0,_=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":v&&v in Object(t)?function(t){var e=f.call(t,g),r=t[g];try{t[g]=void 0;var i=!0}catch(t){}var n=m.call(t);return i&&(e?t[g]=r:delete t[g]),n}(t):function(t){return y.call(t)}(t)},b=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,E=/^0o[0-7]+$/i,w=parseInt,k=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==_(t)}(t))return NaN;if(l(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=l(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(b,"");var r=S.test(t);return r||E.test(t)?w(t.slice(2),r?2:8):T.test(t)?NaN:+t},x=function(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=k(r))==r?r:0),void 0!==e&&(e=(e=k(e))==e?e:0),function(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}(k(t),e,r)};function C(t,e){return void 0===t&&(t=-1/0),void 0===e&&(e=1/0),function(r,i){var n="_"+i;Object.defineProperty(r,i,{get:function(){return this[n]},set:function(r){Object.defineProperty(this,n,{value:x(r,t,e),enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}}function A(t,e){var r="_"+e;Object.defineProperty(t,e,{get:function(){return this[r]},set:function(t){Object.defineProperty(this,r,{value:!!t,enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}var P=function(){return c.Date.now()},D=Math.max,I=Math.min,M=function(t,e,r){var i,n,s,a,o,u,h=0,c=!1,p=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var r=i,s=n;return i=n=void 0,h=e,a=t.apply(s,r)}function m(t){var r=t-u;return void 0===u||r>=e||r<0||p&&t-h>=s}function g(){var t=P();if(m(t))return y(t);o=setTimeout(g,function(t){var r=e-(t-u);return p?I(r,s-(t-h)):r}(t))}function y(t){return o=void 0,d&&i?f(t):(i=n=void 0,a)}function v(){var t=P(),r=m(t);if(i=arguments,n=this,u=t,r){if(void 0===o)return function(t){return h=t,o=setTimeout(g,e),c?f(t):a}(u);if(p)return clearTimeout(o),o=setTimeout(g,e),f(u)}return void 0===o&&(o=setTimeout(g,e)),a}return e=k(e)||0,l(r)&&(c=!!r.leading,s=(p="maxWait"in r)?D(k(r.maxWait)||0,e):s,d="trailing"in r?!!r.trailing:d),v.cancel=function(){void 0!==o&&clearTimeout(o),h=0,i=u=n=o=void 0},v.flush=function(){return void 0===o?a:y(P())},v};function O(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,r,i){var n=i.value;return{get:function(){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{value:M.apply(void 0,o([n],t))}),this[r]}}}}var L,R=function(){function t(t){var e=this;void 0===t&&(t={}),this.damping=.1,this.thumbMinSize=20,this.renderByPixels=!0,this.alwaysShowTracks=!1,this.continuousScrolling=!0,this.delegateTo=null,this.plugins={},Object.keys(t).forEach((function(r){e[r]=t[r]}))}return Object.defineProperty(t.prototype,"wheelEventTarget",{get:function(){return this.delegateTo},set:function(t){console.warn("[smooth-scrollbar]: `options.wheelEventTarget` is deprecated and will be removed in the future, use `options.delegateTo` instead."),this.delegateTo=t},enumerable:!0,configurable:!0}),a([C(0,1)],t.prototype,"damping",void 0),a([C(0,1/0)],t.prototype,"thumbMinSize",void 0),a([A],t.prototype,"renderByPixels",void 0),a([A],t.prototype,"alwaysShowTracks",void 0),a([A],t.prototype,"continuousScrolling",void 0),t}(),N=new WeakMap;function B(){if(void 0!==L)return L;var t=!1;try{var e=function(){},r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",e,r),window.removeEventListener("testPassive",e,r)}catch(t){}return L=!!t&&{passive:!1}}function F(t){var e=N.get(t)||[];return N.set(t,e),function(t,r,i){function n(t){t.defaultPrevented||i(t)}r.split(/\s+/g).forEach((function(r){e.push({elem:t,eventName:r,handler:n}),t.addEventListener(r,n,B())}))}}function U(t){var e=function(t){return t.touches?t.touches[t.touches.length-1]:t}(t);return{x:e.clientX,y:e.clientY}}function j(t,e){return void 0===e&&(e=[]),e.some((function(e){return t===e}))}var V=["webkit","moz","ms","o"],q=new RegExp("^-(?!(?:"+V.join("|")+")-)");function H(t,e){e=function(t){var e={};return Object.keys(t).forEach((function(r){if(q.test(r)){var i=t[r];r=r.replace(/^-/,""),e[r]=i,V.forEach((function(t){e["-"+t+"-"+r]=i}))}else e[r]=t[r]})),e}(e),Object.keys(e).forEach((function(r){var i=r.replace(/^-/,"").replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()}));t.style[i]=e[r]}))}var z,G=function(){function t(t){this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition={x:0,y:0},this.lastPosition=U(t)}return t.prototype.update=function(t){var e=this.velocity,r=this.updateTime,i=this.lastPosition,n=Date.now(),s=U(t),a={x:-(s.x-i.x),y:-(s.y-i.y)},o=n-r||16,l=a.x/o*16,u=a.y/o*16;e.x=.9*l+.1*e.x,e.y=.9*u+.1*e.y,this.delta=a,this.updateTime=n,this.lastPosition=s},t}(),W=function(){function t(){this._touchList={}}return Object.defineProperty(t.prototype,"_primitiveValue",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.isActive=function(){return void 0!==this._activeTouchID},t.prototype.getDelta=function(){var t=this._getActiveTracker();return t?s({},t.delta):this._primitiveValue},t.prototype.getVelocity=function(){var t=this._getActiveTracker();return t?s({},t.velocity):this._primitiveValue},t.prototype.track=function(t){var e=this,r=t.targetTouches;return Array.from(r).forEach((function(t){e._add(t)})),this._touchList},t.prototype.update=function(t){var e=this,r=t.touches,i=t.changedTouches;return Array.from(r).forEach((function(t){e._renew(t)})),this._setActiveID(i),this._touchList},t.prototype.release=function(t){var e=this;delete this._activeTouchID,Array.from(t.changedTouches).forEach((function(t){e._delete(t)}))},t.prototype._add=function(t){if(!this._has(t)){var e=new G(t);this._touchList[t.identifier]=e}},t.prototype._renew=function(t){this._has(t)&&this._touchList[t.identifier].update(t)},t.prototype._delete=function(t){delete this._touchList[t.identifier]},t.prototype._has=function(t){return this._touchList.hasOwnProperty(t.identifier)},t.prototype._setActiveID=function(t){this._activeTouchID=t[t.length-1].identifier},t.prototype._getActiveTracker=function(){return this._touchList[this._activeTouchID]},t}();!function(t){t.X="x",t.Y="y"}(z||(z={}));var Y=function(){function t(t,e){void 0===e&&(e=0),this._direction=t,this._minSize=e,this.element=document.createElement("div"),this.displaySize=0,this.realSize=0,this.offset=0,this.element.className="scrollbar-thumb scrollbar-thumb-"+t}return t.prototype.attachTo=function(t){t.appendChild(this.element)},t.prototype.update=function(t,e,r){this.realSize=Math.min(e/r,1)*e,this.displaySize=Math.max(this.realSize,this._minSize),this.offset=t/r*(e+(this.realSize-this.displaySize)),H(this.element,this._getStyle())},t.prototype._getStyle=function(){switch(this._direction){case z.X:return{width:this.displaySize+"px","-transform":"translate3d("+this.offset+"px, 0, 0)"};case z.Y:return{height:this.displaySize+"px","-transform":"translate3d(0, "+this.offset+"px, 0)"};default:return null}},t}(),X=function(){function t(t,e){void 0===e&&(e=0),this.element=document.createElement("div"),this._isShown=!1,this.element.className="scrollbar-track scrollbar-track-"+t,this.thumb=new Y(t,e),this.thumb.attachTo(this.element)}return t.prototype.attachTo=function(t){t.appendChild(this.element)},t.prototype.show=function(){this._isShown||(this._isShown=!0,this.element.classList.add("show"))},t.prototype.hide=function(){this._isShown&&(this._isShown=!1,this.element.classList.remove("show"))},t.prototype.update=function(t,e,r){H(this.element,{display:r<=e?"none":"block"}),this.thumb.update(t,e,r)},t}(),K=function(){function t(t){this._scrollbar=t;var e=t.options.thumbMinSize;this.xAxis=new X(z.X,e),this.yAxis=new X(z.Y,e),this.xAxis.attachTo(t.containerEl),this.yAxis.attachTo(t.containerEl),t.options.alwaysShowTracks&&(this.xAxis.show(),this.yAxis.show())}return t.prototype.update=function(){var t=this._scrollbar,e=t.size,r=t.offset;this.xAxis.update(r.x,e.container.width,e.content.width),this.yAxis.update(r.y,e.container.height,e.content.height)},t.prototype.autoHideOnIdle=function(){this._scrollbar.options.alwaysShowTracks||(this.xAxis.hide(),this.yAxis.hide())},a([O(300)],t.prototype,"autoHideOnIdle",null),t}(),$=new WeakMap;function Q(t){return Math.pow(t-1,3)+1}var J,Z,tt,et=function(){function t(t,e){var r=this.constructor;this.scrollbar=t,this.name=r.pluginName,this.options=s(s({},r.defaultOptions),e)}return t.prototype.onInit=function(){},t.prototype.onDestroy=function(){},t.prototype.onUpdate=function(){},t.prototype.onRender=function(t){},t.prototype.transformDelta=function(t,e){return s({},t)},t.pluginName="",t.defaultOptions={},t}(),rt={order:new Set,constructors:{}};function it(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach((function(t){var e=t.pluginName;if(!e)throw new TypeError("plugin name is required");rt.order.add(e),rt.constructors[e]=t}))}function nt(t){var e=F(t),r=t.containerEl;e(r,"keydown",(function(e){var i=document.activeElement;if((i===r||r.contains(i))&&!function(t){return!("INPUT"!==t.tagName&&"SELECT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)&&!t.disabled}(i)){var n=function(t,e){var r=t.size,i=t.limit,n=t.offset;switch(e){case J.TAB:return function(t){requestAnimationFrame((function(){t.scrollIntoView(document.activeElement,{offsetTop:t.size.container.height/2,onlyScrollIfNeeded:!0})}))}(t);case J.SPACE:return[0,200];case J.PAGE_UP:return[0,40-r.container.height];case J.PAGE_DOWN:return[0,r.container.height-40];case J.END:return[0,i.y-n.y];case J.HOME:return[0,-n.y];case J.LEFT:return[-40,0];case J.UP:return[0,-40];case J.RIGHT:return[40,0];case J.DOWN:return[0,40];default:return null}}(t,e.keyCode||e.which);if(n){var s=n[0],a=n[1];t.addTransformableMomentum(s,a,e,(function(r){r?e.preventDefault():(t.containerEl.blur(),t.parent&&t.parent.containerEl.focus())}))}}}))}function st(t){var e,r,i,n,s,a=F(t),o=t.containerEl,l=t.track,u=l.xAxis,h=l.yAxis;function c(e,r){var i=t.size;return e===Z.X?r/(i.container.width+(u.thumb.realSize-u.thumb.displaySize))*i.content.width:e===Z.Y?r/(i.container.height+(h.thumb.realSize-h.thumb.displaySize))*i.content.height:0}function p(t){return j(t,[u.element,u.thumb.element])?Z.X:j(t,[h.element,h.thumb.element])?Z.Y:void 0}a(o,"click",(function(e){if(!r&&j(e.target,[u.element,h.element])){var i=e.target,n=p(i),s=i.getBoundingClientRect(),a=U(e),o=t.offset,l=t.limit;if(n===Z.X){var d=a.x-s.left-u.thumb.displaySize/2;t.setMomentum(x(c(n,d)-o.x,-o.x,l.x-o.x),0)}n===Z.Y&&(d=a.y-s.top-h.thumb.displaySize/2,t.setMomentum(0,x(c(n,d)-o.y,-o.y,l.y-o.y)))}})),a(o,"mousedown",(function(r){if(j(r.target,[u.thumb.element,h.thumb.element])){e=!0;var a=r.target,l=U(r),c=a.getBoundingClientRect();n=p(a),i={x:l.x-c.left,y:l.y-c.top},s=o.getBoundingClientRect(),H(t.containerEl,{"-user-select":"none"})}})),a(window,"mousemove",(function(a){if(e){r=!0;var o=t.offset,l=U(a);if(n===Z.X){var u=l.x-i.x-s.left;t.setPosition(c(n,u),o.y)}n===Z.Y&&(u=l.y-i.y-s.top,t.setPosition(o.x,c(n,u)))}})),a(window,"mouseup blur",(function(){e=r=!1,H(t.containerEl,{"-user-select":""})}))}function at(t){F(t)(window,"resize",M(t.update.bind(t),300))}function ot(t){var e,r=F(t),i=t.containerEl,n=t.contentEl,s=t.offset,a=t.limit,o=!1;r(window,"mousemove",(function(r){o&&(cancelAnimationFrame(e),function r(i){var n=i.x,o=i.y;(n||o)&&(t.setMomentum(x(s.x+n,0,a.x)-s.x,x(s.y+o,0,a.y)-s.y),e=requestAnimationFrame((function(){r({x:n,y:o})})))}(function(t,e){var r=t.bounding,i=r.top,n=r.right,s=r.bottom,a=r.left,o=U(e),l=o.x,u=o.y,h={x:0,y:0};return 0===l&&0===u||(l>n-20?h.x=l-n+20:l<a+20&&(h.x=l-a-20),u>s-20?h.y=u-s+20:u<i+20&&(h.y=u-i-20),h.x*=2,h.y*=2),h}(t,r)))})),r(n,"selectstart",(function(t){t.stopPropagation(),cancelAnimationFrame(e),o=!0})),r(window,"mouseup blur",(function(){cancelAnimationFrame(e),o=!1})),r(i,"scroll",(function(t){t.preventDefault(),i.scrollTop=i.scrollLeft=0}))}function lt(t){var e,r=/Android/.test(navigator.userAgent)?3:2,i=t.options.delegateTo||t.containerEl,n=new W,s=F(t),a=0;s(i,"touchstart",(function(r){n.track(r),t.setMomentum(0,0),0===a&&(e=t.options.damping,t.options.damping=Math.max(e,.5)),a++})),s(i,"touchmove",(function(e){if(!tt||tt===t){n.update(e);var r=n.getDelta(),i=r.x,s=r.y;t.addTransformableMomentum(i,s,e,(function(r){r&&(e.preventDefault(),tt=t)}))}})),s(i,"touchcancel touchend",(function(i){var s=n.getVelocity(),o={x:0,y:0};Object.keys(s).forEach((function(t){var i=s[t]/e;o[t]=Math.abs(i)<50?0:i*r})),t.addTransformableMomentum(o.x,o.y,i),0==--a&&(t.options.damping=e),n.release(i),tt=null}))}function ut(t){F(t)(t.options.delegateTo||t.containerEl,"onwheel"in window||document.implementation.hasFeature("Events.wheel","3.0")?"wheel":"mousewheel",(function(e){var r=function(t){if("deltaX"in t){var e=pt(t.deltaMode);return{x:t.deltaX/ht.STANDARD*e,y:t.deltaY/ht.STANDARD*e}}return"wheelDeltaX"in t?{x:t.wheelDeltaX/ht.OTHERS,y:t.wheelDeltaY/ht.OTHERS}:{x:0,y:t.wheelDelta/ht.OTHERS}}(e),i=r.x,n=r.y;t.addTransformableMomentum(i,n,e,(function(t){t&&e.preventDefault()}))}))}!function(t){t[t.TAB=9]="TAB",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN"}(J||(J={})),function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(Z||(Z={}));var ht={STANDARD:1,OTHERS:-3},ct=[1,28,500],pt=function(t){return ct[t]||ct[0]},dt=new Map,ft=function(){function t(t,e){var r=this;this.offset={x:0,y:0},this.limit={x:1/0,y:1/0},this.bounding={top:0,right:0,bottom:0,left:0},this._plugins=[],this._momentum={x:0,y:0},this._listeners=new Set,this.containerEl=t;var i=this.contentEl=document.createElement("div");this.options=new R(e),t.setAttribute("data-scrollbar","true"),t.setAttribute("tabindex","-1"),H(t,{overflow:"hidden",outline:"none"}),window.navigator.msPointerEnabled&&(t.style.msTouchAction="none"),i.className="scroll-content",Array.from(t.childNodes).forEach((function(t){i.appendChild(t)})),t.appendChild(i),this.track=new K(this),this.size=this.getSize(),this._plugins=function(t,e){return Array.from(rt.order).filter((function(t){return!1!==e[t]})).map((function(r){var i=new(0,rt.constructors[r])(t,e[r]);return e[r]=i.options,i}))}(this,this.options.plugins);var n=t.scrollLeft,s=t.scrollTop;t.scrollLeft=t.scrollTop=0,this.setPosition(n,s,{withoutCallbacks:!0});var a=window,o=a.MutationObserver||a.WebKitMutationObserver||a.MozMutationObserver;"function"==typeof o&&(this._observer=new o((function(){r.update()})),this._observer.observe(i,{subtree:!0,childList:!0})),dt.set(t,this),requestAnimationFrame((function(){r._init()}))}return Object.defineProperty(t.prototype,"parent",{get:function(){for(var t=this.containerEl.parentElement;t;){var e=dt.get(t);if(e)return e;t=t.parentElement}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.offset.y},set:function(t){this.setPosition(this.scrollLeft,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this.offset.x},set:function(t){this.setPosition(t,this.scrollTop)},enumerable:!0,configurable:!0}),t.prototype.getSize=function(){return t=this.containerEl,e=this.contentEl,{container:{width:t.clientWidth,height:t.clientHeight},content:{width:e.offsetWidth-e.clientWidth+e.scrollWidth,height:e.offsetHeight-e.clientHeight+e.scrollHeight}};var t,e},t.prototype.update=function(){var t,e,r,i,n;e=(t=this).getSize(),r={x:Math.max(e.content.width-e.container.width,0),y:Math.max(e.content.height-e.container.height,0)},i=t.containerEl.getBoundingClientRect(),n={top:Math.max(i.top,0),right:Math.min(i.right,window.innerWidth),bottom:Math.min(i.bottom,window.innerHeight),left:Math.max(i.left,0)},t.size=e,t.limit=r,t.bounding=n,t.track.update(),t.setPosition(),this._plugins.forEach((function(t){t.onUpdate()}))},t.prototype.isVisible=function(t){return function(t,e){var r=t.bounding,i=e.getBoundingClientRect(),n=Math.max(r.top,i.top),s=Math.max(r.left,i.left),a=Math.min(r.right,i.right);return n<Math.min(r.bottom,i.bottom)&&s<a}(this,t)},t.prototype.setPosition=function(t,e,r){var i=this;void 0===t&&(t=this.offset.x),void 0===e&&(e=this.offset.y),void 0===r&&(r={});var n=function(t,e,r){var i=t.options,n=t.offset,a=t.limit,o=t.track,l=t.contentEl;return i.renderByPixels&&(e=Math.round(e),r=Math.round(r)),e=x(e,0,a.x),r=x(r,0,a.y),e!==n.x&&o.xAxis.show(),r!==n.y&&o.yAxis.show(),i.alwaysShowTracks||o.autoHideOnIdle(),e===n.x&&r===n.y?null:(n.x=e,n.y=r,H(l,{"-transform":"translate3d("+-e+"px, "+-r+"px, 0)"}),o.update(),{offset:s({},n),limit:s({},a)})}(this,t,e);n&&!r.withoutCallbacks&&this._listeners.forEach((function(t){t.call(i,n)}))},t.prototype.scrollTo=function(t,e,r,i){void 0===t&&(t=this.offset.x),void 0===e&&(e=this.offset.y),void 0===r&&(r=0),void 0===i&&(i={}),function(t,e,r,i,n){void 0===i&&(i=0);var s=void 0===n?{}:n,a=s.easing,o=void 0===a?Q:a,l=s.callback,u=t.options,h=t.offset,c=t.limit;u.renderByPixels&&(e=Math.round(e),r=Math.round(r));var p=h.x,d=h.y,f=x(e,0,c.x)-p,m=x(r,0,c.y)-d,g=Date.now();cancelAnimationFrame($.get(t)),function e(){var r=Date.now()-g,n=i?o(Math.min(r/i,1)):1;if(t.setPosition(p+f*n,d+m*n),r>=i)"function"==typeof l&&l.call(t);else{var s=requestAnimationFrame(e);$.set(t,s)}}()}(this,t,e,r,i)},t.prototype.scrollIntoView=function(t,e){void 0===e&&(e={}),function(t,e,r){var i=void 0===r?{}:r,n=i.alignToTop,s=void 0===n||n,a=i.onlyScrollIfNeeded,o=void 0!==a&&a,l=i.offsetTop,u=void 0===l?0:l,h=i.offsetLeft,c=void 0===h?0:h,p=i.offsetBottom,d=void 0===p?0:p,f=t.containerEl,m=t.bounding,g=t.offset,y=t.limit;if(e&&f.contains(e)){var v=e.getBoundingClientRect();if(!o||!t.isVisible(e)){var _=s?v.top-m.top-u:v.bottom-m.bottom+d;t.setMomentum(v.left-m.left-c,x(_,-g.y,y.y-g.y))}}}(this,t,e)},t.prototype.addListener=function(t){if("function"!=typeof t)throw new TypeError("[smooth-scrollbar] scrolling listener should be a function");this._listeners.add(t)},t.prototype.removeListener=function(t){this._listeners.delete(t)},t.prototype.addTransformableMomentum=function(t,e,r,i){this._updateDebounced();var n=this._plugins.reduce((function(t,e){return e.transformDelta(t,r)||t}),{x:t,y:e}),s=!this._shouldPropagateMomentum(n.x,n.y);s&&this.addMomentum(n.x,n.y),i&&i.call(this,s)},t.prototype.addMomentum=function(t,e){this.setMomentum(this._momentum.x+t,this._momentum.y+e)},t.prototype.setMomentum=function(t,e){0===this.limit.x&&(t=0),0===this.limit.y&&(e=0),this.options.renderByPixels&&(t=Math.round(t),e=Math.round(e)),this._momentum.x=t,this._momentum.y=e},t.prototype.updatePluginOptions=function(t,e){this._plugins.forEach((function(r){r.name===t&&Object.assign(r.options,e)}))},t.prototype.destroy=function(){var t,e=this.containerEl,r=this.contentEl;(t=N.get(this))&&(t.forEach((function(t){var e=t.elem,r=t.eventName,i=t.handler;e.removeEventListener(r,i,B())})),N.delete(this)),this._listeners.clear(),this.setMomentum(0,0),cancelAnimationFrame(this._renderID),this._observer&&this._observer.disconnect(),dt.delete(this.containerEl);for(var i=Array.from(r.childNodes);e.firstChild;)e.removeChild(e.firstChild);i.forEach((function(t){e.appendChild(t)})),H(e,{overflow:""}),e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,this._plugins.forEach((function(t){t.onDestroy()})),this._plugins.length=0},t.prototype._init=function(){var t=this;this.update(),Object.keys(i).forEach((function(e){i[e](t)})),this._plugins.forEach((function(t){t.onInit()})),this._render()},t.prototype._updateDebounced=function(){this.update()},t.prototype._shouldPropagateMomentum=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var r=this.options,i=this.offset,n=this.limit;if(!r.continuousScrolling)return!1;0===n.x&&0===n.y&&this._updateDebounced();var s=x(t+i.x,0,n.x),a=x(e+i.y,0,n.y),o=!0;return(o=(o=o&&s===i.x)&&a===i.y)&&(i.x===n.x||0===i.x||i.y===n.y||0===i.y)},t.prototype._render=function(){var t=this._momentum;if(t.x||t.y){var e=this._nextTick("x"),r=this._nextTick("y");t.x=e.momentum,t.y=r.momentum,this.setPosition(e.position,r.position)}var i=s({},this._momentum);this._plugins.forEach((function(t){t.onRender(i)})),this._renderID=requestAnimationFrame(this._render.bind(this))},t.prototype._nextTick=function(t){var e=this.options,r=this.offset,i=this._momentum,n=r[t],s=i[t];if(Math.abs(s)<=.1)return{momentum:0,position:n+s};var a=s*(1-e.damping);return e.renderByPixels&&(a|=0),{momentum:a,position:n+s-a}},a([O(100,{leading:!0})],t.prototype,"_updateDebounced",null),t}(),mt="smooth-scrollbar-style",gt=!1;function yt(){if(!gt&&"undefined"!=typeof window){var t=document.createElement("style");t.id=mt,t.textContent="\n[data-scrollbar] {\n  display: block;\n  position: relative;\n}\n\n.scroll-content {\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n\n.scrollbar-track {\n  position: absolute;\n  opacity: 0;\n  z-index: 1;\n  background: rgba(222, 222, 222, .75);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  -webkit-transition: opacity 0.5s 0.5s ease-out;\n          transition: opacity 0.5s 0.5s ease-out;\n}\n.scrollbar-track.show,\n.scrollbar-track:hover {\n  opacity: 1;\n  -webkit-transition-delay: 0s;\n          transition-delay: 0s;\n}\n\n.scrollbar-track-x {\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 8px;\n}\n.scrollbar-track-y {\n  top: 0;\n  right: 0;\n  width: 8px;\n  height: 100%;\n}\n.scrollbar-thumb {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 8px;\n  height: 8px;\n  background: rgba(0, 0, 0, .5);\n  border-radius: 4px;\n}\n",document.head&&document.head.appendChild(t),gt=!0}}r.d(e,"a",(function(){return et}));var vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.init=function(t,e){if(!t||1!==t.nodeType)throw new TypeError("expect element to be DOM Element, but got "+t);return yt(),dt.has(t)?dt.get(t):new ft(t,e)},e.initAll=function(t){return Array.from(document.querySelectorAll("[data-scrollbar]"),(function(r){return e.init(r,t)}))},e.has=function(t){return dt.has(t)},e.get=function(t){return dt.get(t)},e.getAll=function(){return Array.from(dt.values())},e.destroy=function(t){var e=dt.get(t);e&&e.destroy()},e.destroyAll=function(){dt.forEach((function(t){t.destroy()}))},e.use=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return it.apply(void 0,t)},e.attachStyle=function(){return yt()},e.detachStyle=function(){return function(){if(gt&&"undefined"!=typeof window){var t=document.getElementById(mt);t&&t.parentNode&&(t.parentNode.removeChild(t),gt=!1)}}()},e.version="8.5.2",e.ScrollbarPlugin=et,e}(ft);e.b=vt},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){this.childNodes=[]}},function(t,e,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.ELEMENT_NODE=1]="ELEMENT_NODE",t[t.TEXT_NODE=3]="TEXT_NODE",t[t.COMMENT_NODE=8]="COMMENT_NODE"}(i||(i={})),e.default=i},function(t,e){var r=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var i=r(56),n=r(53);t.exports=function(t){return i(n(t))}},function(t,e,r){var i=r(52),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},function(t,e,r){var i=r(53);t.exports=function(t){return Object(i(t))}},function(t,e,r){var i=r(32)("meta"),n=r(10),s=r(20),a=r(18).f,o=0,l=Object.isExtensible||function(){return!0},u=!r(25)((function(){return l(Object.preventExtensions({}))})),h=function(t){a(t,i,{value:{i:"O"+ ++o,w:{}}})},c=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[i].i},getWeak:function(t,e){if(!s(t,i)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[i].w},onFreeze:function(t){return u&&c.NEED&&l(t)&&!s(t,i)&&h(t),t}}},function(t,e,r){"use strict";var i,n,s=r(46).toUnsigned,a=function(t){return new Date(1e3*t-20828448e5)},o=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},l=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),(e+=String.fromCharCode(t[2]))+String.fromCharCode(t[3])},u=function(t,e){var r,i,n,a,o,h=[];if(!e.length)return null;for(r=0;r<t.byteLength;)i=s(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]),n=l(t.subarray(r+4,r+8)),a=i>1?r+i:t.byteLength,n===e[0]&&(1===e.length?h.push(t.subarray(r+8,a)):(o=u(t.subarray(r+8,a),e.slice(1))).length&&(h=h.concat(o))),r=a;return h},h=function(t){var e,r,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=[];for(e=0;e+4<t.length;e+=r)if(r=i.getUint32(e),e+=4,r<=0)n.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:n.push("slice_layer_without_partitioning_rbsp");break;case 5:n.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:n.push("sei_rbsp");break;case 7:n.push("seq_parameter_set_rbsp");break;case 8:n.push("pic_parameter_set_rbsp");break;case 9:n.push("access_unit_delimiter_rbsp");break;default:n.push("UNKNOWN NAL - "+t[e]&31)}return n},c={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:i(t.subarray(78,t.byteLength))}},avcC:function(t){var e,r,i,n,s=new DataView(t.buffer,t.byteOffset,t.byteLength),a={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},o=31&t[5];for(i=6,n=0;n<o;n++)r=s.getUint16(i),i+=2,a.sps.push(new Uint8Array(t.subarray(i,i+r))),i+=r;for(e=t[i],i++,n=0;n<e;n++)r=s.getUint16(i),i+=2,a.pps.push(new Uint8Array(t.subarray(i,i+r))),i+=r;return a},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={majorBrand:l(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},i=8;i<t.byteLength;)r.compatibleBrands.push(l(t.subarray(i,i+4))),i+=4;return r},dinf:function(t){return{boxes:i(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:i(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:l(t.subarray(8,12)),name:""},r=8;for(r=24;r<t.byteLength;r++){if(0===t[r]){r++;break}e.name+=String.fromCharCode(t[r])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:h(t)}},mdhd:function(t){var e,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,n={version:r.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===n.version?(i+=4,n.creationTime=a(r.getUint32(i)),i+=8,n.modificationTime=a(r.getUint32(i)),i+=4,n.timescale=r.getUint32(i),i+=8,n.duration=r.getUint32(i)):(n.creationTime=a(r.getUint32(i)),i+=4,n.modificationTime=a(r.getUint32(i)),i+=4,n.timescale=r.getUint32(i),i+=4,n.duration=r.getUint32(i)),i+=4,e=r.getUint16(i),n.language+=String.fromCharCode(96+(e>>10)),n.language+=String.fromCharCode(96+((992&e)>>5)),n.language+=String.fromCharCode(96+(31&e)),n},mdia:function(t){return{boxes:i(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:i(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(r.streamDescriptor=i(t.subarray(28))[0]),r},moof:function(t){return{boxes:i(t)}},moov:function(t){return{boxes:i(t)}},mvex:function(t){return{boxes:i(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(r+=4,i.creationTime=a(e.getUint32(r)),r+=8,i.modificationTime=a(e.getUint32(r)),r+=4,i.timescale=e.getUint32(r),r+=8,i.duration=e.getUint32(r)):(i.creationTime=a(e.getUint32(r)),r+=4,i.modificationTime=a(e.getUint32(r)),r+=4,i.timescale=e.getUint32(r),r+=4,i.duration=e.getUint32(r)),r+=4,i.rate=e.getUint16(r)+e.getUint16(r+2)/16,r+=4,i.volume=e.getUint8(r)+e.getUint8(r+1)/8,r+=2,r+=2,r+=8,i.matrix=new Uint32Array(t.subarray(r,r+36)),r+=36,r+=24,i.nextTrackId=e.getUint32(r),i},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)r.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return r},sidx:function(t){var e,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8),earliestPresentationTime:r.getUint32(12),firstOffset:r.getUint32(16)},n=r.getUint16(22);for(e=24;n;e+=12,n--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&r.getUint32(e),subsegmentDuration:r.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&r.getUint32(e+8)});return i},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:i(t)}},stco:function(t){var e,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},n=r.getUint32(4);for(e=8;n;e+=4,n--)i.chunkOffsets.push(r.getUint32(e));return i},stsc:function(t){var e,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=r.getUint32(4),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;i;e+=12,i--)n.sampleToChunks.push({firstChunk:r.getUint32(e),samplesPerChunk:r.getUint32(e+4),sampleDescriptionIndex:r.getUint32(e+8)});return n},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:i(t.subarray(8))}},stsz:function(t){var e,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:r.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)i.entries.push(r.getUint32(e));return i},stts:function(t){var e,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},n=r.getUint32(4);for(e=8;n;e+=8,n--)i.timeToSamples.push({sampleCount:r.getUint32(e),sampleDelta:r.getUint32(e+4)});return i},styp:function(t){return c.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:s(t[4]<<24|t[5]<<16|t[6]<<8|t[7])};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=s(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),e},tfhd:function(t){var e,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:r.getUint32(4)},n=1&i.flags[2],s=2&i.flags[2],a=8&i.flags[2],o=16&i.flags[2],l=32&i.flags[2],u=65536&i.flags[0],h=131072&i.flags[0];return e=8,n&&(e+=4,i.baseDataOffset=r.getUint32(12),e+=4),s&&(i.sampleDescriptionIndex=r.getUint32(e),e+=4),a&&(i.defaultSampleDuration=r.getUint32(e),e+=4),o&&(i.defaultSampleSize=r.getUint32(e),e+=4),l&&(i.defaultSampleFlags=r.getUint32(e)),u&&(i.durationIsEmpty=!0),!n&&h&&(i.baseDataOffsetIsMoof=!0),i},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r=4,i={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===i.version?(r+=4,i.creationTime=a(e.getUint32(r)),r+=8,i.modificationTime=a(e.getUint32(r)),r+=4,i.trackId=e.getUint32(r),r+=4,r+=8,i.duration=e.getUint32(r)):(i.creationTime=a(e.getUint32(r)),r+=4,i.modificationTime=a(e.getUint32(r)),r+=4,i.trackId=e.getUint32(r),r+=4,r+=4,i.duration=e.getUint32(r)),r+=4,r+=8,i.layer=e.getUint16(r),r+=2,i.alternateGroup=e.getUint16(r),r+=2,i.volume=e.getUint8(r)+e.getUint8(r+1)/8,r+=2,r+=2,i.matrix=new Uint32Array(t.subarray(r,r+36)),r+=36,i.width=e.getUint16(r)+e.getUint16(r+2)/16,r+=4,i.height=e.getUint16(r)+e.getUint16(r+2)/16,i},traf:function(t){return{boxes:i(t)}},trak:function(t){return{boxes:i(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=1&r.flags[2],s=4&r.flags[2],a=1&r.flags[1],l=2&r.flags[1],u=4&r.flags[1],h=8&r.flags[1],c=i.getUint32(4),p=8;for(n&&(r.dataOffset=i.getInt32(p),p+=4),s&&c&&(e={flags:o(t.subarray(p,p+4))},p+=4,a&&(e.duration=i.getUint32(p),p+=4),l&&(e.size=i.getUint32(p),p+=4),h&&(e.compositionTimeOffset=i.getUint32(p),p+=4),r.samples.push(e),c--);c--;)e={},a&&(e.duration=i.getUint32(p),p+=4),l&&(e.size=i.getUint32(p),p+=4),u&&(e.flags=o(t.subarray(p,p+4)),p+=4),h&&(e.compositionTimeOffset=i.getUint32(p),p+=4),r.samples.push(e);return r},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};i=function(t){for(var e,r,i,n,s,a=0,o=[],u=new ArrayBuffer(t.length),h=new Uint8Array(u),p=0;p<t.length;++p)h[p]=t[p];for(e=new DataView(u);a<t.byteLength;)r=e.getUint32(a),i=l(t.subarray(a+4,a+8)),n=r>1?a+r:t.byteLength,(s=(c[i]||function(t){return{data:t}})(t.subarray(a+8,n))).size=r,s.type=i,o.push(s),a=n;return o},n=function(t,e){var r;return e=e||0,r=new Array(2*e+1).join(" "),t.map((function(t,i){return r+t.type+"\n"+Object.keys(t).filter((function(t){return"type"!==t&&"boxes"!==t})).map((function(e){var i=r+"  "+e+": ",n=t[e];if(n instanceof Uint8Array||n instanceof Uint32Array){var s=Array.prototype.slice.call(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)).map((function(t){return" "+("00"+t.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return s?1===s.length?i+"<"+s.join("").slice(1)+">":i+"<\n"+s.map((function(t){return r+"  "+t})).join("\n")+"\n"+r+"  >":i+"<>"}return i+JSON.stringify(n,null,2).split("\n").map((function(t,e){return 0===e?t:r+"  "+t})).join("\n")})).join("\n")+(t.boxes?"\n"+n(t.boxes,e+1):"")})).join("\n")},t.exports={inspect:i,textify:n,parseType:l,findBox:u,parseTraf:c.traf,parseTfdt:c.tfdt,parseHdlr:c.hdlr,parseTfhd:c.tfhd,parseTrun:c.trun,parseSidx:c.sidx}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(73);e.CommentNode=i.default;var n=r(236);e.HTMLElement=n.default,e.parse=n.parse,e.default=n.parse;var s=r(30);e.Node=s.default;var a=r(74);e.TextNode=a.default;var o=r(31);e.NodeType=o.default},function(t,e,r){var i,n,s,a,o;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var i=o.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return r.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):e;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(u.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var h=a.path,c=h.substring(0,h.lastIndexOf("/")+1)+s.path;u.path=o.normalizePath(c)}else u.path=a.path,s.params||(u.params=a.params,s.query||(u.query=a.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(u)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(s,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o},function(t,e,r){var i,n;!function(s,a){"use strict";i=[r(298)],void 0===(n=function(t){return function(t,e){var r=t.jQuery,i=t.console;function n(t,e){for(var r in e)t[r]=e[r];return t}var s=Array.prototype.slice;function a(t,e,o){if(!(this instanceof a))return new a(t,e,o);var l,u=t;"string"==typeof t&&(u=document.querySelectorAll(t)),u?(this.elements=(l=u,Array.isArray(l)?l:"object"==typeof l&&"number"==typeof l.length?s.call(l):[l]),this.options=n({},this.options),"function"==typeof e?o=e:n(this.options,e),o&&this.on("always",o),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):i.error("Bad element for imagesLoaded "+(u||t))}a.prototype=Object.create(e.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&o[e]){for(var r=t.querySelectorAll("img"),i=0;i<r.length;i++){var n=r[i];this.addImage(n)}if("string"==typeof this.options.background){var s=t.querySelectorAll(this.options.background);for(i=0;i<s.length;i++){var a=s[i];this.addElementBackgroundImages(a)}}}};var o={1:!0,9:!0,11:!0};function l(t){this.img=t}function u(t,e){this.url=t,this.element=e,this.img=new Image}return a.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var r=/url\((['"])?(.*?)\1\)/gi,i=r.exec(e.backgroundImage);null!==i;){var n=i&&i[2];n&&this.addBackground(n,t),i=r.exec(e.backgroundImage)}},a.prototype.addImage=function(t){var e=new l(t);this.images.push(e)},a.prototype.addBackground=function(t,e){var r=new u(t,e);this.images.push(r)},a.prototype.check=function(){var t=this;function e(e,r,i){setTimeout((function(){t.progress(e,r,i)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(t){t.once("progress",e),t.check()})):this.complete()},a.prototype.progress=function(t,e,r){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+r,t,e)},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},l.prototype=Object.create(e.prototype),l.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},l.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype=Object.create(l.prototype),u.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},u.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},a.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(t,e){return new a(this,t,e).jqDeferred.promise(r(this))})},a.makeJQueryPlugin(),a}(s,t)}.apply(e,i))||(t.exports=n)}("undefined"!=typeof window?window:this)},function(t,e,r){t.exports=function(){"use strict";var t=document,e=t.createTextNode.bind(t);function r(t,e,r){t.style.setProperty(e,r)}function i(t,e){return t.appendChild(e)}function n(e,r,n,s){var a=t.createElement("span");return r&&(a.className=r),n&&(!s&&a.setAttribute("data-"+r,n),a.textContent=n),e&&i(e,a)||a}function s(t,e){return t.getAttribute("data-"+e)}function a(e,r){return e&&0!=e.length?e.nodeName?[e]:[].slice.call(e[0].nodeName?e:(r||t).querySelectorAll(e)):[]}function o(t){for(var e=[];t--;)e[t]=[];return e}function l(t,e){t&&t.some(e)}function u(t){return function(e){return t[e]}}var h={};function c(t,e,r,i){return{by:t,depends:e,key:r,split:i}}function p(t){h[t.by]=t}function d(t,r,s,o,u){t.normalize();var h=[],c=document.createDocumentFragment();o&&h.push(t.previousSibling);var p=[];return a(t.childNodes).some((function(t){if(!t.tagName||t.hasChildNodes()){if(t.childNodes&&t.childNodes.length)return p.push(t),void h.push.apply(h,d(t,r,s,o,u));var i=t.wholeText||"",a=i.trim();a.length&&(" "===i[0]&&p.push(e(" ")),l(a.split(s),(function(t,e){e&&u&&p.push(n(c,"whitespace"," ",u));var i=n(c,r,t);h.push(i),p.push(i)}))," "===i[i.length-1]&&p.push(e(" ")))}else p.push(t)})),l(p,(function(t){i(c,t)})),t.innerHTML="",i(t,c),h}var f=c("words",0,"word",(function(t){return d(t,"word",/\s+/,0,1)})),m="chars",g=c(m,["words"],"char",(function(t,e,r){var i=[];return l(r.words,(function(t,r){i.push.apply(i,d(t,"char","",e.whitespace&&r))})),i}));function y(t){var e=(t=t||{}).key;return a(t.target||"[data-splitting]").map((function(i){var n=i["🍌"];if(!t.force&&n)return n;n=i["🍌"]={el:i};var a=function(t){return function t(e,r,i){var n=i.indexOf(e);if(-1==n)i.unshift(e),l(h[e].depends,(function(r){t(r,e,i)}));else{var s=i.indexOf(r);i.splice(n,1),i.splice(s,0,e)}return i}(t,0,[]).map(u(h))}(t.by||s(i,"splitting")||m),o=function(t,e){for(var r in e)t[r]=e[r];return t}({},t);return l(a,(function(t){if(t.split){var s=t.by,a=(e?"-"+e:"")+t.key,u=t.split(i,o,n);a&&function(t,e,i){var n="--"+e,s=n+"-index";l(i,(function(t,e){Array.isArray(t)?l(t,(function(t){r(t,s,e)})):r(t,s,e)})),r(t,n+"-total",i.length)}(i,a,u),n[s]=u,i.classList.add(s)}})),i.classList.add("splitting"),n}))}function v(t,e,r){var i=a(e.matching||t.children,t),n={};return l(i,(function(t){var e=Math.round(t[r]);(n[e]||(n[e]=[])).push(t)})),Object.keys(n).map(Number).sort(_).map(u(n))}function _(t,e){return t-e}y.html=function(t){var e=(t=t||{}).target=n();return e.innerHTML=t.content,y(t),e.outerHTML},y.add=p;var b=c("lines",["words"],"line",(function(t,e,r){return v(t,{matching:r.words},"offsetTop")})),T=c("items",0,"item",(function(t,e){return a(e.matching||t.children,t)})),S=c("rows",0,"row",(function(t,e){return v(t,e,"offsetTop")})),E=c("cols",0,"col",(function(t,e){return v(t,e,"offsetLeft")})),w=c("grid",["rows","cols"]),k=c("layout",0,0,(function(t,e){var o=e.rows=+(e.rows||s(t,"rows")||1),l=e.columns=+(e.columns||s(t,"columns")||1);if(e.image=e.image||s(t,"image")||t.currentSrc||t.src,e.image){var u=a("img",t)[0];e.image=u&&(u.currentSrc||u.src)}e.image&&r(t,"background-image","url("+e.image+")");for(var h=o*l,c=[],p=n(0,"cell-grid");h--;){var d=n(p,"cell");n(d,"cell-inner"),c.push(d)}return i(t,p),c})),x=c("cellRows",["layout"],"row",(function(t,e,r){var i=e.rows,n=o(i);return l(r.layout,(function(t,e,r){n[Math.floor(e/(r.length/i))].push(t)})),n})),C=c("cellColumns",["layout"],"col",(function(t,e,r){var i=e.columns,n=o(i);return l(r.layout,(function(t,e){n[e%i].push(t)})),n})),A=c("cells",["cellRows","cellColumns"],"cell",(function(t,e,r){return r.layout}));return p(f),p(g),p(b),p(T),p(S),p(E),p(w),p(k),p(x),p(C),p(A),y}()},function(t,e,r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var n=i(r(40)),s=i(r(1));t.exports=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=n.buildAbsoluteURL(s.location&&s.location.href||"",t)),n.buildAbsoluteURL(t,e))}},,function(t,e,r){"use strict";(function(e){var i=r(8),n=r(222),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o,l={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e)&&(o=r(69)),o),transformRequest:[function(t,e){return n(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){l.headers[t]=i.merge(s)})),t.exports=l}).call(this,r(221))},function(t,e){t.exports={toUnsigned:function(t){return t>>>0},toHexString:function(t){return("00"+t.toString(16)).slice(-2)}}},function(t,e,r){"use strict";var i=r(48),n={};n[r(9)("toStringTag")]="z",n+""!="[object z]"&&r(17)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},function(t,e,r){var i=r(49),n=r(9)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?r:s?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var i=r(13),n=r(12),s=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:r(80)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){"use strict";var i=r(260)(!0);r(54)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})}))},function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){"use strict";var i=r(80),n=r(15),s=r(17),a=r(22),o=r(26),l=r(261),u=r(58),h=r(267),c=r(9)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,r,f,m,g,y){l(r,e,f);var v,_,b,T=function(t){if(!p&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},S=e+" Iterator",E="values"==m,w=!1,k=t.prototype,x=k[c]||k["@@iterator"]||m&&k[m],C=x||T(m),A=m?E?T("entries"):C:void 0,P="Array"==e&&k.entries||x;if(P&&(b=h(P.call(new t)))!==Object.prototype&&b.next&&(u(b,S,!0),i||"function"==typeof b[c]||a(b,c,d)),E&&x&&"values"!==x.name&&(w=!0,C=function(){return x.call(this)}),i&&!y||!p&&!w&&k[c]||a(k,c,C),o[e]=C,o[S]=d,m)if(v={values:E?C:T("values"),keys:g?C:T("keys"),entries:A},y)for(_ in v)_ in k||s(k,_,v[_]);else n(n.P+n.F*(p||w),e,v);return v}},function(t,e,r){var i=r(263),n=r(86);t.exports=Object.keys||function(t){return i(t,n)}},function(t,e,r){var i=r(49);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,r){var i=r(50)("keys"),n=r(32);t.exports=function(t){return i[t]||(i[t]=n(t))}},function(t,e,r){var i=r(18).f,n=r(20),s=r(9)("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},function(t,e,r){for(var i=r(268),n=r(55),s=r(17),a=r(12),o=r(22),l=r(26),u=r(9),h=u("iterator"),c=u("toStringTag"),p=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=n(d),m=0;m<f.length;m++){var g,y=f[m],v=d[y],_=a[y],b=_&&_.prototype;if(b&&(b[h]||o(b,h,p),b[c]||o(b,c,y),l[y]=p,v))for(g in i)b[g]||s(b,g,i[g],!0)}},function(t,e,r){var i=r(17);t.exports=function(t,e,r){for(var n in e)i(t,n,e[n],r);return t}},function(t,e){t.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){"use strict";var i=r(12),n=r(15),s=r(17),a=r(60),o=r(37),l=r(27),u=r(61),h=r(10),c=r(25),p=r(92),d=r(58),f=r(272);t.exports=function(t,e,r,m,g,y){var v=i[t],_=v,b=g?"set":"add",T=_&&_.prototype,S={},E=function(t){var e=T[t];s(T,t,"delete"==t||"has"==t?function(t){return!(y&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof _&&(y||T.forEach&&!c((function(){(new _).entries().next()})))){var w=new _,k=w[b](y?{}:-0,1)!=w,x=c((function(){w.has(1)})),C=p((function(t){new _(t)})),A=!y&&c((function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)}));C||((_=e((function(e,r){u(e,_,t);var i=f(new v,e,_);return null!=r&&l(r,g,i[b],i),i}))).prototype=T,T.constructor=_),(x||A)&&(E("delete"),E("has"),g&&E("get")),(A||k)&&E(b),y&&T.clear&&delete T.clear}else _=m.getConstructor(e,t,g,b),a(_.prototype,r),o.NEED=!0;return d(_,t),S[t]=_,n(n.G+n.W+n.F*(_!=v),S),y||m.setStrong(_,t,g),_}},function(t,e,r){"use strict";var i=r(15);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,r){"use strict";var i=r(15),n=r(84),s=r(21),a=r(27);t.exports=function(t){i(i.S,t,{from:function(t){var e,r,i,o,l=arguments[1];return n(this),(e=void 0!==l)&&n(l),null==t?new this:(r=[],e?(i=0,o=s(l,arguments[2],2),a(t,!1,(function(t){r.push(o(t,i++))}))):a(t,!1,r.push,r),new this(r))}})}},function(t,e,r){"use strict";var i=r(242),n=r(28),s=r(243);function a(t,e,r){var i=t;return s(e)?(r=e,"string"==typeof t&&(i={uri:t})):i=n({},e,{uri:t}),i.callback=r,i}function o(t,e,r){return l(e=a(t,e,r))}function l(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,r=function(r,i,n){e||(e=!0,t.callback(r,i,n))};function i(){var t=void 0;if(t=u.response?u.response:u.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(u),g)try{t=JSON.parse(t)}catch(t){}return t}function n(t){return clearTimeout(h),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,y)}function s(){if(!l){var e;clearTimeout(h),e=t.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var n=y,s=null;return 0!==e?(n={body:i(),statusCode:e,method:p,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(n.headers=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var r=t.indexOf(":"),i=t.slice(0,r).trim().toLowerCase(),n=t.slice(r+1).trim();void 0===e[i]?e[i]=n:Array.isArray(e[i])?e[i].push(n):e[i]=[e[i],n]})),e):e}(u.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),r(s,n,n.body)}}var a,l,u=t.xhr||null;u||(u=t.cors||t.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var h,c=u.url=t.uri||t.url,p=u.method=t.method||"GET",d=t.body||t.data,f=u.headers=t.headers||{},m=!!t.sync,g=!1,y={body:void 0,headers:{},statusCode:0,method:p,url:c,rawRequest:u};if("json"in t&&!1!==t.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),d=JSON.stringify(!0===t.json?d:t.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(s,0)},u.onload=s,u.onerror=n,u.onprogress=function(){},u.onabort=function(){l=!0},u.ontimeout=n,u.open(p,c,!m,t.username,t.password),m||(u.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(h=setTimeout((function(){if(!l){l=!0,u.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",n(t)}}),t.timeout)),u.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&u.setRequestHeader(a,f[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(u),u.send(d||null),u}t.exports=o,t.exports.default=o,o.XMLHttpRequest=i.XMLHttpRequest||function(){},o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:i.XDomainRequest,function(t,e){for(var r=0;r<t.length;r++)e(t[r])}(["get","put","post","patch","head","delete"],(function(t){o["delete"===t?"del":t]=function(e,r,i){return(r=a(e,r,i)).method=t.toUpperCase(),l(r)}}))},function(t,e,r){var i=r(1),n=t.exports={WebVTT:r(244),VTTCue:r(245),VTTRegion:r(246)};i.vttjs=n,i.WebVTT=n.WebVTT;var s=n.VTTCue,a=n.VTTRegion,o=i.VTTCue,l=i.VTTRegion;n.shim=function(){i.VTTCue=s,i.VTTRegion=a},n.restore=function(){i.VTTCue=o,i.VTTRegion=l},i.VTTCue||n.shim()},,function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return t.apply(e,r)}}},function(t,e,r){"use strict";var i=r(8),n=r(223),s=r(225),a=r(226),o=r(227),l=r(70);t.exports=function(t){return new Promise((function(e,u){var h=t.data,c=t.headers;i.isFormData(h)&&delete c["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",f=t.auth.password||"";c.Authorization="Basic "+btoa(d+":"+f)}if(p.open(t.method.toUpperCase(),s(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:t,request:p};n(e,u,i),p=null}},p.onerror=function(){u(l("Network Error",t,null,p)),p=null},p.ontimeout=function(){u(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var m=r(228),g=(t.withCredentials||o(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;g&&(c[t.xsrfHeaderName]=g)}if("setRequestHeader"in p&&i.forEach(c,(function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete c[e]:p.setRequestHeader(e,t)})),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),u(t),p=null)})),void 0===h&&(h=null),p.send(h)}))}},function(t,e,r){"use strict";var i=r(224);t.exports=function(t,e,r,n,s){var a=new Error(t);return i(a,e,r,n,s)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(r(30)),o=s(r(31)),l=function(t){function e(e){var r=t.call(this)||this;return r.nodeType=o.default.COMMENT_NODE,r.rawText=e,r}return n(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.rawText},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"\x3c!--"+this.rawText+"--\x3e"},e}(a.default);e.default=l},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(r(31)),o=function(t){function e(e){var r=t.call(this)||this;return r.nodeType=a.default.TEXT_NODE,r.rawText=e,r}return n(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.rawText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWhitespace",{get:function(){return/^(\s|&nbsp;)*$/.test(this.rawText)},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.text},e}(s(r(30)).default);e.default=o},function(t,e){function r(e,i){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(e,i)}t.exports=r},function(t,e){function r(t,e){for(var r in t)e[r]=t[r]}function i(t,e){var i=t.prototype;if(Object.create){var n=Object.create(e.prototype);i.__proto__=n}if(!(i instanceof e)){function s(){}s.prototype=e.prototype,r(i,s=new s),t.prototype=i=s}i.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),i.constructor=t)}var n={},s=n.ELEMENT_NODE=1,a=n.ATTRIBUTE_NODE=2,o=n.TEXT_NODE=3,l=n.CDATA_SECTION_NODE=4,u=n.ENTITY_REFERENCE_NODE=5,h=n.ENTITY_NODE=6,c=n.PROCESSING_INSTRUCTION_NODE=7,p=n.COMMENT_NODE=8,d=n.DOCUMENT_NODE=9,f=n.DOCUMENT_TYPE_NODE=10,m=n.DOCUMENT_FRAGMENT_NODE=11,g=n.NOTATION_NODE=12,y={},v={},_=(y.INDEX_SIZE_ERR=(v[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),y.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),b=(y.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),y.NOT_FOUND_ERR=(v[8]="Not found",8)),T=(y.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),y.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));function S(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,v[t]),this.message=v[t],Error.captureStackTrace&&Error.captureStackTrace(this,S);return r.code=t,e&&(this.message=this.message+": "+e),r}function E(){}function w(t,e){this._node=t,this._refresh=e,k(this)}function k(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var i=t._refresh(t._node);et(t,"length",i.length),r(i,t),t._inc=e}}function x(){}function C(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function A(t,e,r,i){if(i?e[C(e,i)]=r:e[e.length++]=r,t){r.ownerElement=t;var n=t.ownerDocument;n&&(i&&R(n,t,i),function(t,e,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(e._nsMap[r.prefix?r.localName:""]=r.value)}(n,t,r))}}function P(t,e,r){var i=C(e,r);if(!(i>=0))throw S(b,new Error(t.tagName+"@"+r));for(var n=e.length-1;i<n;)e[i]=e[++i];if(e.length=n,t){var s=t.ownerDocument;s&&(R(s,t,r),r.ownerElement=null)}}function D(t){if(this._features={},t)for(var e in t)this._features=t[e]}function I(){}function M(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function O(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(O(t,e))return!0}while(t=t.nextSibling)}function L(){}function R(t,e,r,i){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete e._nsMap[r.prefix?r.localName:""]}function N(t,e,r){if(t&&t._inc){t._inc++;var i=e.childNodes;if(r)i[i.length++]=r;else{for(var n=e.firstChild,s=0;n;)i[s++]=n,n=n.nextSibling;i.length=s}}}function B(t,e){var r=e.previousSibling,i=e.nextSibling;return r?r.nextSibling=i:t.firstChild=i,i?i.previousSibling=r:t.lastChild=r,N(t.ownerDocument,t),e}function F(t,e,r){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===m){var n=e.firstChild;if(null==n)return e;var s=e.lastChild}else n=s=e;var a=r?r.previousSibling:t.lastChild;n.previousSibling=a,s.nextSibling=r,a?a.nextSibling=n:t.firstChild=n,null==r?t.lastChild=s:r.previousSibling=s;do{n.parentNode=t}while(n!==s&&(n=n.nextSibling));return N(t.ownerDocument||t,t),e.nodeType==m&&(e.firstChild=e.lastChild=null),e}function U(){this._nsMap={}}function j(){}function V(){}function q(){}function H(){}function z(){}function G(){}function W(){}function Y(){}function X(){}function K(){}function $(){}function Q(){}function J(t,e){var r=[],i=9==this.nodeType?this.documentElement:this,n=i.prefix,s=i.namespaceURI;if(s&&null==n&&null==(n=i.lookupPrefix(s)))var a=[{namespace:s,prefix:null}];return tt(this,r,t,e,a),r.join("")}function Z(t,e,r){var i=t.prefix||"",n=t.namespaceURI;if(!i&&!n)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===n||"http://www.w3.org/2000/xmlns/"==n)return!1;for(var s=r.length;s--;){var a=r[s];if(a.prefix==i)return a.namespace!=n}return!0}function tt(t,e,r,i,n){if(i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case s:n||(n=[]),n.length;var h=t.attributes,g=h.length,y=t.firstChild,v=t.tagName;r="http://www.w3.org/1999/xhtml"===t.namespaceURI||r,e.push("<",v);for(var _=0;_<g;_++)"xmlns"==(b=h.item(_)).prefix?n.push({prefix:b.localName,namespace:b.value}):"xmlns"==b.nodeName&&n.push({prefix:"",namespace:b.value});for(_=0;_<g;_++){var b;if(Z(b=h.item(_),0,n)){var T=b.prefix||"",S=b.namespaceURI,E=T?" xmlns:"+T:" xmlns";e.push(E,'="',S,'"'),n.push({prefix:T,namespace:S})}tt(b,e,r,i,n)}if(Z(t,0,n)&&(T=t.prefix||"",S=t.namespaceURI,E=T?" xmlns:"+T:" xmlns",e.push(E,'="',S,'"'),n.push({prefix:T,namespace:S})),y||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(e.push(">"),r&&/^script$/i.test(v))for(;y;)y.data?e.push(y.data):tt(y,e,r,i,n),y=y.nextSibling;else for(;y;)tt(y,e,r,i,n),y=y.nextSibling;e.push("</",v,">")}else e.push("/>");return;case d:case m:for(y=t.firstChild;y;)tt(y,e,r,i,n),y=y.nextSibling;return;case a:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,M),'"');case o:return e.push(t.data.replace(/[<&]/g,M));case l:return e.push("<![CDATA[",t.data,"]]>");case p:return e.push("\x3c!--",t.data,"--\x3e");case f:var w=t.publicId,k=t.systemId;if(e.push("<!DOCTYPE ",t.name),w)e.push(' PUBLIC "',w),k&&"."!=k&&e.push('" "',k),e.push('">');else if(k&&"."!=k)e.push(' SYSTEM "',k,'">');else{var x=t.internalSubset;x&&e.push(" [",x,"]"),e.push(">")}return;case c:return e.push("<?",t.target," ",t.data,"?>");case u:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function et(t,e,r){t[e]=r}y.INVALID_STATE_ERR=(v[11]="Invalid state",11),y.SYNTAX_ERR=(v[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),y.NAMESPACE_ERR=(v[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(v[15]="Invalid access",15),S.prototype=Error.prototype,r(y,S),E.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],i=0;i<this.length;i++)tt(this[i],r,t,e);return r.join("")}},w.prototype.item=function(t){return k(this),this[t]},i(w,E),x.prototype={length:0,item:E.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new S(T);var r=this.getNamedItem(t.nodeName);return A(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e,r=t.ownerElement;if(r&&r!=this._ownerElement)throw new S(T);return e=this.getNamedItemNS(t.namespaceURI,t.localName),A(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return P(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return P(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var i=this[r];if(i.localName==e&&i.namespaceURI==t)return i}return null}},D.prototype={hasFeature:function(t,e){var r=this._features[t.toLowerCase()];return!(!r||e&&!(e in r))},createDocument:function(t,e,r){var i=new L;if(i.implementation=this,i.childNodes=new E,i.doctype=r,r&&i.appendChild(r),e){var n=i.createElementNS(t,e);i.appendChild(n)}return i},createDocumentType:function(t,e,r){var i=new G;return i.name=t,i.nodeName=t,i.publicId=e,i.systemId=r,i}},I.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return F(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return B(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,r,i){var n=new r.constructor;for(var o in r){var l=r[o];"object"!=typeof l&&l!=n[o]&&(n[o]=l)}switch(r.childNodes&&(n.childNodes=new E),n.ownerDocument=e,n.nodeType){case s:var u=r.attributes,h=n.attributes=new x,c=u.length;h._ownerElement=n;for(var p=0;p<c;p++)n.setAttributeNode(t(e,u.item(p),!0));break;case a:i=!0}if(i)for(var d=r.firstChild;d;)n.appendChild(t(e,d,i)),d=d.nextSibling;return n}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==o&&t.nodeType==o?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r)for(var i in r)if(r[i]==t)return i;e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=e.nodeType==a?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},r(n,I),r(n,I.prototype),L.prototype={nodeName:"#document",nodeType:d,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==m){for(var r=t.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,e),r=i}return t}return null==this.documentElement&&t.nodeType==s&&(this.documentElement=t),F(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),B(this,t)},importNode:function(t,e){return function t(e,r,i){var n;switch(r.nodeType){case s:(n=r.cloneNode(!1)).ownerDocument=e;case m:break;case a:i=!0}if(n||(n=r.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,i)for(var o=r.firstChild;o;)n.appendChild(t(e,o,i)),o=o.nextSibling;return n}(this,t,e)},getElementById:function(t){var e=null;return O(this.documentElement,(function(r){if(r.nodeType==s&&r.getAttribute("id")==t)return e=r,!0})),e},createElement:function(t){var e=new U;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new E,(e.attributes=new x)._ownerElement=e,e},createDocumentFragment:function(){var t=new K;return t.ownerDocument=this,t.childNodes=new E,t},createTextNode:function(t){var e=new q;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new H;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new z;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new $;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new j;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new X;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new U,i=e.split(":"),n=r.attributes=new x;return r.childNodes=new E,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=e,n._ownerElement=r,r},createAttributeNS:function(t,e){var r=new j,i=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==i.length?(r.prefix=i[0],r.localName=i[1]):r.localName=e,r}},i(L,I),U.prototype={nodeType:s,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===m?this.insertBefore(t,null):function(t,e){var r=e.parentNode;if(r){var i=t.lastChild;r.removeChild(e),i=t.lastChild}return i=t.lastChild,e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,N(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new w(this,(function(e){var r=[];return O(e,(function(i){i===e||i.nodeType!=s||"*"!==t&&i.tagName!=t||r.push(i)})),r}))},getElementsByTagNameNS:function(t,e){return new w(this,(function(r){var i=[];return O(r,(function(n){n===r||n.nodeType!==s||"*"!==t&&n.namespaceURI!==t||"*"!==e&&n.localName!=e||i.push(n)})),i}))}},L.prototype.getElementsByTagName=U.prototype.getElementsByTagName,L.prototype.getElementsByTagNameNS=U.prototype.getElementsByTagNameNS,i(U,I),j.prototype.nodeType=a,i(j,I),V.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(v[_])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){r=this.data.substring(0,t)+r+this.data.substring(t+e),this.nodeValue=this.data=r,this.length=r.length}},i(V,I),q.prototype={nodeName:"#text",nodeType:o,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},i(q,V),H.prototype={nodeName:"#comment",nodeType:p},i(H,V),z.prototype={nodeName:"#cdata-section",nodeType:l},i(z,V),G.prototype.nodeType=f,i(G,I),W.prototype.nodeType=g,i(W,I),Y.prototype.nodeType=h,i(Y,I),X.prototype.nodeType=u,i(X,I),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=m,i(K,I),$.prototype.nodeType=c,i($,I),Q.prototype.serializeToString=function(t,e,r){return J.call(t,e,r)},I.prototype.toString=J;try{Object.defineProperty&&(Object.defineProperty(w.prototype,"length",{get:function(){return k(this),this.$$length}}),Object.defineProperty(I.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case s:case m:var r=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case s:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),et=function(t,e,r){t["$$"+e]=r})}catch(t){}e.DOMImplementation=D,e.XMLSerializer=Q},function(t,e,r){"use strict";t.exports={parseSei:function(t){for(var e=0,r={payloadType:-1,payloadSize:0},i=0,n=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)n+=255,e++;if(n+=t[e++],!r.payload&&4===i){r.payloadType=i,r.payloadSize=n,r.payload=t.subarray(e,e+n);break}e+=n,i=0,n=0}return r},parseUserData:function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},parseCaptionPackets:function(t,e){var r,i,n,s,a=[];if(!(64&e[0]))return a;for(i=31&e[0],r=0;r<i;r++)s={type:3&e[2+(n=3*r)],pts:t},4&e[n+2]&&(s.ccData=e[n+3]<<8|e[n+4],a.push(s));return a},discardEmulationPreventionBytes:function(t){for(var e,r,i=t.byteLength,n=[],s=1;s<i-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(n.push(s+2),s+=2):s++;if(0===n.length)return t;e=i-n.length,r=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===n[0]&&(a++,n.shift()),r[s]=t[a];return r},USER_DATA_REGISTERED_ITU_T_T35:4}},function(t,e,r){"use strict";var i=function(){this.init=function(){var t={};this.on=function(e,r){t[e]||(t[e]=[]),t[e]=t[e].concat(r)},this.off=function(e,r){var i;return!!t[e]&&(i=t[e].indexOf(r),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var r,i,n,s;if(r=t[e])if(2===arguments.length)for(n=r.length,i=0;i<n;++i)r[i].call(this,arguments[1]);else{for(s=[],i=arguments.length,i=1;i<arguments.length;++i)s.push(arguments[i]);for(n=r.length,i=0;i<n;++i)r[i].apply(this,s)}},this.dispose=function(){t={}}}};i.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},i.prototype.push=function(t){this.trigger("data",t)},i.prototype.flush=function(t){this.trigger("done",t)},i.prototype.partialFlush=function(t){this.trigger("partialdone",t)},i.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},i.prototype.reset=function(t){this.trigger("reset",t)},t.exports=i},function(t,e,r){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(t,e){t.exports=!1},function(t,e,r){t.exports=!r(14)&&!r(25)((function(){return 7!=Object.defineProperty(r(82)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var i=r(10),n=r(12).document,s=i(n)&&i(n.createElement);t.exports=function(t){return s?n.createElement(t):{}}},function(t,e,r){var i=r(10);t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var i=r(19),n=r(262),s=r(86),a=r(57)("IE_PROTO"),o=function(){},l=function(){var t,e=r(82)("iframe"),i=s.length;for(e.style.display="none",r(266).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[s[i]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(o.prototype=i(t),r=new o,o.prototype=null,r[a]=t):r=l(),void 0===e?r:n(r,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){"use strict";var i=r(18).f,n=r(85),s=r(60),a=r(21),o=r(61),l=r(27),u=r(54),h=r(87),c=r(271),p=r(14),d=r(37).fastKey,f=r(23),m=p?"_s":"size",g=function(t,e){var r,i=d(e);if("F"!==i)return t._i[i];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,u){var h=t((function(t,i){o(t,h,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[m]=0,null!=i&&l(i,r,t[u],t)}));return s(h.prototype,{clear:function(){for(var t=f(this,e),r=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var r=f(this,e),i=g(r,t);if(i){var n=i.n,s=i.p;delete r._i[i.i],i.r=!0,s&&(s.n=n),n&&(n.p=s),r._f==i&&(r._f=n),r._l==i&&(r._l=s),r[m]--}return!!i},forEach:function(t){f(this,e);for(var r,i=a(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(i(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!g(f(this,e),t)}}),p&&i(h.prototype,"size",{get:function(){return f(this,e)[m]}}),h},def:function(t,e,r){var i,n,s=g(t,e);return s?s.v=r:(t._l=s={i:n=d(e,!0),k:e,v:r,p:i=t._l,n:void 0,r:!1},t._f||(t._f=s),i&&(i.n=s),t[m]++,"F"!==n&&(t._i[n]=s)),t},getEntry:g,setStrong:function(t,e,r){u(t,e,(function(t,r){this._t=f(t,e),this._k=r,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?h(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,h(1))}),r?"entries":"values",!r,!0),c(e)}}},function(t,e,r){var i=r(19);t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var s=t.return;throw void 0!==s&&i(s.call(t)),e}}},function(t,e,r){var i=r(26),n=r(9)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[n]===t)}},function(t,e,r){var i=r(48),n=r(9)("iterator"),s=r(26);t.exports=r(13).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||s[i(t)]}},function(t,e,r){var i=r(9)("iterator"),n=!1;try{var s=[7][i]();s.return=function(){n=!0},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var s=[7],a=s[i]();a.next=function(){return{done:r=!0}},s[i]=function(){return a},t(s)}catch(t){}return r}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var i=r(48),n=r(276);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},function(t,e,r){var i=r(21),n=r(56),s=r(36),a=r(35),o=r(286);t.exports=function(t,e){var r=1==t,l=2==t,u=3==t,h=4==t,c=6==t,p=5==t||c,d=e||o;return function(e,o,f){for(var m,g,y=s(e),v=n(y),_=i(o,f,3),b=a(v.length),T=0,S=r?d(e,b):l?d(e,0):void 0;b>T;T++)if((p||T in v)&&(g=_(m=v[T],T,y),t))if(r)S[T]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return T;case 2:S.push(m)}else if(h)return!1;return c?-1:u||h?h:S}}},function(t,e,r){"use strict";var i=r(14),n=r(55),s=r(289),a=r(93),o=r(36),l=r(56),u=Object.assign;t.exports=!u||r(25)((function(){var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!=u({},t)[r]||Object.keys(u({},e)).join("")!=i}))?function(t,e){for(var r=o(t),u=arguments.length,h=1,c=s.f,p=a.f;u>h;)for(var d,f=l(arguments[h++]),m=c?n(f).concat(c(f)):n(f),g=m.length,y=0;g>y;)d=m[y++],i&&!p.call(f,d)||(r[d]=f[d]);return r}:u},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)},t.exports=e.default},function(t,e){t.exports=function(t,e){var r,i=null;try{r=JSON.parse(t,e)}catch(t){i=t}return[i,r]}},function(t,e,r){var i=r(75),n=r(247);function s(e,r,a){return n()?t.exports=s=Reflect.construct:t.exports=s=function(t,e,r){var n=[null];n.push.apply(n,e);var s=new(Function.bind.apply(t,n));return r&&i(s,r.prototype),s},s.apply(null,arguments)}t.exports=s},function(t,e,r){var i=r(75);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,r){"use strict";(function(e){var i,n=(i=r(1))&&"object"==typeof i&&"default"in i?i.default:i,s=function(t){return n.atob?n.atob(t):e.from(t,"base64").toString("binary")};t.exports=function(t){for(var e=s(t),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}}).call(this,r(248).Buffer)},function(t,e,r){function i(t){this.options=t||{locator:{}}}function n(){this.cdata=!1}function s(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function a(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function o(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function l(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}i.prototype.parseFromString=function(t,e){var r=this.options,i=new u,s=r.domBuilder||new n,o=r.errorHandler,l=r.locator,h=r.xmlns||{},c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&s.setDocumentLocator(l),i.errorHandler=function(t,e,r){if(!t){if(e instanceof n)return e;t=e}var i={},s=t instanceof Function;function o(e){var n=t[e];!n&&s&&(n=2==t.length?function(r){t(e,r)}:t),i[e]=n&&function(t){n("[xmldom "+e+"]\t"+t+a(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),i}(o,s,l),i.domBuilder=r.domBuilder||s,/\/x?html?$/.test(e)&&(c.nbsp=" ",c.copy="©",h[""]="http://www.w3.org/1999/xhtml"),h.xml=h.xml||"http://www.w3.org/XML/1998/namespace",t?i.parse(t,h,c):i.errorHandler.error("invalid doc source"),s.doc},n.prototype={startDocument:function(){this.doc=(new h).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,i){var n=this.doc,a=n.createElementNS(t,r||e),o=i.length;l(this,a),this.currentElement=a,this.locator&&s(this.locator,a);for(var u=0;u<o;u++){t=i.getURI(u);var h=i.getValue(u),c=(r=i.getQName(u),n.createAttributeNS(t,r));this.locator&&s(i.getLocator(u),c),c.value=c.nodeValue=h,a.setAttributeNode(c)}},endElement:function(t,e,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&s(this.locator,r),l(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=o.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(t);else i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&s(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=o.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&s(this.locator,i),l(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(t,e,r);this.locator&&s(this.locator,n),l(this,n)}},warning:function(t){console.warn("[xmldom warning]\t"+t,a(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,a(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,a(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){n.prototype[t]=function(){return null}}));var u=r(252).XMLReader,h=e.DOMImplementation=r(76).DOMImplementation;e.XMLSerializer=r(76).XMLSerializer,e.DOMParser=i},function(t,e,r){"use strict";var i=r(77).discardEmulationPreventionBytes,n=r(253).CaptionStream,s=r(24),a=r(38),o=function(t,e){for(var r=t,i=0;i<e.length;i++){var n=e[i];if(r<n.size)return n;r-=n.size}return null},l=function(t,e){var r=s.findBox(t,["moof","traf"]),n=s.findBox(t,["mdat"]),l={},u=[];return n.forEach((function(t,e){var i=r[e];u.push({mdat:t,traf:i})})),u.forEach((function(t){var r,n=t.mdat,u=t.traf,h=s.findBox(u,["tfhd"]),c=a.parseTfhd(h[0]),p=c.trackId,d=s.findBox(u,["tfdt"]),f=d.length>0?a.parseTfdt(d[0]).baseMediaDecodeTime:0,m=s.findBox(u,["trun"]);e===p&&m.length>0&&(r=function(t,e,r){var n,s,a,l,u=new DataView(t.buffer,t.byteOffset,t.byteLength),h=[];for(s=0;s+4<t.length;s+=a)if(a=u.getUint32(s),s+=4,!(a<=0))switch(31&t[s]){case 6:var c=t.subarray(s+1,s+1+a),p=o(s,e);n={nalUnitType:"sei_rbsp",size:a,data:c,escapedRBSP:i(c),trackId:r},p?(n.pts=p.pts,n.dts=p.dts,l=p):(n.pts=l.pts,n.dts=l.dts),h.push(n)}return h}(n,function(t,e,r){var i=e,n=r.defaultSampleDuration||0,s=r.defaultSampleSize||0,o=r.trackId,l=[];return t.forEach((function(t){var e=a.parseTrun(t).samples;e.forEach((function(t){void 0===t.duration&&(t.duration=n),void 0===t.size&&(t.size=s),t.trackId=o,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration})),l=l.concat(e)})),l}(m,f,c),p),l[p]||(l[p]=[]),l[p]=l[p].concat(r))})),l};t.exports=function(){var t,e,r,i,s,a,o=!1;this.isInitialized=function(){return o},this.init=function(e){t=new n,o=!0,a=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,s.captions.push(t),s.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||r===t[0]&&i===e[r])},this.parse=function(t,n,a){var o;if(!this.isInitialized())return null;if(!n||!a)return null;if(this.isNewInit(n,a))r=n[0],i=a[r];else if(null===r||!i)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,n,a)}return null!==(o=function(t,e,r){return null===e?null:{seiNals:l(t,e)[e],timescale:r}}(t,r,i))&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),s):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;a?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){s.captions=[],s.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],r=null,i=null,s?this.clearParsedCaptions():s={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},function(t,e,r){"use strict";var i=r(79),n=r(254).handleRollover,s={};s.ts=r(255),s.aac=r(256);var a=r(257).ONE_SECOND_IN_TS,o=function(t,e,r){for(var i,n,a,o,l=0,u=188,h=!1;u<=t.byteLength;)if(71!==t[l]||71!==t[u]&&u!==t.byteLength)l++,u++;else{switch(i=t.subarray(l,u),s.ts.parseType(i,e.pid)){case"pes":n=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"audio"===n&&a&&(o=s.ts.parsePesTime(i))&&(o.type="audio",r.audio.push(o),h=!0)}if(h)break;l+=188,u+=188}for(l=(u=t.byteLength)-188,h=!1;l>=0;)if(71!==t[l]||71!==t[u]&&u!==t.byteLength)l--,u--;else{switch(i=t.subarray(l,u),s.ts.parseType(i,e.pid)){case"pes":n=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"audio"===n&&a&&(o=s.ts.parsePesTime(i))&&(o.type="audio",r.audio.push(o),h=!0)}if(h)break;l-=188,u-=188}},l=function(t,e,r){for(var i,n,a,o,l,u,h,c=0,p=188,d=!1,f={data:[],size:0};p<t.byteLength;)if(71!==t[c]||71!==t[p])c++,p++;else{switch(i=t.subarray(c,p),s.ts.parseType(i,e.pid)){case"pes":if(n=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"video"===n&&(a&&!d&&(o=s.ts.parsePesTime(i))&&(o.type="video",r.video.push(o),d=!0),!r.firstKeyFrame)){if(a&&0!==f.size){for(l=new Uint8Array(f.size),u=0;f.data.length;)h=f.data.shift(),l.set(h,u),u+=h.byteLength;if(s.ts.videoPacketContainsKeyFrame(l)){var m=s.ts.parsePesTime(l);m?(r.firstKeyFrame=m,r.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(i),f.size+=i.byteLength}}if(d&&r.firstKeyFrame)break;c+=188,p+=188}for(c=(p=t.byteLength)-188,d=!1;c>=0;)if(71!==t[c]||71!==t[p])c--,p--;else{switch(i=t.subarray(c,p),s.ts.parseType(i,e.pid)){case"pes":n=s.ts.parsePesType(i,e.table),a=s.ts.parsePayloadUnitStartIndicator(i),"video"===n&&a&&(o=s.ts.parsePesTime(i))&&(o.type="video",r.video.push(o),d=!0)}if(d)break;c-=188,p-=188}};t.exports={inspect:function(t,e){var r;return(r=s.aac.isLikelyAacData(t)?function(t){for(var e,r=!1,i=0,n=null,o=null,l=0,u=0;t.length-u>=3;){switch(s.aac.parseType(t,u)){case"timed-metadata":if(t.length-u<10){r=!0;break}if((l=s.aac.parseId3TagSize(t,u))>t.length){r=!0;break}null===o&&(e=t.subarray(u,u+l),o=s.aac.parseAacTimestamp(e)),u+=l;break;case"audio":if(t.length-u<7){r=!0;break}if((l=s.aac.parseAdtsSize(t,u))>t.length){r=!0;break}null===n&&(e=t.subarray(u,u+l),n=s.aac.parseSampleRate(e)),i++,u+=l;break;default:u++}if(r)return null}if(null===n||null===o)return null;var h=a/n;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*h,pts:o+1024*i*h}]}}(t):function(t){var e={pid:null,table:null},r={};for(var n in function(t,e){for(var r,i=0,n=188;n<t.byteLength;)if(71!==t[i]||71!==t[n])i++,n++;else{switch(r=t.subarray(i,n),s.ts.parseType(r,e.pid)){case"pat":e.pid||(e.pid=s.ts.parsePat(r));break;case"pmt":e.table||(e.table=s.ts.parsePmt(r))}if(e.pid&&e.table)return;i+=188,n+=188}}(t,e),e.table)if(e.table.hasOwnProperty(n))switch(e.table[n]){case i.H264_STREAM_TYPE:r.video=[],l(t,e,r),0===r.video.length&&delete r.video;break;case i.ADTS_STREAM_TYPE:r.audio=[],o(t,e,r),0===r.audio.length&&delete r.audio}return r}(t))&&(r.audio||r.video)?(function(t,e){if(t.audio&&t.audio.length){var r=e;void 0===r&&(r=t.audio[0].dts),t.audio.forEach((function(t){t.dts=n(t.dts,r),t.pts=n(t.pts,r),t.dtsTime=t.dts/a,t.ptsTime=t.pts/a}))}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach((function(t){t.dts=n(t.dts,i),t.pts=n(t.pts,i),t.dtsTime=t.dts/a,t.ptsTime=t.pts/a})),t.firstKeyFrame){var s=t.firstKeyFrame;s.dts=n(s.dts,i),s.pts=n(s.pts,i),s.dtsTime=s.dts/a,s.ptsTime=s.dts/a}}}(r,e),r):null},parseAudioPes_:o}},function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(16))},function(t,e,r){(function(r){var i;!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var t=this||s;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||s;if(t=parseFloat(t),e.ctx||d(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,s.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),n=0;n<i.length;n++){var a=e._howls[r]._soundById(i[n]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||s;e.ctx||d(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,s.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),n=0;n<i.length;n++){var a=e._howls[r]._soundById(i[n]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},unload:function(){for(var t=this||s,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||s)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||s;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||s,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var r=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),n=i&&parseInt(i[0].split("/")[1],10)<33;return t._codecs={mp3:!(n||!r&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||s;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(r){for(var i=0;i<t.html5PoolSize;i++)try{var n=new Audio;n._unlocked=!0,t._releaseHtml5Audio(n)}catch(r){t.noAudio=!0}for(i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var s=t._howls[i]._getSoundIds(),a=0;a<s.length;a++){var o=t._howls[i]._soundById(s[a]);o&&o._node&&!o._node._unlocked&&(o._node._unlocked=!0,o._node.load())}t._autoResume();var l=t.ctx.createBufferSource();l.buffer=t._scratchBuffer,l.connect(t.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),l.onended=function(){l.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var r=0;r<t._howls.length;r++)t._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||s;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||s;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&s.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var r=0;r<t._howls[e]._sounds.length;r++)if(!t._howls[e]._sounds[r]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then((function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())})))}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&s.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var s=new n,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var e=this;return s.ctx||d(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=s.usingWebAudio&&!e._html5,void 0!==s.ctx&&s.ctx&&s.autoUnlock&&s._unlockAudio(),s._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=null;if(s.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var r,i;if(this._format&&this._format[e])r=this._format[e];else{if("string"!=typeof(i=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&s.codecs(r)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new o(this),this._webAudio&&u(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var r=this,i=null;if("number"==typeof t)i=t,t=null;else{if("string"==typeof t&&"loaded"===r._state&&!r._sprite[t])return null;if(void 0===t&&(t="__default",!r._playLock)){for(var n=0,a=0;a<r._sounds.length;a++)r._sounds[a]._paused&&!r._sounds[a]._ended&&(n++,i=r._sounds[a]._id);1===n?t=null:i=null}}var o=i?r._soundById(i):r._inactiveSound();if(!o)return null;if(i&&!t&&(t=o._sprite||"__default"),"loaded"!==r._state){o._sprite=t,o._ended=!1;var l=o._id;return r._queue.push({event:"play",action:function(){r.play(l)}}),l}if(i&&!o._paused)return e||r._loadQueue("play"),o._id;r._webAudio&&s._autoResume();var u=Math.max(0,o._seek>0?o._seek:r._sprite[t][0]/1e3),h=Math.max(0,(r._sprite[t][0]+r._sprite[t][1])/1e3-u),c=1e3*h/Math.abs(o._rate),p=r._sprite[t][0]/1e3,d=(r._sprite[t][0]+r._sprite[t][1])/1e3;o._sprite=t,o._ended=!1;var f=function(){o._paused=!1,o._seek=u,o._start=p,o._stop=d,o._loop=!(!o._loop&&!r._sprite[t][2])};if(!(u>=d)){var m=o._node;if(r._webAudio){var g=function(){r._playLock=!1,f(),r._refreshBuffer(o);var t=o._muted||r._muted?0:o._volume;m.gain.setValueAtTime(t,s.ctx.currentTime),o._playStart=s.ctx.currentTime,void 0===m.bufferSource.start?o._loop?m.bufferSource.noteGrainOn(0,u,86400):m.bufferSource.noteGrainOn(0,u,h):o._loop?m.bufferSource.start(0,u,86400):m.bufferSource.start(0,u,h),c!==1/0&&(r._endTimers[o._id]=setTimeout(r._ended.bind(r,o),c)),e||setTimeout((function(){r._emit("play",o._id),r._loadQueue()}),0)};"running"===s.state?g():(r._playLock=!0,r.once("resume",g),r._clearTimer(o._id))}else{var y=function(){m.currentTime=u,m.muted=o._muted||r._muted||s._muted||m.muted,m.volume=o._volume*s.volume(),m.playbackRate=o._rate;try{var i=m.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(r._playLock=!0,f(),i.then((function(){r._playLock=!1,m._unlocked=!0,e||(r._emit("play",o._id),r._loadQueue())})).catch((function(){r._playLock=!1,r._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0}))):e||(r._playLock=!1,f(),r._emit("play",o._id),r._loadQueue()),m.playbackRate=o._rate,m.paused)return void r._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||o._loop?r._endTimers[o._id]=setTimeout(r._ended.bind(r,o),c):(r._endTimers[o._id]=function(){r._ended(o),m.removeEventListener("ended",r._endTimers[o._id],!1)},m.addEventListener("ended",r._endTimers[o._id],!1))}catch(t){r._emit("playerror",o._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=r._src,m.load());var v=window&&window.ejecta||!m.readyState&&s._navigator.isCocoonJS;if(m.readyState>=3||v)y();else{r._playLock=!0;var _=function(){y(),m.removeEventListener(s._canPlayEvent,_,!1)};m.addEventListener(s._canPlayEvent,_,!1),r._clearTimer(o._id)}}return o._id}r._ended(o)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var r=e._getSoundIds(t),i=0;i<r.length;i++){e._clearTimer(r[i]);var n=e._soundById(r[i]);if(n&&!n._paused&&(n._seek=e.seek(r[i]),n._rateSeek=0,n._paused=!0,e._stopFade(r[i]),n._node))if(e._webAudio){if(!n._node.bufferSource)continue;void 0===n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0),e._cleanBuffer(n._node)}else isNaN(n._node.duration)&&n._node.duration!==1/0||n._node.pause();arguments[1]||e._emit("pause",n?n._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(t)}}),r;for(var i=r._getSoundIds(t),n=0;n<i.length;n++){r._clearTimer(i[n]);var s=r._soundById(i[n]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,r._stopFade(i[n]),s._node&&(r._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),r._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&r._clearSound(s._node))),e||r._emit("stop",s._id))}return r},mute:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(t,e)}}),r;if(void 0===e){if("boolean"!=typeof t)return r._muted;r._muted=t}for(var i=r._getSoundIds(e),n=0;n<i.length;n++){var a=r._soundById(i[n]);a&&(a._muted=t,a._interval&&r._stopFade(a._id),r._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,s.ctx.currentTime):a._node&&(a._node.muted=!!s._muted||t),r._emit("mute",a._id))}return r},volume:function(){var t,e,r,i=this,n=arguments;if(0===n.length)return i._volume;if(1===n.length||2===n.length&&void 0===n[1]){var a=i._getSoundIds(),o=a.indexOf(n[0]);o>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(r=e?i._soundById(e):i._sounds[0])?r._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,n)}}),i;void 0===e&&(i._volume=t),e=i._getSoundIds(e);for(var l=0;l<e.length;l++)(r=i._soundById(e[l]))&&(r._volume=t,n[2]||i._stopFade(e[l]),i._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(t,s.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=t*s.volume()),i._emit("volume",r._id));return i},fade:function(t,e,r,i){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"fade",action:function(){n.fade(t,e,r,i)}}),n;t=parseFloat(t),e=parseFloat(e),r=parseFloat(r),n.volume(t,i);for(var a=n._getSoundIds(i),o=0;o<a.length;o++){var l=n._soundById(a[o]);if(l){if(i||n._stopFade(a[o]),n._webAudio&&!l._muted){var u=s.ctx.currentTime,h=u+r/1e3;l._volume=t,l._node.gain.setValueAtTime(t,u),l._node.gain.linearRampToValueAtTime(e,h)}n._startFadeInterval(l,t,e,r,a[o],void 0===i)}}return n},_startFadeInterval:function(t,e,r,i,n,s){var a=this,o=e,l=r-e,u=Math.abs(l/.01),h=Math.max(4,u>0?i/u:i),c=Date.now();t._fadeTo=r,t._interval=setInterval((function(){var n=(Date.now()-c)/i;c=Date.now(),o+=l*n,o=Math.max(0,o),o=Math.min(1,o),o=Math.round(100*o)/100,a._webAudio?t._volume=o:a.volume(o,t._id,!0),s&&(a._volume=o),(r<e&&o<=r||r>e&&o>=r)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(r,t._id),a._emit("fade",t._id))}),h)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,r,i=this,n=arguments;if(0===n.length)return i._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(r=i._soundById(parseInt(n[0],10)))&&r._loop;t=n[0],i._loop=t}else 2===n.length&&(t=n[0],e=parseInt(n[1],10));for(var s=i._getSoundIds(e),a=0;a<s.length;a++)(r=i._soundById(s[a]))&&(r._loop=t,i._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=t,t&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop)));return i},rate:function(){var t,e,r,i=this,n=arguments;if(0===n.length)e=i._sounds[0]._id;else if(1===n.length){var a=i._getSoundIds(),o=a.indexOf(n[0]);o>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("number"!=typeof t)return(r=i._soundById(e))?r._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,n)}}),i;void 0===e&&(i._rate=t),e=i._getSoundIds(e);for(var l=0;l<e.length;l++)if(r=i._soundById(e[l])){i.playing(e[l])&&(r._rateSeek=i.seek(e[l]),r._playStart=i._webAudio?s.ctx.currentTime:r._playStart),r._rate=t,i._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(t,s.ctx.currentTime):r._node&&(r._node.playbackRate=t);var u=i.seek(e[l]),h=(i._sprite[r._sprite][0]+i._sprite[r._sprite][1])/1e3-u,c=1e3*h/Math.abs(r._rate);!i._endTimers[e[l]]&&r._paused||(i._clearTimer(e[l]),i._endTimers[e[l]]=setTimeout(i._ended.bind(i,r),c)),i._emit("rate",r._id)}return i},seek:function(){var t,e,r=this,i=arguments;if(0===i.length)e=r._sounds[0]._id;else if(1===i.length){var n=r._getSoundIds(),a=n.indexOf(i[0]);a>=0?e=parseInt(i[0],10):r._sounds.length&&(e=r._sounds[0]._id,t=parseFloat(i[0]))}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(void 0===e)return r;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var o=r._soundById(e);if(o){if(!("number"==typeof t&&t>=0)){if(r._webAudio){var l=r.playing(e)?s.ctx.currentTime-o._playStart:0,u=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(u+l*Math.abs(o._rate))}return o._node.currentTime}var h=r.playing(e);h&&r.pause(e,!0),o._seek=t,o._ended=!1,r._clearTimer(e),r._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=t);var c=function(){r._emit("seek",e),h&&r.play(e,!0)};if(h&&!r._webAudio){var p=function(){r._playLock?setTimeout(p,0):c()};setTimeout(p,0)}else c()}return r},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var r=0;r<this._sounds.length;r++)if(!this._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this._duration,r=this._soundById(t);return r&&(e=this._sprite[r._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,r=0;r<e.length;r++)e[r]._paused||t.stop(e[r]._id),t._webAudio||(t._clearSound(e[r]._node),e[r]._node.removeEventListener("error",e[r]._errorFn,!1),e[r]._node.removeEventListener(s._canPlayEvent,e[r]._loadFn,!1),s._releaseHtml5Audio(e[r]._node)),delete e[r]._node,t._clearTimer(e[r]._id);var i=s._howls.indexOf(t);i>=0&&s._howls.splice(i,1);var n=!0;for(r=0;r<s._howls.length;r++)if(s._howls[r]._src===t._src||t._src.indexOf(s._howls[r]._src)>=0){n=!1;break}return l&&n&&delete l[t._src],s.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,r,i){var n=this["_on"+t];return"function"==typeof e&&n.push(i?{id:r,fn:e,once:i}:{id:r,fn:e}),this},off:function(t,e,r){var i=this["_on"+t],n=0;if("number"==typeof e&&(r=e,e=null),e||r)for(n=0;n<i.length;n++){var s=r===i[n].id;if(e===i[n].fn&&s||!e&&s){i.splice(n,1);break}}else if(t)this["_on"+t]=[];else{var a=Object.keys(this);for(n=0;n<a.length;n++)0===a[n].indexOf("_on")&&Array.isArray(this[a[n]])&&(this[a[n]]=[])}return this},once:function(t,e,r){return this.on(t,e,r,1),this},_emit:function(t,e,r){for(var i=this["_on"+t],n=i.length-1;n>=0;n--)i[n].id&&i[n].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(this,i[n].fn),0),i[n].once&&this.off(t,i[n].fn,i[n].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var r=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&r&&this.stop(t._id,!0).play(t._id),this._webAudio&&r){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=s.ctx.currentTime;var i=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),i)}return this._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),s._autoSuspend()),this._webAudio||r||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new o(this)},_drain:function(){var t=this._pool,e=0,r=0;if(!(this._sounds.length<t)){for(r=0;r<this._sounds.length;r++)this._sounds[r]._ended&&e++;for(r=this._sounds.length-1;r>=0;r--){if(e<=t)return;this._sounds[r]._ended&&(this._webAudio&&this._sounds[r]._node&&this._sounds[r]._node.disconnect(0),this._sounds.splice(r,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],r=0;r<this._sounds.length;r++)e.push(this._sounds[r]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=s.ctx.createBufferSource(),t._node.bufferSource.buffer=l[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,s.ctx.currentTime),this},_cleanBuffer:function(t){var e=s._navigator&&s._navigator.vendor.indexOf("Apple")>=0;if(s._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=s._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(t){this._parent=t,this.init()};o.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=s._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),this._node.gain.setValueAtTime(e,s.ctx.currentTime),this._node.paused=!0,this._node.connect(s.masterGain)):s.noAudio||(this._node=s._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(s._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload="auto",this._node.volume=e*s.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++s._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(s._canPlayEvent,this._loadFn,!1)}};var l={},u=function(t){var e=t._src;if(l[e])return t._duration=l[e].duration,void p(t);if(/^data:[^;]+;base64,/.test(e)){for(var r=atob(e.split(",")[1]),i=new Uint8Array(r.length),n=0;n<r.length;++n)i[n]=r.charCodeAt(n);c(i.buffer,t)}else{var s=new XMLHttpRequest;s.open("GET",e,!0),s.withCredentials=t._xhrWithCredentials,s.responseType="arraybuffer",s.onload=function(){var e=(s.status+"")[0];"0"===e||"2"===e||"3"===e?c(s.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+s.status+".")},s.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete l[e],t.load())},h(s)}},h=function(t){try{t.send()}catch(e){t.onerror()}},c=function(t,e){var r=function(){e._emit("loaderror",null,"Decoding audio data failed.")},i=function(t){t&&e._sounds.length>0?(l[e._src]=t,p(e,t)):r()};"undefined"!=typeof Promise&&1===s.ctx.decodeAudioData.length?s.ctx.decodeAudioData(t).then(i).catch(r):s.ctx.decodeAudioData(t,i,r)},p=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},d=function(){if(s.usingWebAudio){try{"undefined"!=typeof AudioContext?s.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch(t){s.usingWebAudio=!1}s.ctx||(s.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),e=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=e?parseInt(e[1],10):null;if(t&&r&&r<9){var i=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());(s._navigator&&s._navigator.standalone&&!i||s._navigator&&!s._navigator.standalone&&!i)&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:s._volume,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()}};void 0===(i=function(){return{Howler:s,Howl:a}}.apply(e,[]))||(t.exports=i),e.Howler=s,e.Howl=a,"undefined"!=typeof window?(window.HowlerGlobal=n,window.Howler=s,window.Howl=a,window.Sound=o):void 0!==r&&(r.HowlerGlobal=n,r.Howler=s,r.Howl=a,r.Sound=o)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,r){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,r="number"!=typeof r?this._pos[2]:r,"number"!=typeof t?this._pos:(this._pos=[t,e,r],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,r,i,n,s){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return e="number"!=typeof e?a[1]:e,r="number"!=typeof r?a[2]:r,i="number"!=typeof i?a[3]:i,n="number"!=typeof n?a[4]:n,s="number"!=typeof s?a[5]:s,"number"!=typeof t?a:(this._orientation=[t,e,r,i,n,s],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,r,i,n,s),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(t,r)}}),i;var n=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===r){if("number"!=typeof t)return i._stereo;i._stereo=t,i._pos=[t,0,0]}for(var s=i._getSoundIds(r),a=0;a<s.length;a++){var o=i._soundById(s[a]);if(o){if("number"!=typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||e(o,n),"spatial"===n?void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(t,0,0):o._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",o._id)}}return i},Howl.prototype.pos=function(t,r,i,n){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(t,r,i,n)}}),s;if(r="number"!=typeof r?0:r,i="number"!=typeof i?-.5:i,void 0===n){if("number"!=typeof t)return s._pos;s._pos=[t,r,i]}for(var a=s._getSoundIds(n),o=0;o<a.length;o++){var l=s._soundById(a[o]);if(l){if("number"!=typeof t)return l._pos;l._pos=[t,r,i],l._node&&(l._panner&&!l._panner.pan||e(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setPosition(t,r,i)),s._emit("pos",l._id)}}return s},Howl.prototype.orientation=function(t,r,i,n){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(t,r,i,n)}}),s;if(r="number"!=typeof r?s._orientation[1]:r,i="number"!=typeof i?s._orientation[2]:i,void 0===n){if("number"!=typeof t)return s._orientation;s._orientation=[t,r,i]}for(var a=s._getSoundIds(n),o=0;o<a.length;o++){var l=s._soundById(a[o]);if(l){if("number"!=typeof t)return l._orientation;l._orientation=[t,r,i],l._node&&(l._panner||(l._pos||(l._pos=s._pos||[0,0,-.5]),e(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setOrientation(t,r,i)),s._emit("orientation",l._id)}}return s},Howl.prototype.pannerAttr=function(){var t,r,i,n=this,s=arguments;if(!n._webAudio)return n;if(0===s.length)return n._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(i=n._soundById(parseInt(s[0],10)))?i._pannerAttr:n._pannerAttr;t=s[0],void 0===r&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),n._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:n._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:n._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:n._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:n._panningModel})}else 2===s.length&&(t=s[0],r=parseInt(s[1],10));for(var a=n._getSoundIds(r),o=0;o<a.length;o++)if(i=n._soundById(a[o])){var l=i._pannerAttr;l={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:l.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:l.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:l.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:l.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:l.panningModel};var u=i._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(i._pos||(i._pos=n._pos||[0,0,-.5]),e(i,"spatial"))}return n},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,r(16))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof navigator&&function(t,e){void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return e(t)}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window||{},(function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){var e,r=createSizedArray(t.length),i=t.length;for(e=0;e<i;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bm_rnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin=t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility=t.style.webkitBackfaceVisibility="visible",t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,i){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=i<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,i){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=i<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e,this.currentTime=currentTime}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+ ++_count}),_count;function HSVtoRGB(t,e,r){var i,n,s,a,o,l,u,h;switch(l=r*(1-e),u=r*(1-(o=6*t-(a=Math.floor(6*t)))*e),h=r*(1-(1-o)*e),a%6){case 0:i=r,n=h,s=l;break;case 1:i=u,n=r,s=l;break;case 2:i=l,n=r,s=h;break;case 3:i=l,n=u,s=r;break;case 4:i=h,n=l,s=r;break;case 5:i=r,n=l,s=u}return[i,n,s]}function RGBtoHSV(t,e,r){var i,n=Math.max(t,e,r),s=Math.min(t,e,r),a=n-s,o=0===n?0:a/n,l=n/255;switch(n){case s:i=0;break;case t:i=e-r+a*(e<r?6:0),i/=6*a;break;case e:i=r-t+2*a,i/=6*a;break;case r:i=t-e+4*a,i/=6*a}return[i,o,l]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1==e.length?"0"+e:e;return function(t,e,i){return t<0&&(t=0),e<0&&(e=0),i<0&&(i=0),"#"+r[t]+r[e]+r[i]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t].length,i=0;i<r;i++)this._cbs[t][i](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,i=this._cbs[t].length;r<i;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,i-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):void 0}:function(t,e){var r,i=0,n=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(i=0;i<e;i+=1)n.push(r);return n};function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums,Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,i=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function a(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(1,0,0,0,0,i,-n,0,0,n,i,0,0,0,0,1)}function o(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,0,n,0,0,1,0,0,-n,0,i,0,0,0,0,1)}function l(r){if(0===r)return this;var i=t(r),n=e(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function u(t,e){return this._t(1,e,t,1,0,0)}function h(t,e){return this.shear(r(t),r(e))}function c(i,n){var s=t(n),a=e(n);return this._t(s,a,0,0,-a,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(i),1,0,0,0,0,1,0,0,0,0,1)._t(s,-a,0,0,a,s,0,0,0,0,1,0,0,0,0,1)}function p(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function d(t,e,r,i,n,s,a,o,l,u,h,c,p,d,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=i,this.props[4]=n,this.props[5]=s,this.props[6]=a,this.props[7]=o,this.props[8]=l,this.props[9]=u,this.props[10]=h,this.props[11]=c,this.props[12]=p,this.props[13]=d,this.props[14]=f,this.props[15]=m,this}function f(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,i,n,s,a,o,l,u,h,c,p,d,f,m){var g=this.props;if(1===t&&0===e&&0===r&&0===i&&0===n&&1===s&&0===a&&0===o&&0===l&&0===u&&1===h&&0===c)return g[12]=g[12]*t+g[15]*p,g[13]=g[13]*s+g[15]*d,g[14]=g[14]*h+g[15]*f,g[15]=g[15]*m,this._identityCalculated=!1,this;var y=g[0],v=g[1],_=g[2],b=g[3],T=g[4],S=g[5],E=g[6],w=g[7],k=g[8],x=g[9],C=g[10],A=g[11],P=g[12],D=g[13],I=g[14],M=g[15];return g[0]=y*t+v*n+_*l+b*p,g[1]=y*e+v*s+_*u+b*d,g[2]=y*r+v*a+_*h+b*f,g[3]=y*i+v*o+_*c+b*m,g[4]=T*t+S*n+E*l+w*p,g[5]=T*e+S*s+E*u+w*d,g[6]=T*r+S*a+E*h+w*f,g[7]=T*i+S*o+E*c+w*m,g[8]=k*t+x*n+C*l+A*p,g[9]=k*e+x*s+C*u+A*d,g[10]=k*r+x*a+C*h+A*f,g[11]=k*i+x*o+C*c+A*m,g[12]=P*t+D*n+I*l+M*p,g[13]=P*e+D*s+I*u+M*d,g[14]=P*r+D*a+I*h+M*f,g[15]=P*i+D*o+I*c+M*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function v(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function T(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function S(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function E(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function w(t){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],r=this.props[5]/e,i=-this.props[1]/e,n=-this.props[4]/e,s=this.props[0]/e,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e;return[t[0]*r+t[1]*n+a,t[0]*i+t[1]*s+o,0]}function k(t){var e,r=t.length,i=[];for(e=0;e<r;e+=1)i[e]=w(t[e]);return i}function x(t,e,r){var i=createTypedArray("float32",6);if(this.isIdentity())i[0]=t[0],i[1]=t[1],i[2]=e[0],i[3]=e[1],i[4]=r[0],i[5]=r[1];else{var n=this.props[0],s=this.props[1],a=this.props[4],o=this.props[5],l=this.props[12],u=this.props[13];i[0]=t[0]*n+t[1]*a+l,i[1]=t[0]*s+t[1]*o+u,i[2]=e[0]*n+e[1]*a+l,i[3]=e[0]*s+e[1]*o+u,i[4]=r[0]*n+r[1]*a+l,i[5]=r[0]*s+r[1]*o+u}return i}function C(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function A(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function P(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=i(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function D(t){return t<1e-6&&t>0||t>-1e-6&&t<0?i(1e4*t)/1e4:t}function I(){var t=this.props;return"matrix("+D(t[0])+","+D(t[1])+","+D(t[4])+","+D(t[5])+","+D(t[12])+","+D(t[13])+")"}return function(){this.reset=n,this.rotate=s,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=h,this.skewFromAxis=c,this.shear=u,this.scale=p,this.setTransform=d,this.translate=f,this.transform=m,this.applyToPoint=b,this.applyToX=T,this.applyToY=S,this.applyToZ=E,this.applyToPointArray=C,this.applyToTriplePoints=x,this.applyToPointStringified=A,this.toCSS=P,this.to2dCSS=I,this.clone=v,this.cloneFromProps=_,this.equals=y,this.inversePoints=k,this.inversePoint=w,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(t,e){var r,i=this,n=256,s="random",a=e.pow(n,6),o=e.pow(2,52),l=2*o,u=255;function h(t){var e,r=t.length,i=this,s=0,a=i.i=i.j=0,o=i.S=[];for(r||(t=[r++]);s<n;)o[s]=s++;for(s=0;s<n;s++)o[s]=o[a=u&a+t[s%r]+(e=o[s])],o[a]=e;i.g=function(t){for(var e,r=0,s=i.i,a=i.j,o=i.S;t--;)e=o[s=u&s+1],r=r*n+o[u&(o[s]=o[a=u&a+e])+(o[a]=e)];return i.i=s,i.j=a,r}}function c(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function p(t,e){for(var r,i=t+"",n=0;n<i.length;)e[u&n]=u&(r^=19*e[u&n])+i.charCodeAt(n++);return d(e)}function d(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(u,f,m){var g=[],y=p(function t(e,r){var i,n=[],s=typeof e;if(r&&"object"==s)for(i in e)try{n.push(t(e[i],r-1))}catch(t){}return n.length?n:"string"==s?e:e+"\0"}((f=!0===f?{entropy:!0}:f||{}).entropy?[u,d(t)]:null===u?function(){try{r;var e=new Uint8Array(n);return(i.crypto||i.msCrypto).getRandomValues(e),d(e)}catch(e){var s=i.navigator,a=s&&s.plugins;return[+new Date,i,a,i.screen,d(t)]}}():u,3),g),v=new h(g),_=function(){for(var t=v.g(6),e=a,r=0;t<o;)t=(t+r)*n,e*=n,r=v.g(1);for(;t>=l;)t/=2,e/=2,r>>>=1;return(t+r)/e};return _.int32=function(){return 0|v.g(4)},_.quick=function(){return v.g(4)/4294967296},_.double=_,p(d(v.S),t),(f.pass||m||function(t,r,i,n){return n&&(n.S&&c(n,v),t.state=function(){return c(v,{})}),i?(e[s]=t,r):t})(_,y,"global"in f?f.global:this==e,f.state)},p(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,r,i,n,s){var a=s||("bez_"+t+"_"+r+"_"+i+"_"+n).replace(/\./g,"p");if(e[a])return e[a];var o=new u([t,r,i,n]);return e[a]=o,o}},e={},r=.1,i="function"==typeof Float32Array;function n(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function a(t){return 3*t}function o(t,e,r){return((n(e,r)*t+s(e,r))*t+a(e))*t}function l(t,e,r){return 3*n(e,r)*t*t+2*s(e,r)*t+a(e)}function u(t){this._p=t,this._mSampleValues=i?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return u.prototype={get:function(t){var e=this._p[0],r=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===r&&i===n?t:0===t?0:1===t?1:o(this._getTForX(t),r,n)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],i=this._p[3];this._precomputed=!0,t===e&&r===i||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<11;++i)this._mSampleValues[i]=o(i*r,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],n=this._mSampleValues,s=0,a=1;10!==a&&n[a]<=t;++a)s+=r;var u=s+(t-n[--a])/(n[a+1]-n[a])*r,h=l(u,e,i);return h>=.001?function(t,e,r,i){for(var n=0;n<4;++n){var s=l(e,r,i);if(0===s)return e;e-=(o(e,r,i)-t)/s}return e}(t,u,e,i):0===h?u:function(t,e,r,i,n){var s,a,l=0;do{(s=o(a=e+(r-e)/2,i,n)-t)>0?r=a:e=a}while(Math.abs(s)>1e-7&&++l<10);return a}(t,s,s+r,e,i)}},t}();function extendPrototype(t,e){var r,i,n=t.length;for(r=0;r<n;r+=1)for(var s in i=t[r].prototype)i.hasOwnProperty(s)&&(e.prototype[s]=i[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){function t(t,e,r,i,n,s){var a=t*i+e*n+r*s-n*i-s*t-r*e;return a>-.001&&a<.001}Math;var e=function(t,e,r,i){var n,s,a,o,l,u,h=defaultCurveSegments,c=0,p=[],d=[],f=bezier_length_pool.newElement();for(a=r.length,n=0;n<h;n+=1){for(l=n/(h-1),u=0,s=0;s<a;s+=1)o=bm_pow(1-l,3)*t[s]+3*bm_pow(1-l,2)*l*r[s]+3*(1-l)*bm_pow(l,2)*i[s]+bm_pow(l,3)*e[s],p[s]=o,null!==d[s]&&(u+=bm_pow(p[s]-d[s],2)),d[s]=p[s];u&&(c+=u=bm_sqrt(u)),f.percents[n]=l,f.lengths[n]=c}return f.addedLength=c,f};function r(t){this.segmentLength=0,this.points=new Array(t)}function i(t,e){this.partialLength=t,this.point=e}var n,s=(n={},function(e,s,a,o){var l=(e[0]+"_"+e[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]+"_"+o[0]+"_"+o[1]).replace(/\./g,"p");if(!n[l]){var u,h,c,p,d,f,m,g=defaultCurveSegments,y=0,v=null;2===e.length&&(e[0]!=s[0]||e[1]!=s[1])&&t(e[0],e[1],s[0],s[1],e[0]+a[0],e[1]+a[1])&&t(e[0],e[1],s[0],s[1],s[0]+o[0],s[1]+o[1])&&(g=2);var _=new r(g);for(c=a.length,u=0;u<g;u+=1){for(m=createSizedArray(c),d=u/(g-1),f=0,h=0;h<c;h+=1)p=bm_pow(1-d,3)*e[h]+3*bm_pow(1-d,2)*d*(e[h]+a[h])+3*(1-d)*bm_pow(d,2)*(s[h]+o[h])+bm_pow(d,3)*s[h],m[h]=p,null!==v&&(f+=bm_pow(m[h]-v[h],2));y+=f=bm_sqrt(f),_.points[u]=new i(f,m),v=m}_.segmentLength=y,n[l]=_}return n[l]});function a(t,e){var r=e.percents,i=e.lengths,n=r.length,s=bm_floor((n-1)*t),a=t*e.addedLength,o=0;if(s===n-1||0===s||a===i[s])return r[s];for(var l=i[s]>a?-1:1,u=!0;u;)if(i[s]<=a&&i[s+1]>a?(o=(a-i[s])/(i[s+1]-i[s]),u=!1):s+=l,s<0||s>=n-1){if(s===n-1)return r[s];u=!1}return r[s]+(r[s+1]-r[s])*o}var o=createTypedArray("float32",8);return{getSegmentsLength:function(t){var r,i=segments_length_pool.newElement(),n=t.c,s=t.v,a=t.o,o=t.i,l=t._length,u=i.lengths,h=0;for(r=0;r<l-1;r+=1)u[r]=e(s[r],s[r+1],a[r],o[r+1]),h+=u[r].addedLength;return n&&l&&(u[r]=e(s[r],s[0],a[r],o[0]),h+=u[r].addedLength),i.totalLength=h,i},getNewSegment:function(t,e,r,i,n,s,l){var u,h=a(n=n<0?0:n>1?1:n,l),c=a(s=s>1?1:s,l),p=t.length,d=1-h,f=1-c,m=d*d*d,g=h*d*d*3,y=h*h*d*3,v=h*h*h,_=d*d*f,b=h*d*f+d*h*f+d*d*c,T=h*h*f+d*h*c+h*d*c,S=h*h*c,E=d*f*f,w=h*f*f+d*c*f+d*f*c,k=h*c*f+d*c*c+h*f*c,x=h*c*c,C=f*f*f,A=c*f*f+f*c*f+f*f*c,P=c*c*f+f*c*c+c*f*c,D=c*c*c;for(u=0;u<p;u+=1)o[4*u]=Math.round(1e3*(m*t[u]+g*r[u]+y*i[u]+v*e[u]))/1e3,o[4*u+1]=Math.round(1e3*(_*t[u]+b*r[u]+T*i[u]+S*e[u]))/1e3,o[4*u+2]=Math.round(1e3*(E*t[u]+w*r[u]+k*i[u]+x*e[u]))/1e3,o[4*u+3]=Math.round(1e3*(C*t[u]+A*r[u]+P*i[u]+D*e[u]))/1e3;return o},getPointInSegment:function(t,e,r,i,n,s){var o=a(n,s),l=1-o;return[Math.round(1e3*(l*l*l*t[0]+(o*l*l+l*o*l+l*l*o)*r[0]+(o*o*l+l*o*o+o*l*o)*i[0]+o*o*o*e[0]))/1e3,Math.round(1e3*(l*l*l*t[1]+(o*l*l+l*o*l+l*l*o)*r[1]+(o*o*l+l*o*o+o*l*o)*i[1]+o*o*o*e[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(e,r,i,n,s,a,o,l,u){if(0===i&&0===a&&0===u)return t(e,r,n,s,o,l);var h,c=Math.sqrt(Math.pow(n-e,2)+Math.pow(s-r,2)+Math.pow(a-i,2)),p=Math.sqrt(Math.pow(o-e,2)+Math.pow(l-r,2)+Math.pow(u-i,2)),d=Math.sqrt(Math.pow(o-n,2)+Math.pow(l-s,2)+Math.pow(u-a,2));return(h=c>p?c>d?c-p-d:d-p-c:d>p?d-p-c:p-c-d)>-1e-4&&h<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,r){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),s=setTimeout((function(){e(i+n)}),n);return t=i+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(t,e){for(var r=0,i=e.length;r<i;){if(e[r].id===t)return e[r].layers.__used?JSON.parse(JSON.stringify(e[r].layers)):(e[r].layers.__used=!0,e[r].layers);r+=1}}function e(t){var i,n,s;for(i=t.length-1;i>=0;i-=1)if("sh"==t[i].ty)if(t[i].ks.k.i)r(t[i].ks.k);else for(s=t[i].ks.k.length,n=0;n<s;n+=1)t[i].ks.k[n].s&&r(t[i].ks.k[n].s[0]),t[i].ks.k[n].e&&r(t[i].ks.k[n].e[0]);else"gr"==t[i].ty&&e(t[i].it)}function r(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&void 0))}var n,s=function(){var t=[4,4,14];function e(t){var e,r,i,n=t.length;for(e=0;e<n;e+=1)5===t[e].ty&&(void 0,i=(r=t[e]).t.d,r.t.d={k:[{s:i,t:0}]})}return function(r){if(i(t,r.v)&&(e(r.layers),r.assets)){var n,s=r.assets.length;for(n=0;n<s;n+=1)r.assets[n].layers&&e(r.assets[n].layers)}}}(),a=(n=[4,7,99],function(t){if(t.chars&&!i(n,t.v)){var e,s,a,o,l,u=t.chars.length;for(e=0;e<u;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(a=(l=t.chars[e].data.shapes[0].it).length,s=0;s<a;s+=1)(o=l[s].ks.k).__converted||(r(l[s].ks.k),o.__converted=!0)}}),o=function(){var t=[4,1,9];function e(t){var r,i,n,s=t.length;for(r=0;r<s;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(n=t[r].c.k.length,i=0;i<n;i+=1)t[r].c.k[i].s&&(t[r].c.k[i].s[0]/=255,t[r].c.k[i].s[1]/=255,t[r].c.k[i].s[2]/=255,t[r].c.k[i].s[3]/=255),t[r].c.k[i].e&&(t[r].c.k[i].e[0]/=255,t[r].c.k[i].e[1]/=255,t[r].c.k[i].e[2]/=255,t[r].c.k[i].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,i=t.length;for(r=0;r<i;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}(),l=function(){var t=[4,4,18];function e(t){var r,i,n;for(r=t.length-1;r>=0;r-=1)if("sh"==t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(n=t[r].ks.k.length,i=0;i<n;i+=1)t[r].ks.k[i].s&&(t[r].ks.k[i].s[0].c=t[r].closed),t[r].ks.k[i].e&&(t[r].ks.k[i].e[0].c=t[r].closed);else"gr"==t[r].ty&&e(t[r].it)}function r(t){var r,i,n,s,a,o,l=t.length;for(i=0;i<l;i+=1){if((r=t[i]).hasMask){var u=r.masksProperties;for(s=u.length,n=0;n<s;n+=1)if(u[n].pt.k.i)u[n].pt.k.c=u[n].cl;else for(o=u[n].pt.k.length,a=0;a<o;a+=1)u[n].pt.k[a].s&&(u[n].pt.k[a].s[0].c=u[n].cl),u[n].pt.k[a].e&&(u[n].pt.k[a].e[0].c=u[n].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}();function u(t,e){0!==t.t.a.length||"m"in t.t.p||(t.singleShape=!0)}return{completeData:function(i,n){i.__complete||(o(i),s(i),a(i),l(i),function i(n,s,a){var o,l,h,c,p,d,f=n.length;for(l=0;l<f;l+=1)if("ks"in(o=n[l])&&!o.completed){if(o.completed=!0,o.tt&&(n[l-1].td=o.tt),o.hasMask){var m=o.masksProperties;for(c=m.length,h=0;h<c;h+=1)if(m[h].pt.k.i)r(m[h].pt.k);else for(d=m[h].pt.k.length,p=0;p<d;p+=1)m[h].pt.k[p].s&&r(m[h].pt.k[p].s[0]),m[h].pt.k[p].e&&r(m[h].pt.k[p].e[0])}0===o.ty?(o.layers=t(o.refId,s),i(o.layers,s,a)):4===o.ty?e(o.shapes):5==o.ty&&u(o)}}(i.layers,i.assets,n),i.__complete=!0)}}}var dataManager=dataFunctionManager(),FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function r(t,e){var r=createTag("span");r.style.fontFamily=e;var i=createTag("span");i.innerHTML="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(i),document.body.appendChild(r);var n=i.offsetWidth;return i.style.fontFamily=t+", "+e,{node:i,w:n,parent:r}}function i(t,e){var r=createNS("text");return r.style.fontSize="100px",r.setAttribute("font-family",e.fFamily),r.setAttribute("font-style",e.fStyle),r.setAttribute("font-weight",e.fWeight),r.textContent="1",e.fClass?(r.style.fontFamily="inherit",r.setAttribute("class",e.fClass)):r.style.fontFamily=e.fFamily,t.appendChild(r),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,r}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()};return n.getCombinedCharacterCodes=function(){return e},n.prototype.addChars=function(t){if(t){this.chars||(this.chars=[]);var e,r,i,n=t.length,s=this.chars.length;for(e=0;e<n;e+=1){for(r=0,i=!1;r<s;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(i=!0),r+=1;i||(this.chars.push(t[e]),s+=1)}}},n.prototype.addFonts=function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var n,s=t.list,a=s.length,o=a;for(n=0;n<a;n+=1){var l,u,h=!0;if(s[n].loaded=!1,s[n].monoCase=r(s[n].fFamily,"monospace"),s[n].sansCase=r(s[n].fFamily,"sans-serif"),s[n].fPath){if("p"===s[n].fOrigin||3===s[n].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+s[n].fFamily+'"], style[f-origin="3"][f-family="'+s[n].fFamily+'"]')).length>0&&(h=!1),h){var c=createTag("style");c.setAttribute("f-forigin",s[n].fOrigin),c.setAttribute("f-origin",s[n].origin),c.setAttribute("f-family",s[n].fFamily),c.type="text/css",c.innerHTML="@font-face {font-family: "+s[n].fFamily+"; font-style: normal; src: url('"+s[n].fPath+"');}",e.appendChild(c)}}else if("g"===s[n].fOrigin||1===s[n].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),u=0;u<l.length;u++)-1!==l[u].href.indexOf(s[n].fPath)&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",s[n].fOrigin),p.setAttribute("f-origin",s[n].origin),p.type="text/css",p.rel="stylesheet",p.href=s[n].fPath,document.body.appendChild(p)}}else if("t"===s[n].fOrigin||2===s[n].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),u=0;u<l.length;u++)s[n].fPath===l[u].src&&(h=!1);if(h){var d=createTag("link");d.setAttribute("f-forigin",s[n].fOrigin),d.setAttribute("f-origin",s[n].origin),d.setAttribute("rel","stylesheet"),d.setAttribute("href",s[n].fPath),e.appendChild(d)}}}else s[n].loaded=!0,o-=1;s[n].helper=i(e,s[n]),s[n].cache={},this.fonts.push(s[n])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},n.prototype.getCharData=function(e,r,i){for(var n=0,s=this.chars.length;n<s;){if(this.chars[n].ch===e&&this.chars[n].style===r&&this.chars[n].fFamily===i)return this.chars[n];n+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",e,r,i),t},n.prototype.getFontByName=function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},n.prototype.measureText=function(t,e,r){var i=this.getFontByName(e),n=t.charCodeAt(0);if(!i.cache[n+1]){var s=i.helper;if(" "===t){s.textContent="|"+t+"|";var a=s.getComputedTextLength();s.textContent="||";var o=s.getComputedTextLength();i.cache[n+1]=(a-o)/100}else s.textContent=t,i.cache[n+1]=s.getComputedTextLength()/100}return i.cache[n+1]*r},n.prototype.checkLoadedFonts=function(){var t,e,r,i=this.fonts.length,n=i;for(t=0;t<i;t+=1)this.fonts[t].loaded?n-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,e.offsetWidth!==r?(n-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,e.offsetWidth!==r&&(n-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){this.isLoaded=!0}.bind(this),0)},n.prototype.loaded=function(){return this.isLoaded},n}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(t,e){var r,n=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var s,a,o,l,u,h,c,p,d=e.lastIndex,f=d,m=this.keyframes.length-1,g=!0;g;){if(s=this.keyframes[f],a=this.keyframes[f+1],f===m-1&&t>=a.t-n){s.h&&(s=a),d=0;break}if(a.t-n>t){d=f;break}f<m-1?f+=1:(d=0,g=!1)}var y,v=a.t-n,_=s.t-n;if(s.to){s.bezierData||(s.bezierData=bez.buildBezierData(s.s,a.s||s.e,s.to,s.ti));var b=s.bezierData;if(t>=v||t<_){var T=t>=v?b.points.length-1:0;for(l=b.points[T].point.length,o=0;o<l;o+=1)r[o]=b.points[T].point[o]}else{s.__fnct?p=s.__fnct:(p=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,s.__fnct=p),u=p((t-_)/(v-_));var S,E=b.segmentLength*u,w=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;for(c=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,g=!0,h=b.points.length;g;){if(w+=b.points[c].partialLength,0===E||0===u||c===b.points.length-1){for(l=b.points[c].point.length,o=0;o<l;o+=1)r[o]=b.points[c].point[o];break}if(E>=w&&E<w+b.points[c+1].partialLength){for(S=(E-w)/b.points[c+1].partialLength,l=b.points[c].point.length,o=0;o<l;o+=1)r[o]=b.points[c].point[o]+(b.points[c+1].point[o]-b.points[c].point[o])*S;break}c<h-1?c+=1:g=!1}e._lastPoint=c,e._lastAddedLength=w-b.points[c].partialLength,e._lastKeyframeIndex=f}}else{var k,x,C,A,P;if(m=s.s.length,y=a.s||s.e,this.sh&&1!==s.h)t>=v?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):t<=_?(r[0]=s.s[0],r[1]=s.s[1],r[2]=s.s[2]):function(t,e){var r=e[0],i=e[1],n=e[2],s=e[3],a=Math.atan2(2*i*s-2*r*n,1-2*i*i-2*n*n),o=Math.asin(2*r*i+2*n*s),l=Math.atan2(2*r*s-2*i*n,1-2*r*r-2*n*n);t[0]=a/degToRads,t[1]=o/degToRads,t[2]=l/degToRads}(r,function(t,e,r){var i,n,s,a,o,l=[],u=t[0],h=t[1],c=t[2],p=t[3],d=e[0],f=e[1],m=e[2],g=e[3];return(n=u*d+h*f+c*m+p*g)<0&&(n=-n,d=-d,f=-f,m=-m,g=-g),1-n>1e-6?(i=Math.acos(n),s=Math.sin(i),a=Math.sin((1-r)*i)/s,o=Math.sin(r*i)/s):(a=1-r,o=r),l[0]=a*u+o*d,l[1]=a*h+o*f,l[2]=a*c+o*m,l[3]=a*p+o*g,l}(i(s.s),i(y),(t-_)/(v-_)));else for(f=0;f<m;f+=1)1!==s.h&&(t>=v?u=1:t<_?u=0:(s.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[f]?p=s.__fnct[f]:(k=void 0===s.o.x[f]?s.o.x[0]:s.o.x[f],x=void 0===s.o.y[f]?s.o.y[0]:s.o.y[f],C=void 0===s.i.x[f]?s.i.x[0]:s.i.x[f],A=void 0===s.i.y[f]?s.i.y[0]:s.i.y[f],p=BezierFactory.getBezierEasing(k,x,C,A).get,s.__fnct[f]=p)):s.__fnct?p=s.__fnct:(k=s.o.x,x=s.o.y,C=s.i.x,A=s.i.y,p=BezierFactory.getBezierEasing(k,x,C,A).get,s.__fnct=p),u=p((t-_)/(v-_)))),y=a.s||s.e,P=1===s.h?s.s[f]:s.s[f]+(y[f]-s.s[f])*u,"multidimensional"===this.propType?r[f]=P:r=P}return e.lastIndex=d,r}function i(t){var e=t[0]*degToRads,r=t[1]*degToRads,i=t[2]*degToRads,n=Math.cos(e/2),s=Math.cos(r/2),a=Math.cos(i/2),o=Math.sin(e/2),l=Math.sin(r/2),u=Math.sin(i/2);return[o*l*a+n*s*u,o*s*a+n*l*u,n*l*a-o*s*u,n*s*a-o*l*u]}function n(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<r&&e<r))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function s(t){var r;if("unidimensional"===this.propType)r=t*this.mult,e(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)r=t[i]*this.mult,e(this.v[i]-r)>1e-5&&(this.v[i]=r,this._mdf=!0),i+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var t,e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(t,e,r,i){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=s,this.addEffect=o}function u(t,e,r,i){this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var n,l=e.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),createTypedArray("float32",l),this.vel=createTypedArray("float32",l),n=0;n<l;n+=1)this.v[n]=e.k[n]*this.mult,this.pv[n]=e.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=s,this.addEffect=o}function h(e,i,l,u){this.propType="unidimensional",this.keyframes=i.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=l||1,this.elem=e,this.container=u,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=a,this.setVValue=s,this.interpolateValue=r,this.effectsSequence=[n.bind(this)],this.addEffect=o}function c(e,i,l,u){this.propType="multidimensional";var h,c,p,d,f,m=i.k.length;for(h=0;h<m-1;h+=1)i.k[h].to&&i.k[h].s&&i.k[h].e&&(c=i.k[h].s,p=i.k[h].e,d=i.k[h].to,f=i.k[h].ti,(2===c.length&&(c[0]!==p[0]||c[1]!==p[1])&&bez.pointOnLine2D(c[0],c[1],p[0],p[1],c[0]+d[0],c[1]+d[1])&&bez.pointOnLine2D(c[0],c[1],p[0],p[1],p[0]+f[0],p[1]+f[1])||3===c.length&&(c[0]!==p[0]||c[1]!==p[1]||c[2]!==p[2])&&bez.pointOnLine3D(c[0],c[1],c[2],p[0],p[1],p[2],c[0]+d[0],c[1]+d[1],c[2]+d[2])&&bez.pointOnLine3D(c[0],c[1],c[2],p[0],p[1],p[2],p[0]+f[0],p[1]+f[1],p[2]+f[2]))&&(i.k[h].to=null,i.k[h].ti=null),c[0]===p[0]&&c[1]===p[1]&&0===d[0]&&0===d[1]&&0===f[0]&&0===f[1]&&(2===c.length||c[2]===p[2]&&0===d[2]&&0===f[2])&&(i.k[h].to=null,i.k[h].ti=null));this.effectsSequence=[n.bind(this)],this.keyframes=i.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=e,this.container=u,this.comp=e.comp,this.getValue=a,this.setVValue=s,this.interpolateValue=r,this.frameId=-1;var g=i.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),h=0;h<g;h+=1)this.v[h]=t,this.pv[h]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=o}return{getProp:function(t,e,r,i,n){var s;if(e.k.length)if("number"==typeof e.k[0])s=new u(t,e,i,n);else switch(r){case 0:s=new h(t,e,i,n);break;case 1:s=new c(t,e,i,n)}else s=new l(t,e,i,n);return s.effectsSequence.length&&n.addDynamicProperty(s),s}}}(),TransformPropertyFactory=function(){function t(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var i,n=e.or.k.length;for(i=0;i<n;i+=1)e.or.k[i].to=e.or.k[i].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var e,r,i=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(e=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){e=[],r=[];var n=this.px,s=this.py;n._caching.lastFrame+n.offsetTime<=n.keyframes[0].t?(e[0]=n.getValueAtTime((n.keyframes[0].t+.01)/i,0),e[1]=s.getValueAtTime((s.keyframes[0].t+.01)/i,0),r[0]=n.getValueAtTime(n.keyframes[0].t/i,0),r[1]=s.getValueAtTime(s.keyframes[0].t/i,0)):n._caching.lastFrame+n.offsetTime>=n.keyframes[n.keyframes.length-1].t?(e[0]=n.getValueAtTime(n.keyframes[n.keyframes.length-1].t/i,0),e[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/i,0),r[0]=n.getValueAtTime((n.keyframes[n.keyframes.length-1].t-.01)/i,0),r[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/i,0)):(e=[n.pv,s.pv],r[0]=n.getValueAtTime((n._caching.lastFrame+n.offsetTime-.01)/i,n.offsetTime),r[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/i,s.offsetTime))}this.v.rotate(-Math.atan2(e[1]-r[1],e[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,i){return new t(e,r,i)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=point_pool.newElement(),this.o[r]=point_pool.newElement(),this.i[r]=point_pool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,i,n){var s;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o}(!s[i]||s[i]&&!n)&&(s[i]=point_pool.newElement()),s[i][0]=t,s[i][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,i,n,s,a,o){this.setXYAt(t,e,"v",a,o),this.setXYAt(r,i,"o",a,o),this.setXYAt(n,s,"i",a,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,i=this.i,n=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],i[0][0],i[0][1],r[0][0],r[0][1],0,!1),n=1);var s,a=this._length-1,o=this._length;for(s=n;s<o;s+=1)t.setTripleAt(e[a][0],e[a][1],i[a][0],i[a][1],r[a][0],r[a][1],s,!1),a-=1;return t};var ShapePropertyFactory=function(){var t=-999999;function e(t,e,r){var i,n,s,a,o,l,u,h,c,p=r.lastIndex,d=this.keyframes;if(t<d[0].t-this.offsetTime)i=d[0].s[0],s=!0,p=0;else if(t>=d[d.length-1].t-this.offsetTime)i=d[d.length-1].s?d[d.length-1].s[0]:d[d.length-2].e[0],s=!0;else{for(var f,m,g=p,y=d.length-1,v=!0;v&&(f=d[g],!((m=d[g+1]).t-this.offsetTime>t));)g<y-1?g+=1:v=!1;if(p=g,!(s=1===f.h)){if(t>=m.t-this.offsetTime)h=1;else if(t<f.t-this.offsetTime)h=0;else{var _;f.__fnct?_=f.__fnct:(_=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,f.__fnct=_),h=_((t-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}n=m.s?m.s[0]:f.e[0]}i=f.s[0]}for(l=e._length,u=i.i[0].length,r.lastIndex=p,a=0;a<l;a+=1)for(o=0;o<u;o+=1)c=s?i.i[a][o]:i.i[a][o]+(n.i[a][o]-i.i[a][o])*h,e.i[a][o]=c,c=s?i.o[a][o]:i.o[a][o]+(n.o[a][o]-i.o[a][o])*h,e.o[a][o]=c,c=s?i.v[a][o]:i.v[a][o]+(n.v[a][o]-i.v[a][o])*h,e.v[a][o]=c}function r(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==t&&(n<r&&e<r||n>i&&e>i)||(this._caching.lastIndex=n<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function i(){this.paths=this.localShapeCollection}function n(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,i=t._length;for(r=0;r<i;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=shape_pool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var t,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?e.pt.k:e.ks.k;this.v=shape_pool.clone(n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(e,n,s){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===s?n.pt.k:n.ks.k,this.k=!0,this.kf=!0;var a=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,a),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=i,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}a.prototype.interpolateShape=e,a.prototype.getValue=s,a.prototype.setVValue=n,a.prototype.addEffect=o,l.prototype.getValue=s,l.prototype.interpolateShape=e,l.prototype.setVValue=n,l.prototype.addEffect=o;var u=function(){var t=roundCorner;function e(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,s=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=r-n,a.v[1][0]=s?e+i:e-i,a.v[1][1]=r,a.v[2][0]=e,a.v[2][1]=r+n,a.v[3][0]=s?e-i:e+i,a.v[3][1]=r,a.i[0][0]=s?e-i*t:e+i*t,a.i[0][1]=r-n,a.i[1][0]=s?e+i:e-i,a.i[1][1]=r-n*t,a.i[2][0]=s?e+i*t:e-i*t,a.i[2][1]=r+n,a.i[3][0]=s?e-i:e+i,a.i[3][1]=r+n*t,a.o[0][0]=s?e+i*t:e-i*t,a.o[0][1]=r-n,a.o[1][0]=s?e+i:e-i,a.o[1][1]=r+n*t,a.o[2][0]=s?e-i*t:e+i*t,a.o[2][1]=r+n,a.o[3][0]=s?e-i:e+i,a.o[3][1]=r-n*t}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,i,n=2*Math.floor(this.pt.v),s=2*Math.PI/n,a=!0,o=this.or.v,l=this.ir.v,u=this.os.v,h=this.is.v,c=2*Math.PI*o/(2*n),p=2*Math.PI*l/(2*n),d=-Math.PI/2;d+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<n;t+=1){r=a?u:h,i=a?c:p;var m=(e=a?o:l)*Math.cos(d),g=e*Math.sin(d),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),v=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*i*r*f,g-v*i*r*f,m+y*i*r*f,g+v*i*r*f,t,!0),a=!a,d+=s*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,i=this.or.v,n=this.os.v,s=2*Math.PI*i/(4*e),a=-Math.PI/2,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=i*Math.cos(a),u=i*Math.sin(a),h=0===l&&0===u?0:u/Math.sqrt(l*l+u*u),c=0===l&&0===u?0:-l/Math.sqrt(l*l+u*u);l+=+this.p.v[0],u+=+this.p.v[1],this.v.setTripleAt(l,u,l-h*s*n*o,u-c*s*n*o,l+h*s*n*o,u+c*s*n*o,t,!0),a+=r*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),c=function(){function t(t,e){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,n=bm_min(r,i,this.r.v),s=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-i+n,t+r,e-i+n,t+r,e-i+s,0,!0),this.v.setTripleAt(t+r,e+i-n,t+r,e+i-s,t+r,e+i-n,1,!0),0!==n?(this.v.setTripleAt(t+r-n,e+i,t+r-n,e+i,t+r-s,e+i,2,!0),this.v.setTripleAt(t-r+n,e+i,t-r+s,e+i,t-r+n,e+i,3,!0),this.v.setTripleAt(t-r,e+i-n,t-r,e+i-n,t-r,e+i-s,4,!0),this.v.setTripleAt(t-r,e-i+n,t-r,e-i+s,t-r,e-i+n,5,!0),this.v.setTripleAt(t-r+n,e-i,t-r+n,e-i,t-r+s,e-i,6,!0),this.v.setTripleAt(t+r-n,e-i,t+r-s,e-i,t+r-n,e-i,7,!0)):(this.v.setTripleAt(t-r,e+i,t-r+s,e+i,t-r,e+i,2),this.v.setTripleAt(t-r,e-i,t-r,e-i+s,t-r,e-i,3))):(this.v.setTripleAt(t+r,e-i+n,t+r,e-i+s,t+r,e-i+n,0,!0),0!==n?(this.v.setTripleAt(t+r-n,e-i,t+r-n,e-i,t+r-s,e-i,1,!0),this.v.setTripleAt(t-r+n,e-i,t-r+s,e-i,t-r+n,e-i,2,!0),this.v.setTripleAt(t-r,e-i+n,t-r,e-i+n,t-r,e-i+s,3,!0),this.v.setTripleAt(t-r,e+i-n,t-r,e+i-s,t-r,e+i-n,4,!0),this.v.setTripleAt(t-r+n,e+i,t-r+n,e+i,t-r+s,e+i,5,!0),this.v.setTripleAt(t+r-n,e+i,t+r-s,e+i,t+r-n,e+i,6,!0),this.v.setTripleAt(t+r,e+i-n,t+r,e+i-n,t+r,e+i-s,7,!0)):(this.v.setTripleAt(t-r,e-i,t-r+s,e-i,t-r,e-i,1,!0),this.v.setTripleAt(t-r,e+i,t-r,e+i-s,t-r,e+i,2,!0),this.v.setTripleAt(t+r,e+i,t+r-s,e+i,t+r,e+i,3,!0)))},getValue:function(t){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],t),t}();return{getShapeProp:function(t,e,r){var i;return 3===r||4===r?i=(3===r?e.pt:e.ks).k.length?new l(t,e,r):new a(t,e,r):5===r?i=new c(t,e):6===r?i=new u(t,e):7===r&&(i=new h(t,e)),i.k&&t.addDynamicProperty(i),i},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return l}}}(),ShapeModifiers=(t={},e={},t.registerModifier=function(t,r){e[t]||(e[t]=r)},t.getModifier=function(t,r,i){return new e[t](r,i)},t),t,e;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,r,i){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var n,s,a=e.length||0;for(n=0;n<a;n+=1)s=PropertyFactory.getProp(t,e[n].v,0,0,this),this.k=s.k||this.k,this.dataProps[n]={n:e[n].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var i=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,i,n){var s=[];e<=1?s.push({s:t,e:e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var a,o,l=[],u=s.length;for(a=0;a<u;a+=1){var h,c;(o=s[a]).e*n<i||o.s*n>i+r||(h=o.s*n<=i?0:(o.s*n-i)/r,c=o.e*n>=i+r?1:(o.e*n-i)/r,l.push([h,c]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segments_length_pool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,i;if(this._mdf||t){var n=this.o.v%360/360;if(n<0&&(n+=1),(e=(this.s.v>1?1:this.s.v<0?0:this.s.v)+n)>(r=(this.e.v>1?1:this.e.v<0?0:this.e.v)+n)){var s=e;e=r,r=s}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var a,o,l,u,h,c,p=this.shapes.length,d=0;if(r===e)for(a=0;a<p;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection;else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(a=0;a<p;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var f,m,g=[];for(a=0;a<p;a+=1)if((f=this.shapes[a]).shape._mdf||this._mdf||t||2===this.m){if(l=(i=f.shape.paths)._length,c=0,!f.shape._mdf&&f.pathsData.length)c=f.totalShapeLength;else{for(u=this.releasePathsData(f.pathsData),o=0;o<l;o+=1)h=bez.getSegmentsLength(i.shapes[o]),u.push(h),c+=h.totalLength;f.totalShapeLength=c,f.pathsData=u}d+=c,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,v=e,_=r,b=0;for(a=p-1;a>=0;a-=1)if((f=this.shapes[a]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&p>1?(y=this.calculateShapeEdges(e,r,f.totalShapeLength,b,d),b+=f.totalShapeLength):y=[[v,_]],l=y.length,o=0;o<l;o+=1){v=y[o][0],_=y[o][1],g.length=0,_<=1?g.push({s:f.totalShapeLength*v,e:f.totalShapeLength*_}):v>=1?g.push({s:f.totalShapeLength*(v-1),e:f.totalShapeLength*(_-1)}):(g.push({s:f.totalShapeLength*v,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(_-1)}));var T=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var S=T.pop();this.addPaths(T,m),T=this.addShapes(f,g[1],S)}else this.addPaths(T,m),T=this.addShapes(f,g[1]);this.addPaths(T,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,i,n,s,a){n.setXYAt(e[0],e[1],"o",s),n.setXYAt(r[0],r[1],"i",s+1),a&&n.setXYAt(t[0],t[1],"v",s),n.setXYAt(i[0],i[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,i){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),i&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var i,n,s,a,o,l,u,h,c=t.pathsData,p=t.shape.paths.shapes,d=t.shape.paths._length,f=0,m=[],g=!0;for(r?(o=r._length,h=r._length):(r=shape_pool.newElement(),o=0,h=0),m.push(r),i=0;i<d;i+=1){for(l=c[i].lengths,r.c=p[i].c,s=p[i].c?l.length:l.length+1,n=1;n<s;n+=1)if(f+(a=l[n-1]).addedLength<e.s)f+=a.addedLength,r.c=!1;else{if(f>e.e){r.c=!1;break}e.s<=f&&e.e>=f+a.addedLength?(this.addSegment(p[i].v[n-1],p[i].o[n-1],p[i].i[n],p[i].v[n],r,o,g),g=!1):(u=bez.getNewSegment(p[i].v[n-1],p[i].v[n],p[i].o[n-1],p[i].i[n],(e.s-f)/a.addedLength,(e.e-f)/a.addedLength,l[n-1]),this.addSegmentFromArray(u,r,o,g),g=!1,r.c=!1),f+=a.addedLength,o+=1}if(p[i].c&&l.length){if(a=l[n-1],f<=e.e){var y=l[n-1].addedLength;e.s<=f&&e.e>=f+y?(this.addSegment(p[i].v[n-1],p[i].o[n-1],p[i].i[0],p[i].v[0],r,o,g),g=!1):(u=bez.getNewSegment(p[i].v[n-1],p[i].v[0],p[i].o[n-1],p[i].i[0],(e.s-f)/y,(e.e-f)/y,l[n-1]),this.addSegmentFromArray(u,r,o,g),g=!1,r.c=!1)}else r.c=!1;f+=a.addedLength,o+=1}if(r._length&&(r.setXYAt(r.v[h][0],r.v[h][1],"i",h),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>e.e)break;i<d-1&&(r=shape_pool.newElement(),g=!0,m.push(r),o=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r=shape_pool.newElement();r.c=t.c;var i,n,s,a,o,l,u,h,c,p,d,f,m,g=t._length,y=0;for(i=0;i<g;i+=1)n=t.v[i],a=t.o[i],s=t.i[i],n[0]===a[0]&&n[1]===a[1]&&n[0]===s[0]&&n[1]===s[1]?0!==i&&i!==g-1||t.c?(o=0===i?t.v[g-1]:t.v[i-1],u=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=f=n[0]+(o[0]-n[0])*u,c=m=n[1]-(n[1]-o[1])*u,p=h-(h-n[0])*roundCorner,d=c-(c-n[1])*roundCorner,r.setTripleAt(h,c,p,d,f,m,y),y+=1,o=i===g-1?t.v[0]:t.v[i+1],u=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,e)/l:0,h=p=n[0]+(o[0]-n[0])*u,c=d=n[1]+(o[1]-n[1])*u,f=h-(h-n[0])*roundCorner,m=c-(c-n[1])*roundCorner,r.setTripleAt(h,c,p,d,f,m,y),y+=1):(r.setTripleAt(n[0],n[1],a[0],a[1],s[0],s[1],y),y+=1):(r.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],y),y+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,r,i,n,s,a,o=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<o;r+=1){if((s=this.shapes[r]).shape.paths,a=s.localShapeCollection,s.shape._mdf||this._mdf||t)for(a.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(e[i],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,i,n,s){var a=s?-1:1,o=i.s.v[0]+(1-i.s.v[0])*(1-n),l=i.s.v[1]+(1-i.s.v[1])*(1-n);t.translate(i.p.v[0]*a*n,i.p.v[1]*a*n,i.p.v[2]),e.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),e.rotate(-i.r.v*a*n),e.translate(i.a.v[0],i.a.v[1],i.a.v[2]),r.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),r.scale(s?1/o:o,s?1/l:l),r.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,i){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){t.length;var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,i,n,s;if(this._mdf||t){var a,o=Math.ceil(this.c.v);if(this._groups.length<o){for(;this._groups.length<o;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes()}for(s=0,i=0;i<=this._groups.length-1;i+=1)a=s<o,this._groups[i]._render=a,this.changeGroupRender(this._groups[i].it,a),s+=1;this._currentCopies=o;var u=this.o.v,h=u%1,c=u>0?Math.floor(u):Math.ceil(u),p=(this.tr.v.props,this.pMatrix.props),d=this.rMatrix.props,f=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var m,g,y=0;if(u>0){for(;y<c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),y+=1;h&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,h,!1),y+=h)}else if(u<0){for(;y>c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),y-=1;h&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-h,!0),y-=h)}for(i=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,s=this._currentCopies;s;){if(g=(r=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1)),0!==y){for((0!==i&&1===n||i!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),m=0;m<g;m+=1)r[m]=this.matrix.props[m];this.matrix.reset()}else for(this.matrix.reset(),m=0;m<g;m+=1)r[m]=this.matrix.props[m];y+=1,s-=1,i+=n}}else for(s=this._currentCopies,i=0,n=1;s;)r=(e=this.elemsData[i].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,i+=n},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shape_pool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!=this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,i=this.o.length/2;r<i;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,i,n=4*this.data.p;for(e=0;e<n;e+=1)r=e%4==0?100:255,i=Math.round(this.prop.v[e]*r),this.c[e]!==i&&(this.c[e]=i,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,e=4*this.data.p;e<n;e+=1)r=e%2==0?100:1,i=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==i&&(this.o[e-4*this.data.p]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,r,i){if(0===e)return"";var n,s=t.o,a=t.i,o=t.v,l=" M"+i.applyToPointStringified(o[0][0],o[0][1]);for(n=1;n<e;n+=1)l+=" C"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+i.applyToPointStringified(a[n][0],a[n][1])+" "+i.applyToPointStringified(o[n][0],o[n][1]);return r&&e&&(l+=" C"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+i.applyToPointStringified(a[0][0],a[0][1])+" "+i.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(e){var r=function(t,e,r){var i="";if(t.e)i=t.p;else if(e){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),i=e+n}else i=r,i+=t.u?t.u:"",i+=t.p;return i}(e,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded.bind(this),!1),i.addEventListener("error",function(){n.img=t,this._imageLoaded()}.bind(this),!1),i.src=r;var n={img:i,assetData:e};return n}function i(t,e){this.imagesLoadedCb=e;var r,i=t.length;for(r=0;r<i;r+=1)t[r].layers||(this.totalImages+=1,this.images.push(this._createImageData(t[r])))}function n(t){this.path=t||""}function s(t){this.assetsPath=t||""}function a(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}}function o(){this.imagesLoadedCb=null,this.images.length=0}function l(){return this.totalImages===this.loadedAssets}return function(){this.loadAssets=i,this.setAssetsPath=s,this.setPath=n,this.loaded=l,this.destroy=o,this.getImage=a,this._createImageData=r,this._imageLoaded=e,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory=function(){var t={createFilter:function(t){var e=createNS("filter");return e.setAttribute("id",t),e.setAttribute("filterUnits","objectBoundingBox"),e.setAttribute("x","0%"),e.setAttribute("y","0%"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):void 0}return{load:function(e,r,i){var n,s=new XMLHttpRequest;s.open("GET",e,!0);try{s.responseType="json"}catch(t){}s.send(),s.onreadystatechange=function(){if(4==s.readyState)if(200==s.status)n=t(s),r(n);else try{n=t(s),r(n)}catch(t){i&&i(t)}}}}}();function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(t,e,r){var i={propType:!1},n=PropertyFactory.getProp,s=e.a;this.a={r:s.r?n(t,s.r,0,degToRads,r):i,rx:s.rx?n(t,s.rx,0,degToRads,r):i,ry:s.ry?n(t,s.ry,0,degToRads,r):i,sk:s.sk?n(t,s.sk,0,degToRads,r):i,sa:s.sa?n(t,s.sa,0,degToRads,r):i,s:s.s?n(t,s.s,1,.01,r):i,a:s.a?n(t,s.a,1,0,r):i,o:s.o?n(t,s.o,0,.01,r):i,p:s.p?n(t,s.p,1,0,r):i,sw:s.sw?n(t,s.sw,0,0,r):i,sc:s.sc?n(t,s.sc,1,0,r):i,fc:s.fc?n(t,s.fc,1,0,r):i,fh:s.fh?n(t,s.fh,0,0,r):i,fs:s.fs?n(t,s.fs,0,.01,r):i,fb:s.fb?n(t,s.fb,0,.01,r):i,t:s.t?n(t,s.t,0,0,r):i},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function LetterProps(t,e,r,i,n,s){this.o=t,this.sw=e,this.sc=r,this.fc=i,this.m=n,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!i,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,i=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,i,n,s,a,o,l,u,h,c,p,d,f,m,g,y,v,_,b,T=this._moreOptions.alignment.v,S=this._animatorsData,E=this._textData,w=this.mHelper,k=this._renderType,x=this.renderedLetters.length,C=(this.data,t.l);if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var A,P=b.v;for(this._pathData.r&&(P=P.reverse()),a={tLength:0,segments:[]},s=P._length-1,y=0,n=0;n<s;n+=1)A=bez.buildBezierData(P.v[n],P.v[n+1],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[n+1][0]-P.v[n+1][0],P.i[n+1][1]-P.v[n+1][1]]),a.tLength+=A.segmentLength,a.segments.push(A),y+=A.segmentLength;n=s,b.v.c&&(A=bez.buildBezierData(P.v[n],P.v[0],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),a.tLength+=A.segmentLength,a.segments.push(A),y+=A.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,p=0,c=1,u=0,h=!0,m=a.segments,o<0&&b.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),c=(f=m[p=m.length-1].points).length-1;o<0;)o+=f[c].partialLength,(c-=1)<0&&(c=(f=m[p-=1].points).length-1);d=(f=m[p].points)[c-1],g=(l=f[c]).partialLength}s=C.length,r=0,i=0;var D,I,M,O,L=1.2*t.finalSize*.714,R=!0;M=S.length;var N,B,F,U,j,V,q,H,z,G,W,Y,X,K=-1,$=o,Q=p,J=c,Z=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,it=0,nt=2===t.j?-.5:-1,st=0,at=!0;for(n=0;n<s;n+=1)if(C[n].n){for(rt&&(rt+=it);st<n;)C[st].animatorJustifyOffset=rt,st+=1;rt=0,at=!0}else{for(I=0;I<M;I+=1)(D=S[I].a).t.propType&&(at&&2===t.j&&(it+=D.t.v*nt),(N=S[I].s.getMult(C[n].anIndexes[I],E.a[I].s.totalChars)).length?rt+=D.t.v*N[0]*nt:rt+=D.t.v*N*nt);at=!1}for(rt&&(rt+=it);st<n;)C[st].animatorJustifyOffset=rt,st+=1}for(n=0;n<s;n+=1){if(w.reset(),j=1,C[n].n)r=0,i+=t.yOffset,i+=R?1:0,o=$,R=!1,this._hasMaskedPath&&(c=J,d=(f=m[p=Q].points)[c-1],g=(l=f[c]).partialLength,u=0),X=G=Y=tt="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==C[n].line){switch(t.j){case 1:o+=y-t.lineWidths[C[n].line];break;case 2:o+=(y-t.lineWidths[C[n].line])/2}Z=C[n].line}K!==C[n].ind&&(C[K]&&(o+=C[K].extra),o+=C[n].an/2,K=C[n].ind),o+=T[0]*C[n].an/200;var ot=0;for(I=0;I<M;I+=1)(D=S[I].a).p.propType&&((N=S[I].s.getMult(C[n].anIndexes[I],E.a[I].s.totalChars)).length?ot+=D.p.v[0]*N[0]:ot+=D.p.v[0]*N),D.a.propType&&((N=S[I].s.getMult(C[n].anIndexes[I],E.a[I].s.totalChars)).length?ot+=D.a.v[0]*N[0]:ot+=D.a.v[0]*N);for(h=!0;h;)u+g>=o+ot||!f?(v=(o+ot-u)/l.partialLength,F=d.point[0]+(l.point[0]-d.point[0])*v,U=d.point[1]+(l.point[1]-d.point[1])*v,w.translate(-T[0]*C[n].an/200,-T[1]*L/100),h=!1):f&&(u+=l.partialLength,(c+=1)>=f.length&&(c=0,m[p+=1]?f=m[p].points:b.v.c?(c=0,f=m[p=0].points):(u-=l.partialLength,f=null)),f&&(d=l,g=(l=f[c]).partialLength));B=C[n].an/2-C[n].add,w.translate(-B,0,0)}else B=C[n].an/2-C[n].add,w.translate(-B,0,0),w.translate(-T[0]*C[n].an/200,-T[1]*L/100,0);for(C[n].l,I=0;I<M;I+=1)(D=S[I].a).t.propType&&(N=S[I].s.getMult(C[n].anIndexes[I],E.a[I].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?N.length?o+=D.t.v*N[0]:o+=D.t.v*N:N.length?r+=D.t.v*N[0]:r+=D.t.v*N));for(C[n].l,t.strokeWidthAnim&&(q=t.sw||0),t.strokeColorAnim&&(V=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(H=[t.fc[0],t.fc[1],t.fc[2]]),I=0;I<M;I+=1)(D=S[I].a).a.propType&&((N=S[I].s.getMult(C[n].anIndexes[I],E.a[I].s.totalChars)).length?w.translate(-D.a.v[0]*N[0],-D.a.v[1]*N[1],D.a.v[2]*N[2]):w.translate(-D.a.v[0]*N,-D.a.v[1]*N,D.a.v[2]*N));for(I=0;I<M;I+=1)(D=S[I].a).s.propType&&((N=S[I].s.getMult(C[n].anIndexes[I],E.a[I].s.totalChars)).length?w.scale(1+(D.s.v[0]-1)*N[0],1+(D.s.v[1]-1)*N[1],1):w.scale(1+(D.s.v[0]-1)*N,1+(D.s.v[1]-1)*N,1));for(I=0;I<M;I+=1){if(D=S[I].a,N=S[I].s.getMult(C[n].anIndexes[I],E.a[I].s.totalChars),D.sk.propType&&(N.length?w.skewFromAxis(-D.sk.v*N[0],D.sa.v*N[1]):w.skewFromAxis(-D.sk.v*N,D.sa.v*N)),D.r.propType&&(N.length?w.rotateZ(-D.r.v*N[2]):w.rotateZ(-D.r.v*N)),D.ry.propType&&(N.length?w.rotateY(D.ry.v*N[1]):w.rotateY(D.ry.v*N)),D.rx.propType&&(N.length?w.rotateX(D.rx.v*N[0]):w.rotateX(D.rx.v*N)),D.o.propType&&(N.length?j+=(D.o.v*N[0]-j)*N[0]:j+=(D.o.v*N-j)*N),t.strokeWidthAnim&&D.sw.propType&&(N.length?q+=D.sw.v*N[0]:q+=D.sw.v*N),t.strokeColorAnim&&D.sc.propType)for(z=0;z<3;z+=1)N.length?V[z]=V[z]+(D.sc.v[z]-V[z])*N[0]:V[z]=V[z]+(D.sc.v[z]-V[z])*N;if(t.fillColorAnim&&t.fc){if(D.fc.propType)for(z=0;z<3;z+=1)N.length?H[z]=H[z]+(D.fc.v[z]-H[z])*N[0]:H[z]=H[z]+(D.fc.v[z]-H[z])*N;D.fh.propType&&(H=N.length?addHueToRGB(H,D.fh.v*N[0]):addHueToRGB(H,D.fh.v*N)),D.fs.propType&&(H=N.length?addSaturationToRGB(H,D.fs.v*N[0]):addSaturationToRGB(H,D.fs.v*N)),D.fb.propType&&(H=N.length?addBrightnessToRGB(H,D.fb.v*N[0]):addBrightnessToRGB(H,D.fb.v*N))}}for(I=0;I<M;I+=1)(D=S[I].a).p.propType&&(N=S[I].s.getMult(C[n].anIndexes[I],E.a[I].s.totalChars),this._hasMaskedPath?N.length?w.translate(0,D.p.v[1]*N[0],-D.p.v[2]*N[1]):w.translate(0,D.p.v[1]*N,-D.p.v[2]*N):N.length?w.translate(D.p.v[0]*N[0],D.p.v[1]*N[1],-D.p.v[2]*N[2]):w.translate(D.p.v[0]*N,D.p.v[1]*N,-D.p.v[2]*N));if(t.strokeWidthAnim&&(G=q<0?0:q),t.strokeColorAnim&&(W="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),t.fillColorAnim&&t.fc&&(Y="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),this._hasMaskedPath){if(w.translate(0,-t.ls),w.translate(0,T[1]*L/100+i,0),E.p.p){_=(l.point[1]-d.point[1])/(l.point[0]-d.point[0]);var lt=180*Math.atan(_)/Math.PI;l.point[0]<d.point[0]&&(lt+=180),w.rotate(-lt*Math.PI/180)}w.translate(F,U,0),o-=T[0]*C[n].an/200,C[n+1]&&K!==C[n+1].ind&&(o+=C[n].an/2,o+=t.tr/1e3*t.finalSize)}else{switch(w.translate(r,i,0),t.ps&&w.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:w.translate(C[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[n].line]),0,0);break;case 2:w.translate(C[n].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[n].line])/2,0,0)}w.translate(0,-t.ls),w.translate(B,0,0),w.translate(T[0]*C[n].an/200,T[1]*L/100,0),r+=C[n].l+t.tr/1e3*t.finalSize}"html"===k?tt=w.toCSS():"svg"===k?tt=w.to2dCSS():et=[w.props[0],w.props[1],w.props[2],w.props[3],w.props[4],w.props[5],w.props[6],w.props[7],w.props[8],w.props[9],w.props[10],w.props[11],w.props[12],w.props[13],w.props[14],w.props[15]],X=j}x<=n?(O=new LetterProps(X,G,W,Y,tt,et),this.renderedLetters.push(O),x+=1,this.lettersChangedFlag=!0):(O=this.renderedLetters[n],this.lettersChangedFlag=O.update(X,G,W,Y,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,r,i,n,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,a=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,a=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var i,n=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(i=0;i<n;i+=1)s=r!==this.keysIndex?this.effectsSequence[i](s,s.t):this.effectsSequence[i](this.currentData,s.t);e!==s&&this.setCurrentData(s),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,i=t.length;r<=i-1&&(t[r].s,!(r===i-1||t[r+1].t>e));)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,r=FontManager.getCombinedCharacterCodes(),i=[],n=0,s=t.length;n<s;)e=t.charCodeAt(n),-1!==r.indexOf(e)?i[i.length-1]+=t.charAt(n):e>=55296&&e<=56319&&(e=t.charCodeAt(n+1))>=56320&&e<=57343?(i.push(t.substr(n,2)),++n):i.push(t.charAt(n)),n+=1;return i},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,i,n,s,a,o,l=this.elem.globalData.fontManager,u=this.data,h=[],c=0,p=u.m.g,d=0,f=0,m=0,g=[],y=0,v=0,_=l.getFontByName(t.f),b=0,T=_.fStyle?_.fStyle.split(" "):[],S="normal",E="normal";for(r=T.length,e=0;e<r;e+=1)switch(T[e].toLowerCase()){case"italic":E="italic";break;case"bold":S="700";break;case"black":S="900";break;case"medium":S="500";break;case"regular":case"normal":S="400";break;case"light":case"thin":S="200"}t.fWeight=_.fWeight||S,t.fStyle=E,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var w,k=t.tr/1e3*t.finalSize;if(t.sz)for(var x,C,A=!0,P=t.sz[0],D=t.sz[1];A;){x=0,y=0,r=(C=this.buildFinalText(t.t)).length,k=t.tr/1e3*t.finalSize;var I=-1;for(e=0;e<r;e+=1)w=C[e].charCodeAt(0),i=!1," "===C[e]?I=e:13!==w&&3!==w||(y=0,i=!0,x+=t.finalLineHeight||1.2*t.finalSize),l.chars?(o=l.getCharData(C[e],_.fStyle,_.fFamily),b=i?0:o.w*t.finalSize/100):b=l.measureText(C[e],t.f,t.finalSize),y+b>P&&" "!==C[e]?(-1===I?r+=1:e=I,x+=t.finalLineHeight||1.2*t.finalSize,C.splice(e,I===e?1:0,"\r"),I=-1,y=0):(y+=b,y+=k);x+=_.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&D<x?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=C,r=t.finalText.length,A=!1)}y=-k,b=0;var M,O=0;for(e=0;e<r;e+=1)if(i=!1,w=(M=t.finalText[e]).charCodeAt(0)," "===M?n=" ":13===w||3===w?(O=0,g.push(y),v=y>v?y:v,y=-2*k,n="",i=!0,m+=1):n=t.finalText[e],l.chars?(o=l.getCharData(M,_.fStyle,l.getFontByName(t.f).fFamily),b=i?0:o.w*t.finalSize/100):b=l.measureText(n,t.f,t.finalSize)," "===M?O+=b+k:(y+=b+k+O,O=0),h.push({l:b,an:b,add:d,n:i,anIndexes:[],val:n,line:m,animatorJustifyOffset:0}),2==p){if(d+=b,""===n||" "===n||e===r-1){for(""!==n&&" "!==n||(d-=b);f<=e;)h[f].an=d,h[f].ind=c,h[f].extra=b,f+=1;c+=1,d=0}}else if(3==p){if(d+=b,""===n||e===r-1){for(""===n&&(d-=b);f<=e;)h[f].an=d,h[f].ind=c,h[f].extra=b,f+=1;d=0,c+=1}}else h[c].ind=c,h[c].extra=0,c+=1;if(t.l=h,v=y>v?y:v,g.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var L,R,N=u.a;a=N.length;var B,F,U=[];for(s=0;s<a;s+=1){for((L=N[s]).a.sc&&(t.strokeColorAnim=!0),L.a.sw&&(t.strokeWidthAnim=!0),(L.a.fc||L.a.fh||L.a.fs||L.a.fb)&&(t.fillColorAnim=!0),F=0,B=L.s.b,e=0;e<r;e+=1)(R=h[e]).anIndexes[s]=F,(1==B&&""!==R.val||2==B&&""!==R.val&&" "!==R.val||3==B&&(R.n||" "==R.val||e==r-1)||4==B&&(R.n||e==r-1))&&(1===L.s.rn&&U.push(F),F+=1);u.a[s].s.totalChars=F;var j,V=-1;if(1===L.s.rn)for(e=0;e<r;e+=1)V!=(R=h[e]).anIndexes[s]&&(V=R.anIndexes[s],j=U.splice(Math.floor(Math.random()*U.length),1)[0]),R.anIndexes[s]=j}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=_.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function i(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return i.prototype={getMult:function(i){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,s=0,a=this.finalS,o=this.finalE,l=this.data.sh;if(2==l)s=n(s=o===a?i>=o?1:0:t(0,e(.5/(o-a)+(i-a)/(o-a),1)));else if(3==l)s=n(s=o===a?i>=o?0:1:1-t(0,e(.5/(o-a)+(i-a)/(o-a),1)));else if(4==l)o===a?s=0:(s=t(0,e(.5/(o-a)+(i-a)/(o-a),1)))<.5?s*=2:s=1-2*(s-.5),s=n(s);else if(5==l){if(o===a)s=0;else{var u=o-a,h=-u/2+(i=e(t(0,i+.5-a),o-a)),c=u/2;s=Math.sqrt(1-h*h/(c*c))}s=n(s)}else 6==l?(o===a?s=0:(i=e(t(0,i+.5-a),o-a),s=(1+Math.cos(Math.PI+2*Math.PI*i/(o-a)))/2),s=n(s)):(i>=r(a)&&(s=i-a<0?1-(a-i):t(0,e(o-i,1))),s=n(s));return s*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,i=this.s.v/e+r,n=this.e.v/e+r;if(i>n){var s=i;i=n,n=s}this.finalS=i,this.finalE=n}},extendPrototype([DynamicPropertyContainer],i),{getTextSelectorProp:function(t,e,r){return new i(t,e,r)}}}(),pool_factory=function(t,e,r,i){var n=0,s=t,a=createSizedArray(s);return{newElement:function(){return n?a[n-=1]:e()},release:function(t){n===s&&(a=pooling.double(a),s*=2),r&&r(t),a[n]=t,n+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},point_pool=pool_factory(8,(function(){return createTypedArray("float32",2)})),shape_pool=(factory=pool_factory(4,(function(){return new ShapePath}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)point_pool.release(t.v[e]),point_pool.release(t.i[e]),point_pool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,r=factory.newElement(),i=void 0===t._length?t.v.length:t._length;for(r.setLength(i),r.c=t.c,e=0;e<i;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},factory),factory,shapeCollection_pool=function(){var t={newShapeCollection:function(){return e?i[e-=1]:new ShapeCollection},release:function(t){var n,s=t._length;for(n=0;n<s;n+=1)shape_pool.release(t.shapes[n]);t._length=0,e===r&&(i=pooling.double(i),r*=2),i[e]=t,e+=1}},e=0,r=4,i=createSizedArray(r);return t}(),segments_length_pool=pool_factory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezier_length_pool.release(t.lengths[e]);t.lengths.length=0})),bezier_length_pool=pool_factory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}));function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var i=createNS("title"),n=createElementID();i.setAttribute("id",n),i.textContent=e.title,this.svgElement.appendChild(i),r+=n}if(e&&e.description){var s=createNS("desc"),a=createElementID();s.setAttribute("id",a),s.textContent=e.description,this.svgElement.appendChild(s),r+=" "+a}r&&this.svgElement.setAttribute("aria-labelledby",r);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!e||!1!==e.hideOnTransparent,viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",focusable:e&&e.focusable},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!e||!1!==e.hideOnTransparent},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,n=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var a,o,l,u,h,c,p,d=this.masksProperties,f=0,m=[],g=createElementID(),y="clipPath",v="clip-path";for(i=0;i<s;i++)if(("a"!==d[i].mode&&"n"!==d[i].mode||d[i].inv||100!==d[i].o.k||d[i].o.x)&&(y="mask",v="mask"),"s"!=d[i].mode&&"i"!=d[i].mode||0!==f?u=null:((u=createNS("rect")).setAttribute("fill","#ffffff"),u.setAttribute("width",this.element.comp.data.w||0),u.setAttribute("height",this.element.comp.data.h||0),m.push(u)),a=createNS("path"),"n"!=d[i].mode){var _;if(f+=1,a.setAttribute("fill","s"===d[i].mode?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero"),0!==d[i].x.k?(y="mask",v="mask",p=PropertyFactory.getProp(this.element,d[i].x,0,null,this.element),_=createElementID(),(h=createNS("filter")).setAttribute("id",_),(c=createNS("feMorphology")).setAttribute("operator","erode"),c.setAttribute("in","SourceGraphic"),c.setAttribute("radius","0"),h.appendChild(c),n.appendChild(h),a.setAttribute("stroke","s"===d[i].mode?"#000000":"#ffffff")):(c=null,p=null),this.storedData[i]={elem:a,x:p,expan:c,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"==d[i].mode){l=m.length;var b=createNS("g");for(o=0;o<l;o+=1)b.appendChild(m[o]);var T=createNS("mask");T.setAttribute("mask-type","alpha"),T.setAttribute("id",g+"_"+f),T.appendChild(a),n.appendChild(T),b.setAttribute("mask","url("+locationHref+"#"+g+"_"+f+")"),m.length=0,m.push(b)}else m.push(a);d[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,d[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[i],3),invRect:u},this.viewData[i].prop.k||this.drawPath(d[i],this.viewData[i].prop.v,this.viewData[i])}else this.viewData[i]={op:PropertyFactory.getProp(this.element,d[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[i],3),elem:a,lastPath:""},n.appendChild(a);for(this.maskElement=createNS(y),s=m.length,i=0;i<s;i+=1)this.maskElement.appendChild(m[i]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(v,"url("+locationHref+"#"+g+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var i=0,n=t.length;i<n;){if(t[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,r,i=this.layers.length;for(this.completeLayers=!0,e=i-1;e>=0;e--)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 13:return this.createCamera(t)}return this.createNull(t)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,r,i=t.length,n=this.layers.length;for(e=0;e<i;e+=1)for(r=0;r<n;){if(this.layers[r].id==t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var i=this.elements,n=this.layers,s=0,a=n.length;s<a;)n[s].ind==e&&(i[s]&&!0!==i[s]?(r.push(i[s]),i[s].setAsParent(),void 0!==n[s].parent?this.buildElementParenting(t,n[s].parent,r):t.setHierarchy(r)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var i=this.createComp(t[e]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",t.w),i.setAttribute("height",t.h),i.setAttribute("x",0),i.setAttribute("y",0);var n=createElementID();r.setAttribute("id",n),r.appendChild(i),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+n+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?r.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e--)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var i,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(r,i):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var r,i=this.contextData.saved[this.contextData.cArrPos];for(r=0;r<16;r+=1)i[r]=e[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,r=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props;for(e=0;e<16;e+=1)i[e]=r[e];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,r,i;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var n=this.renderConfig.preserveAspectRatio.split(" "),s=n[1]||"meet",a=n[0]||"xMidYMid",o=a.substr(0,4),l=a.substr(4);r=t/e,(i=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===s||i<r&&"slice"===s?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===o&&(i<r&&"meet"===s||i>r&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===o&&(i<r&&"meet"===s||i>r&&"slice"===s)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(i>r&&"meet"===s||i<r&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(i>r&&"meet"===s||i<r&&"slice"===s)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r,i=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=0;r<i;r++)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!=this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var i=this.layers[e];if(i.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var n,s,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(s=this.elements[a],n=(this.layers[a].ddd?this.getThreeDContainerByPos(a):s.getBaseElement())||n),a+=1;n?i.ddd&&this.supports3d||this.layerElement.insertBefore(r,n):i.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}},HybridRenderer.prototype.createThreeDContainer=function(t,e){var r=createTag("div");styleDiv(r);var i=createTag("div");styleDiv(i),"3d"===e&&(r.style.width=this.globalData.compSize.w+"px",r.style.height=this.globalData.compSize.h+"px",r.style.transformOrigin=r.style.mozTransformOrigin=r.style.webkitTransformOrigin="50% 50%",i.style.transform=i.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),r.appendChild(i);var n={container:i,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(n),n},HybridRenderer.prototype.build3dContainers=function(){var t,e,r=this.layers.length,i="";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==i&&(i="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==i&&(i="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t--)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var r=0,i=this.threeDElements.length;r<i;){if(e<=this.threeDElements[r].endPos){for(var n,s=this.threeDElements[r].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[r].container.insertBefore(t,n):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper;e.style.width=t.w+"px",e.style.height=t.h+"px",this.resizerElem=e,styleDiv(e),e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),e.style.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var n=createNS("defs");i.appendChild(n),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=n,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,r,i,n=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,a=n/s;this.globalData.compSize.w/this.globalData.compSize.h>a?(t=n/this.globalData.compSize.w,e=n/this.globalData.compSize.w,r=0,i=(s-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,i=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+i+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,i=this.threeDElements.length;for(t=0;t<i;t+=1)this.threeDElements[t].perspectiveElem.style.perspective=this.threeDElements[t].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length,i=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e],i,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,i=this.masksProperties.length;for(e=0;e<i;e++)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&(this.viewData[e].invRect.setAttribute("x",-r.props[12]),this.viewData[e].invRect.setAttribute("y",-r.props[13])),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var n=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),n.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var i,n,s=" M"+e.v[0][0]+","+e.v[0][1];for(n=e._length,i=1;i<n;i+=1)s+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[i][0]+","+e.i[i][1]+" "+e.v[i][0]+","+e.v[i][1];if(e.c&&n>1&&(s+=" C"+e.o[i-1][0]+","+e.o[i-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==s){var a="";r.elem&&(e.c&&(a=t.inv?this.solidPath+s:s),r.elem.setAttribute("d",a)),r.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,i=this.dynamicProperties.length;for(r=0;r<i;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<i;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<i;r+=1)t=this.hierarchy[r].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r=!0,i=this.comp;r;)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):r=!1;var n,s,a=e.length;for(n=0;n<a;n+=1)s=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),i=createNS(1===e.t?"linearGradient":"radialGradient");i.setAttribute("id",r),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var n,s,a,o=[];for(a=4*e.g.p,s=0;s<a;s+=4)n=createNS("stop"),i.appendChild(n),o.push(n);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+r+")"),this.gf=i,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,i,n,s=createNS("mask"),a=createNS("path");s.appendChild(a);var o=createElementID(),l=createElementID();s.setAttribute("id",l);var u=createNS(1===t.t?"linearGradient":"radialGradient");u.setAttribute("id",o),u.setAttribute("spreadMethod","pad"),u.setAttribute("gradientUnits","userSpaceOnUse"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var h=this.stops;for(i=4*t.g.p;i<n;i+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),u.appendChild(r),h.push(r);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+o+")"),this.of=u,this.ms=s,this.ost=h,this.maskId=l,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function i(r,i,n){var s,a,o,l,u,h,c,p,d,f,m,g=i.styles.length,y=i.lvl;for(h=0;h<g;h+=1){if(l=i.sh._mdf||n,i.styles[h].lvl<y){for(p=e.reset(),f=y-i.styles[h].lvl,m=i.transformers.length-1;!l&&f>0;)l=i.transformers[m].mProps._mdf||l,f--,m--;if(l)for(f=y-i.styles[h].lvl,m=i.transformers.length-1;f>0;)d=i.transformers[m].mProps.v.props,p.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),f--,m--}else p=t;if(a=(c=i.sh.paths)._length,l){for(o="",s=0;s<a;s+=1)(u=c.shapes[s])&&u._length&&(o+=buildShapeString(u,u._length,u.c,p));i.caches[h]=o}else o=i.caches[h];i.styles[h].d+=!0===r.hd?"":o,i.styles[h]._mdf=l||i.styles[h]._mdf}}function n(t,e,r){var i=e.style;(e.c._mdf||r)&&i.pElem.setAttribute("fill","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r)&&i.pElem.setAttribute("fill-opacity",e.o.v)}function s(t,e,r){a(t,e,r),o(t,e,r)}function a(t,e,r){var i,n,s,a,o,l=e.gf,u=e.g._hasOpacity,h=e.s.v,c=e.e.v;if(e.o._mdf||r){var p="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(p,e.o.v)}if(e.s._mdf||r){var d=1===t.t?"x1":"cx",f="x1"===d?"y1":"cy";l.setAttribute(d,h[0]),l.setAttribute(f,h[1]),u&&!e.g._collapsable&&(e.of.setAttribute(d,h[0]),e.of.setAttribute(f,h[1]))}if(e.g._cmdf||r){i=e.cst;var m=e.g.c;for(s=i.length,n=0;n<s;n+=1)(a=i[n]).setAttribute("offset",m[4*n]+"%"),a.setAttribute("stop-color","rgb("+m[4*n+1]+","+m[4*n+2]+","+m[4*n+3]+")")}if(u&&(e.g._omdf||r)){var g=e.g.o;for(s=(i=e.g._collapsable?e.cst:e.ost).length,n=0;n<s;n+=1)a=i[n],e.g._collapsable||a.setAttribute("offset",g[2*n]+"%"),a.setAttribute("stop-opacity",g[2*n+1])}if(1===t.t)(e.e._mdf||r)&&(l.setAttribute("x2",c[0]),l.setAttribute("y2",c[1]),u&&!e.g._collapsable&&(e.of.setAttribute("x2",c[0]),e.of.setAttribute("y2",c[1])));else if((e.s._mdf||e.e._mdf||r)&&(o=Math.sqrt(Math.pow(h[0]-c[0],2)+Math.pow(h[1]-c[1],2)),l.setAttribute("r",o),u&&!e.g._collapsable&&e.of.setAttribute("r",o)),e.e._mdf||e.h._mdf||e.a._mdf||r){o||(o=Math.sqrt(Math.pow(h[0]-c[0],2)+Math.pow(h[1]-c[1],2)));var y=Math.atan2(c[1]-h[1],c[0]-h[0]),v=o*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),_=Math.cos(y+e.a.v)*v+h[0],b=Math.sin(y+e.a.v)*v+h[1];l.setAttribute("fx",_),l.setAttribute("fy",b),u&&!e.g._collapsable&&(e.of.setAttribute("fx",_),e.of.setAttribute("fy",b))}}function o(t,e,r){var i=e.style,n=e.d;n&&(n._mdf||r)&&n.dashStr&&(i.pElem.setAttribute("stroke-dasharray",n.dashStr),i.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),e.c&&(e.c._mdf||r)&&i.pElem.setAttribute("stroke","rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r)&&i.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||r)&&(i.pElem.setAttribute("stroke-width",e.w.v),i.msElem&&i.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty,t.ty){case"fl":return n;case"gf":return a;case"gs":return s;case"st":return o;case"sh":case"el":case"rc":case"sr":return i;case"tr":return r}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,r,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n=4;"rc"==e.ty?n=5:"el"==e.ty?n=6:"sr"==e.ty&&(n=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,n,t);var s,a,o=r.length;for(s=0;s<o;s+=1)r[s].closed||(a={transforms:i.addTransformSequence(r[s].transforms),trNodes:[]},this.styledShapes.push(a),r[s].elements.push(a))}function BaseElement(){}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,r){this.initElement(t,e,r)}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r),(r=createNS("feColorMatrix")).setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),t.appendChild(r),this.matrixFilter=r,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var i,n=createNS("feMerge");t.appendChild(n),(i=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),n.appendChild(i),(i=createNS("feMergeNode")).setAttribute("in","f2"),n.appendChild(i)}}function SVGFillFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(r),this.matrixFilter=r}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var r=createNS("feGaussianBlur");t.appendChild(r),this.feGaussianBlur=r}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r);var i=createNS("feComponentTransfer");i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.matrixFilter=i;var n=createNS("feFuncR");n.setAttribute("type","table"),i.appendChild(n),this.feFuncR=n;var s=createNS("feFuncG");s.setAttribute("type","table"),i.appendChild(s),this.feFuncG=s;var a=createNS("feFuncB");a.setAttribute("type","table"),i.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(t,e){this.filterManager=e;var r=this.filterManager.effectElements,i=createNS("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",i)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",i)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",i)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",i)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),i=createNS("feComponentTransfer")),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&(i.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(i),this.feFuncRComposed=this.createFeFunc("feFuncR",i),this.feFuncGComposed=this.createFeFunc("feFuncG",i),this.feFuncBComposed=this.createFeFunc("feFuncB",i))}function SVGDropShadowEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","400%"),t.setAttribute("height","400%"),this.filterManager=e;var r=createNS("feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,t.appendChild(r);var i=createNS("feOffset");i.setAttribute("dx","25"),i.setAttribute("dy","0"),i.setAttribute("in","drop_shadow_1"),i.setAttribute("result","drop_shadow_2"),this.feOffset=i,t.appendChild(i);var n=createNS("feFlood");n.setAttribute("flood-color","#00ff00"),n.setAttribute("flood-opacity","1"),n.setAttribute("result","drop_shadow_3"),this.feFlood=n,t.appendChild(n);var s=createNS("feComposite");s.setAttribute("in","drop_shadow_3"),s.setAttribute("in2","drop_shadow_2"),s.setAttribute("operator","in"),s.setAttribute("result","drop_shadow_4"),t.appendChild(s);var a,o=createNS("feMerge");t.appendChild(o),a=createNS("feMergeNode"),o.appendChild(a),(a=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=a,this.feMerge=o,this.originalNodeAdded=!1,o.appendChild(a)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,i="_";for(e=0;e<r;e+=1)i+=t[e].transform.key+"_";var n=this.sequences[i];return n||(n={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=n,this.sequenceList.push(n)),n},processSequence:function(t,e){for(var r,i=0,n=t.transforms.length,s=e;i<n&&!e;){if(t.transforms[i].transform.mProps._mdf){s=!0;break}i+=1}if(s)for(t.finalTransform.reset(),i=n-1;i>=0;i-=1)r=t.transforms[i].transform.mProps.v.props,t.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);t._mdf=s},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,i=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var n=createNS("mask");n.setAttribute("id",this.layerId),n.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),n.appendChild(this.layerElement),i=n,this.globalData.defs.appendChild(n),featureSupport.maskType||1!=this.data.td||(n.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),i=r,n.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var s=createNS("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha");var a=createNS("g");s.appendChild(a),t=createElementID(),e=filtersFactory.createFilter(t);var o=createNS("feComponentTransfer");o.setAttribute("in","SourceGraphic"),e.appendChild(o);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),o.appendChild(l),this.globalData.defs.appendChild(e);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),a.setAttribute("filter","url("+locationHref+"#"+t+")"),a.appendChild(u),a.appendChild(this.layerElement),i=a,featureSupport.maskType||(s.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),a.appendChild(u),r.appendChild(this.layerElement),i=r,a.appendChild(r)),this.globalData.defs.appendChild(s)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var h=createNS("clipPath"),c=createNS("path");c.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var p=createElementID();if(h.setAttribute("id",p),h.appendChild(c),this.globalData.defs.appendChild(h),this.checkMasks()){var d=createNS("g");d.setAttribute("clip-path","url("+locationHref+"#"+p+")"),d.appendChild(this.layerElement),this.transformedElement=d,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+p+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0;t-=1)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,i=e.length;r<i;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,i=r.length;i;)if(r[i-=1].elem===t)return void(r[i].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,i,n=e.length,s="";for(r=0;r<n;r+=1)i=e[r].ks.k,s+=buildShapeString(i,i.i.length,!0,t);return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,i,n){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(i,n,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,i=[],n="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(i.push(n),n=""):n+=t[e],e+=1;return i.push(n),i},SVGTextElement.prototype.buildNewText=function(){var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var i=this.globalData.fontManager.getFontByName(r.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var n=r.fWeight,s=r.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",r.t);var a,o=r.l||[],l=!!this.globalData.fontManager.chars;e=o.length;var u,h=this.mHelper,c="",p=this.data.singleShape,d=0,f=0,m=!0,g=r.tr/1e3*r.finalSize;if(!p||l||r.sz){var y,v,_=this.textSpans.length;for(t=0;t<e;t+=1)l&&p&&0!==t||(a=_>t?this.textSpans[t]:createNS(l?"path":"text"),_<=t&&(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=a,this.layerElement.appendChild(a)),a.style.display="inherit"),h.reset(),h.scale(r.finalSize/100,r.finalSize/100),p&&(o[t].n&&(d=-g,f+=r.yOffset,f+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(r,h,o[t].line,d,f),d+=o[t].l||0,d+=g),l?(u=(y=(v=this.globalData.fontManager.getCharData(r.finalText[t],i.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&v.data||{}).shapes?y.shapes[0].it:[],p?c+=this.createPathShape(h,u):a.setAttribute("d",this.createPathShape(h,u))):(p&&a.setAttribute("transform","translate("+h.props[12]+","+h.props[13]+")"),a.textContent=o[t].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));p&&a&&a.setAttribute("d",c)}else{var b=this.textContainer,T="start";switch(r.j){case 1:T="end";break;case 2:T="middle"}b.setAttribute("text-anchor",T),b.setAttribute("letter-spacing",g);var S=this.buildTextContents(r.finalText);for(e=S.length,f=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(a=this.textSpans[t]||createNS("tspan")).textContent=S[t],a.setAttribute("x",0),a.setAttribute("y",f),a.style.display="inherit",b.appendChild(a),this.textSpans[t]=a,f+=r.finalLineHeight;this.layerElement.appendChild(b)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(t){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,i,n=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n||(r=n[t],i=this.textSpans[t],r._mdf.m&&i.setAttribute("transform",r.m),r._mdf.o&&i.setAttribute("opacity",r.o),r._mdf.sw&&i.setAttribute("stroke-width",r.sw),r._mdf.sc&&i.setAttribute("stroke",r.sc),r._mdf.fc&&i.setAttribute("fill",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,i,n=this.shapes.length,s=this.stylesList.length,a=[],o=!1;for(r=0;r<s;r+=1){for(i=this.stylesList[r],o=!1,a.length=0,t=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(i)&&(a.push(e),o=e._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,i=new SVGStyleData(t,e),n=i.pElem;return"st"===t.ty?r=new SVGStrokeStyleData(this,t,i):"fl"===t.ty?r=new SVGFillStyleData(this,t,i):"gf"!==t.ty&&"gs"!==t.ty||(r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,i),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url("+locationHref+"#"+r.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(n.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),n.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),n.setAttribute("fill-opacity","0"),1===t.lj&&n.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&n.setAttribute("fill-rule","evenodd"),t.ln&&n.setAttribute("id",t.ln),t.cl&&n.setAttribute("class",t.cl),t.bm&&(n.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(i),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),i=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var i=4;"rc"===t.ty?i=5:"el"===t.ty?i=6:"sr"===t.ty&&(i=7);var n=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,i,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,i=this.animatedContents.length;r<i;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,i,n,s,a){var o,l,u,h,c,p,d=[].concat(s),f=t.length-1,m=[],g=[];for(o=f;o>=0;o-=1){if((p=this.searchProcessedElement(t[o]))?e[o]=r[p-1]:t[o]._render=a,"fl"==t[o].ty||"st"==t[o].ty||"gf"==t[o].ty||"gs"==t[o].ty)p?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],n),t[o]._render&&i.appendChild(e[o].style.pElem),m.push(e[o].style);else if("gr"==t[o].ty){if(p)for(u=e[o].it.length,l=0;l<u;l+=1)e[o].prevViewData[l]=e[o].it[l];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,n+1,d,a),t[o]._render&&i.appendChild(e[o].gr)}else"tr"==t[o].ty?(p||(e[o]=this.createTransformElement(t[o],i)),h=e[o].transform,d.push(h)):"sh"==t[o].ty||"rc"==t[o].ty||"el"==t[o].ty||"sr"==t[o].ty?(p||(e[o]=this.createShapeElement(t[o],d,n)),this.setElementStyles(e[o])):"tm"==t[o].ty||"rd"==t[o].ty||"ms"==t[o].ty?(p?(c=e[o]).closed=!1:((c=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=c,this.shapeModifiers.push(c)),g.push(c)):"rp"==t[o].ty&&(p?(c=e[o]).closed=!0:(c=ShapeModifiers.getModifier(t[o].ty),e[o]=c,c.init(this,t,o,e),this.shapeModifiers.push(c),a=!1),g.push(c));this.addProcessedElement(t[o],o+1)}for(f=m.length,o=0;o<f;o+=1)m[o].closed=!0;for(f=g.length,o=0;o<f;o+=1)g[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=3==r?0:e,n=2==r?0:e;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+n);var s=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,i,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,r=0):i=1+(r=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<i;r+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),a=createElementID();s.setAttribute("id",a),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var o=createNS("g");for(o.setAttribute("mask","url("+locationHref+"#"+a+")");n[0];)o.appendChild(n[0]);this.elem.layerElement.appendChild(o),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,r,i,n=this.paths.length;for(e=0;e<n;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],i=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&i.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,l=i.getTotalLength();s="0 0 0 "+l*a+" ";var u,h=l*(o-a),c=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,p=Math.floor(h/c);for(u=0;u<p;u+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";s+="0 "+10*l+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;i.setAttribute("stroke-dasharray",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var d=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*d[0])+","+bm_floor(255*d[1])+","+bm_floor(255*d[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,n=i[0]+" "+r[0]+" "+e[0],s=i[1]+" "+r[1]+" "+e[1],a=i[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,i,n){for(var s,a,o=0,l=Math.min(t,e),u=Math.max(t,e),h=Array.call(null,{length:256}),c=0,p=n-i,d=e-t;o<=256;)a=(s=o/256)<=l?d<0?n:i:s>=u?d<0?i:n:i+p*Math.pow((s-t)/d,1/r),h[c++]=a,o+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(i),s=r*Math.sin(i);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(t){var e,r,i=t.data.ef?t.data.ef.length:0,n=createElementID(),s=filtersFactory.createFilter(n),a=0;for(this.filters=[],e=0;e<i;e+=1)r=null,20===t.data.ef[e].ty?(a+=1,r=new SVGTintFilter(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(a+=1,r=new SVGFillFilter(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?r=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(a+=1,r=new SVGTritoneFilter(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(a+=1,r=new SVGProLevelsFilter(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(a+=1,r=new SVGDropShadowEffect(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?r=new SVGMatte3Effect(s,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(a+=1,r=new SVGGaussianBlurEffect(s,t.effectsManager.effectElements[e])),r&&this.filters.push(r);a&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+locationHref+"#"+n+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getImage(this.assetData),this.initElement(t,e,r)}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,i=this.masksProperties.length,n=!1;for(r=0;r<i;r++)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVEffects(){}function HBaseElement(t,e,r){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var n,s=t.ks.or.k.length;for(n=0;n<s;n+=1)t.ks.or.k[n].to=null,t.ks.or.k[n].ti=null}this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var i,n=r.children,s=0,a=n.length;s<a&&n[s]!==t.layerElement;)s+=1;s<=a-2&&(i=n[s+1]);var o=createNS("use");o.setAttribute("href","#"+e),i?r.insertBefore(o,i):r.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),i=createNS("mask");i.setAttribute("id",e.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var n=t.globalData.defs;n.appendChild(i);var s=createNS("symbol");s.setAttribute("id",r),this.replaceInParent(e,r),s.appendChild(e.layerElement),n.appendChild(s);var a=createNS("use");a.setAttribute("href","#"+r),i.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,i=e.length;r<i;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,i=t.getContext("2d"),n=this.img.width,s=this.img.height,a=n/s,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&"xMidYMid slice"===l||a<o&&"xMidYMid slice"!==l?e=(r=s)*o:r=(e=n)/o,i.drawImage(this.img,(n-e)/2,(s-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(t){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,i,n=this.element.finalTransform.mat,s=this.element.canvasContext,a=this.masksProperties.length;for(s.beginPath(),t=0;t<a;t++)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),i=this.viewData[t].v,e=n.applyToPointArray(i.v[0][0],i.v[0][1],0),s.moveTo(e[0],e[1]);var o,l=i._length;for(o=1;o<l;o++)r=n.applyToTriplePoints(i.o[o-1],i.i[o],i.v[o]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=n.applyToTriplePoints(i.o[o-1],i.i[0],i.v[0]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},i={};if("fl"==t.ty||"st"==t.ty?(i.c=PropertyFactory.getProp(this,t.c,1,255,this),i.c.k||(r.co="rgb("+bm_floor(i.c.v[0])+","+bm_floor(i.c.v[1])+","+bm_floor(i.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(i.s=PropertyFactory.getProp(this,t.s,1,null,this),i.e=PropertyFactory.getProp(this,t.e,1,null,this),i.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,t.g,this)),i.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"==t.ty||"gs"==t.ty){if(r.lc=this.lcEnum[t.lc]||"round",r.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(r.ml=t.ml),i.w=PropertyFactory.getProp(this,t.w,0,null,this),i.w.k||(r.wi=i.w.v),t.d){var n=new DashProperty(this,t.d,"canvas",this);i.d=n,i.d.k||(r.da=i.d.dashArray,r.do=i.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),i.style=r,i},CVShapeElement.prototype.createGroupElement=function(t){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,i,n){var s,a,o,l,u,h,c=t.length-1,p=[],d=[],f=[].concat(n);for(s=c;s>=0;s-=1){if((l=this.searchProcessedElement(t[s]))?e[s]=r[l-1]:t[s]._shouldRender=i,"fl"==t[s].ty||"st"==t[s].ty||"gf"==t[s].ty||"gs"==t[s].ty)l?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],f),p.push(e[s].style);else if("gr"==t[s].ty){if(l)for(o=e[s].it.length,a=0;a<o;a+=1)e[s].prevViewData[a]=e[s].it[a];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,i,f)}else"tr"==t[s].ty?(l||(h=this.createTransformElement(t[s]),e[s]=h),f.push(e[s]),this.addTransformToStyleList(e[s])):"sh"==t[s].ty||"rc"==t[s].ty||"el"==t[s].ty||"sr"==t[s].ty?l||(e[s]=this.createShapeElement(t[s])):"tm"==t[s].ty||"rd"==t[s].ty?(l?(u=e[s]).closed=!1:((u=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=u,this.shapeModifiers.push(u)),d.push(u)):"rp"==t[s].ty&&(l?(u=e[s]).closed=!0:(u=ShapeModifiers.getModifier(t[s].ty),e[s]=u,u.init(this,t,s,e),this.shapeModifiers.push(u),i=!1),d.push(u));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),c=d.length,s=0;s<c;s+=1)d[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,i,n,s,a,o,l,u=this.stylesList.length,h=this.globalData.renderer,c=this.globalData.canvasContext;for(t=0;t<u;t+=1)if(("st"!==(o=(l=this.stylesList[t]).type)&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),s=l.elements,"st"===o||"gs"===o?(c.strokeStyle="st"===o?l.co:l.grd,c.lineWidth=l.wi,c.lineCap=l.lc,c.lineJoin=l.lj,c.miterLimit=l.ml||0):c.fillStyle="fl"===o?l.co:l.grd,h.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&c.beginPath(),h.ctxTransform(l.preTransforms.finalTransform.props),r=s.length,e=0;e<r;e+=1){for("st"!==o&&"gs"!==o||(c.beginPath(),l.da&&(c.setLineDash(l.da),c.lineDashOffset=l.do)),n=(a=s[e].trNodes).length,i=0;i<n;i+=1)"m"==a[i].t?c.moveTo(a[i].p[0],a[i].p[1]):"c"==a[i].t?c.bezierCurveTo(a[i].pts[0],a[i].pts[1],a[i].pts[2],a[i].pts[3],a[i].pts[4],a[i].pts[5]):c.closePath();"st"!==o&&"gs"!==o||(c.stroke(),l.da&&c.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&c.fill(l.r),h.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,i){var n,s;for(s=t,n=e.length-1;n>=0;n-=1)"tr"==e[n].ty?(s=r[n].transform,this.renderShapeTransform(t,s)):"sh"==e[n].ty||"el"==e[n].ty||"rc"==e[n].ty||"sr"==e[n].ty?this.renderPath(e[n],r[n]):"fl"==e[n].ty?this.renderFill(e[n],r[n],s):"st"==e[n].ty?this.renderStroke(e[n],r[n],s):"gf"==e[n].ty||"gs"==e[n].ty?this.renderGradientFill(e[n],r[n],s):"gr"==e[n].ty?this.renderShape(s,e[n].it,r[n].it):e[n].ty;i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,i,n,s=t.trNodes,a=e.paths,o=a._length;s.length=0;var l=t.transforms.finalTransform;for(n=0;n<o;n+=1){var u=a.shapes[n];if(u&&u.v){for(i=u._length,r=1;r<i;r+=1)1===r&&s.push({t:"m",p:l.applyToPointArray(u.v[0][0],u.v[0][1],0)}),s.push({t:"c",pts:l.applyToTriplePoints(u.o[r-1],u.i[r],u.v[r])});1===i&&s.push({t:"m",p:l.applyToPointArray(u.v[0][0],u.v[0][1],0)}),u.c&&i&&(s.push({t:"c",pts:l.applyToTriplePoints(u.o[r-1],u.i[0],u.v[0])}),s.push({t:"z"}))}}t.trNodes=s}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var r,i=e.styledShapes.length;for(r=0;r<i;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var i=e.style;(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var i=e.style;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var n=this.globalData.canvasContext,s=e.s.v,a=e.e.v;if(1===t.t)p=n.createLinearGradient(s[0],s[1],a[0],a[1]);else var o=Math.sqrt(Math.pow(s[0]-a[0],2)+Math.pow(s[1]-a[1],2)),l=Math.atan2(a[1]-s[1],a[0]-s[0]),u=o*(e.h.v>=1?.99:e.h.v<=-1?-.99:e.h.v),h=Math.cos(l+e.a.v)*u+s[0],c=Math.sin(l+e.a.v)*u+s[1],p=n.createRadialGradient(h,c,0,s[0],s[1],o);var d,f=t.g.p,m=e.g.c,g=1;for(d=0;d<f;d+=1)e.g._hasOpacity&&e.g._collapsable&&(g=e.g.o[2*d+1]),p.addColorStop(m[4*d]/100,"rgba("+m[4*d+1]+","+m[4*d+2]+","+m[4*d+3]+","+g+")");i.grd=p}i.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var i=e.style,n=e.d;n&&(n._mdf||this._isFirstFrame)&&(i.da=n.dashArray,i.do=n.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bm_floor(e.c.v[0])+","+bm_floor(e.c.v[1])+","+bm_floor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(i.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i,n,s=this.globalData.fontManager.getFontByName(t.f),a=t.l,o=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,n=t.finalText.length;var l,u,h,c,p,d,f,m,g,y,v=this.data.singleShape,_=t.tr/1e3*t.finalSize,b=0,T=0,S=!0,E=0;for(i=0;i<n;i+=1){for(u=(l=this.globalData.fontManager.getCharData(t.finalText[i],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&l.data||{},o.reset(),v&&a[i].n&&(b=-_,T+=t.yOffset,T+=S?1:0,S=!1),f=(p=u.shapes?u.shapes[0].it:[]).length,o.scale(t.finalSize/100,t.finalSize/100),v&&this.applyTextPropertiesToMatrix(t,o,a[i].line,b,T),g=createSizedArray(f),d=0;d<f;d+=1){for(c=p[d].ks.k.i.length,m=p[d].ks.k,y=[],h=1;h<c;h+=1)1==h&&y.push(o.applyToX(m.v[0][0],m.v[0][1],0),o.applyToY(m.v[0][0],m.v[0][1],0)),y.push(o.applyToX(m.o[h-1][0],m.o[h-1][1],0),o.applyToY(m.o[h-1][0],m.o[h-1][1],0),o.applyToX(m.i[h][0],m.i[h][1],0),o.applyToY(m.i[h][0],m.i[h][1],0),o.applyToX(m.v[h][0],m.v[h][1],0),o.applyToY(m.v[h][0],m.v[h][1],0));y.push(o.applyToX(m.o[h-1][0],m.o[h-1][1],0),o.applyToY(m.o[h-1][0],m.o[h-1][1],0),o.applyToX(m.i[0][0],m.i[0][1],0),o.applyToY(m.i[0][0],m.i[0][1],0),o.applyToX(m.v[0][0],m.v[0][1],0),o.applyToY(m.v[0][0],m.v[0][1],0)),g[d]=y}v&&(b+=a[i].l,b+=_),this.textSpans[E]?this.textSpans[E].elem=g:this.textSpans[E]={elem:g},E+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,i,n,s,a=this.canvasContext;this.finalTransform.mat.props,a.font=this.values.fValue,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var o,l=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;e=u.length;var h,c,p=null,d=null,f=null;for(t=0;t<e;t+=1)if(!u[t].n){if((o=l[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(o.p),this.globalData.renderer.ctxOpacity(o.o)),this.fill){for(o&&o.fc?p!==o.fc&&(p=o.fc,a.fillStyle=o.fc):p!==this.values.fill&&(p=this.values.fill,a.fillStyle=this.values.fill),i=(h=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(c=h[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(o&&o.sw?f!==o.sw&&(f=o.sw,a.lineWidth=o.sw):f!==this.values.sWidth&&(f=this.values.sWidth,a.lineWidth=this.values.sWidth),o&&o.sc?d!==o.sc&&(d=o.sc,a.strokeStyle=o.sc):d!==this.values.stroke&&(d=this.values.stroke,a.strokeStyle=this.values.stroke),i=(h=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(c=h[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}o&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,i=0;i<e;)this.elements[i]&&this.elements[i].getBaseElement&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,i,n,s,a,o=t.sh.v,l=t.transformers,u=o._length;if(!(u<=1)){for(r=0;r<u-1;r+=1)i=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),s=this.getTransformedPoint(l,o.i[r+1]),a=this.getTransformedPoint(l,o.v[r+1]),this.checkBounds(i,n,s,a,e);o.c&&(i=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),s=this.getTransformedPoint(l,o.i[0]),a=this.getTransformedPoint(l,o.v[0]),this.checkBounds(i,n,s,a,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,i,n){this.getBoundsOfCurve(t,e,r,i);var s=this.shapeBoundingBox;n.x=bm_min(s.left,n.x),n.xMax=bm_max(s.right,n.xMax),n.y=bm_min(s.top,n.y),n.yMax=bm_max(s.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,i){for(var n,s,a,o,l,u,h,c=[[t[0],i[0]],[t[1],i[1]]],p=0;p<2;++p)if(s=6*t[p]-12*e[p]+6*r[p],n=-3*t[p]+9*e[p]-9*r[p]+3*i[p],a=3*e[p]-3*t[p],s|=0,a|=0,0!=(n|=0))(l=s*s-4*a*n)<0||(0<(u=(-s+bm_sqrt(l))/(2*n))&&u<1&&c[p].push(this.calculateF(u,t,e,r,i,p)),0<(h=(-s-bm_sqrt(l))/(2*n))&&h<1&&c[p].push(this.calculateF(h,t,e,r,i,p)));else{if(0===s)continue;0<(o=-a/s)&&o<1&&c[p].push(this.calculateF(o,t,e,r,i,p))}this.shapeBoundingBox.left=bm_min.apply(null,c[0]),this.shapeBoundingBox.top=bm_min.apply(null,c[1]),this.shapeBoundingBox.right=bm_max.apply(null,c[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,c[1])},HShapeElement.prototype.calculateF=function(t,e,r,i,n,s){return bm_pow(1-t,3)*e[s]+3*bm_pow(1-t,2)*t*r[s]+3*(1-t)*bm_pow(t,2)*i[s]+bm_pow(t,3)*n[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,i=t.length;for(r=0;r<i;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it&&this.calculateBoundingBox(t[r].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),(r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y)&&(this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style;e.color=e.fill=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)",t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r,i,n=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",n.fClass)this.innerElem.className=n.fClass;else{e.fontFamily=n.fFamily;var s=t.fWeight,a=t.fStyle;e.fontStyle=a,e.fontWeight=s}var o,l,u,h=t.l;i=h.length;var c,p=this.mHelper,d="",f=0;for(r=0;r<i;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[f]?o=this.textPaths[f]:((o=createNS("path")).setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[f]?u=(l=this.textSpans[f]).children[0]:((l=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(o),styleDiv(l)))):this.isMasked?o=this.textPaths[f]?this.textPaths[f]:createNS("text"):this.textSpans[f]?(l=this.textSpans[f],o=this.textPaths[f]):(styleDiv(l=createTag("span")),styleDiv(o=createTag("span")),l.appendChild(o)),this.globalData.fontManager.chars){var m,g=this.globalData.fontManager.getCharData(t.finalText[r],n.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(m=g?g.data:null,p.reset(),m&&m.shapes&&(c=m.shapes[0].it,p.scale(t.finalSize/100,t.finalSize/100),d=this.createPathShape(p,c),o.setAttribute("d",d)),this.isMasked)this.innerElem.appendChild(o);else{if(this.innerElem.appendChild(l),m&&m.shapes){document.body.appendChild(u);var y=u.getBBox();u.setAttribute("width",y.width+2),u.setAttribute("height",y.height+2),u.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2)),u.style.transform=u.style.webkitTransform="translate("+(y.x-1)+"px,"+(y.y-1)+"px)",h[r].yOffset=y.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);l.appendChild(u)}}else o.textContent=h[r].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(o):(this.innerElem.appendChild(l),o.style.transform=o.style.webkitTransform="translate3d(0,"+-t.finalSize/1.2+"px,0)");this.isMasked?this.textSpans[f]=o:this.textSpans[f]=l,this.textSpans[f].style.display="block",this.textPaths[f]=o,f+=1}for(;f<this.textSpans.length;)this.textSpans[f].style.display="none",f+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,e,r,i,n,s=0,a=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(e=o.length,t=0;t<e;t+=1)o[t].n?s+=1:(i=this.textSpans[t],n=this.textPaths[t],r=a[s],s+=1,r._mdf.m&&(this.isMasked?i.setAttribute("transform",r.m):i.style.transform=i.style.webkitTransform=r.m),i.style.opacity=r.o,r.sw&&r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r.sc&&r._mdf.sc&&n.setAttribute("stroke",r.sc),r.fc&&r._mdf.fc&&(n.setAttribute("fill",r.fc),n.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var l=this.innerElem.getBBox();this.currentBBox.w!==l.width&&(this.currentBBox.w=l.width,this.svgElement.setAttribute("width",l.width)),this.currentBBox.h!==l.height&&(this.currentBBox.h=l.height,this.svgElement.setAttribute("height",l.height)),this.currentBBox.w===l.width+2&&this.currentBBox.h===l.height+2&&this.currentBBox.x===l.x-1&&this.currentBBox.y===l.y-1||(this.currentBBox.w=l.width+2,this.currentBBox.h=l.height+2,this.currentBBox.x=l.x-1,this.currentBBox.y=l.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r=this.comp.threeDElements.length;for(t=0;t<r;t+=1)"3d"===(e=this.comp.threeDElements[t]).type&&(e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var i=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),a=[n[0]/s,n[1]/s,n[2]/s],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),u=Math.atan2(a[0],-a[2]);this.mat.rotateY(u).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var h=!this._prevMat.equals(this.mat);if((h||this.pe._mdf)&&this.comp.threeDElements){var c;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)"3d"===(c=this.comp.threeDElements[t]).type&&(h&&(c.container.style.transform=c.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(c.perspectiveElem.style.perspective=c.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],r=0,i=0,n=0,s=!0,a=!1;function o(t){for(var r=0,n=t.target;r<i;)e[r].animation===n&&(e.splice(r,1),r-=1,i-=1,n.isPaused||h()),r+=1}function l(t,r){if(!t)return null;for(var n=0;n<i;){if(e[n].elem==t&&null!==e[n].elem)return e[n].animation;n+=1}var s=new AnimationItem;return c(s,t),s.setData(t,r),s}function u(){n+=1,f()}function h(){n-=1}function c(t,r){t.addEventListener("destroy",o),t.addEventListener("_active",u),t.addEventListener("_idle",h),e.push({elem:r,animation:t}),i+=1}function p(t){var o,l=t-r;for(o=0;o<i;o+=1)e[o].animation.advanceTime(l);r=t,n&&!a?window.requestAnimationFrame(p):s=!0}function d(t){r=t,window.requestAnimationFrame(p)}function f(){!a&&n&&s&&(window.requestAnimationFrame(d),s=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return c(e,null),e.setParams(t),e},t.setSpeed=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setSpeed(t,r)},t.setDirection=function(t,r){var n;for(n=0;n<i;n+=1)e[n].animation.setDirection(t,r)},t.play=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.play(t)},t.pause=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.pause(t)},t.stop=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.stop(t)},t.togglePause=function(t){var r;for(r=0;r<i;r+=1)e[r].animation.togglePause(t)},t.searchAnimations=function(t,e,r){var i,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=n.length;for(i=0;i<s;i+=1)r&&n[i].setAttribute("data-bm-type",r),l(n[i],t);if(e&&0===s){r||(r="svg");var a=document.getElementsByTagName("body")[0];a.innerHTML="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",r),a.appendChild(o),l(o,t)}},t.resize=function(){var t;for(t=0;t<i;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,r,n){var s;for(s=0;s<i;s+=1)e[s].animation.goToAndStop(t,r,n)},t.destroy=function(t){var r;for(r=i-1;r>=0;r-=1)e[r].animation.destroy(t)},t.freeze=function(){a=!0},t.unfreeze=function(){a=!1,f()},t.getRegisteredAnimations=function(){var t,r=e.length,i=[];for(t=0;t<r;t+=1)i.push(e[t].animation);return i},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){t.context&&(this.context=t.context),(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e=t.animType?t.animType:t.renderer?t.renderer:"svg";switch(e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||(!1===t.loop?this.loop=!1:!0===t.loop?this.loop=!0:this.loop=parseInt(t.loop)),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!t.hasOwnProperty("autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,t.animationData?this.configAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(t,e){var r={wrapper:t,animationData:e?"object"==typeof e?e:JSON.parse(e):null},i=t.attributes;r.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",r.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:"canvas";var n=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";""===n||(r.loop="false"!==n&&("true"===n||parseInt(n)));var s=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:!i.getNamedItem("bm-autoplay")||i.getNamedItem("bm-autoplay").value;r.autoplay="false"!==s,r.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"","false"===(i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,i=this.animationData.layers,n=i.length,s=t.layers,a=s.length;for(r=0;r<a;r+=1)for(e=0;e<n;){if(i[e].id==s[r].id){i[e]=s[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,e=0;e<n;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.subframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!=t||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!=t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(t){t&&this.name!=t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!=t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(t,e,r){r&&this.name!=r||(e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,r){this.goToAndStop(t,e,r),this.play()},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=t[0]-t[1],this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=t[1]-t[0],this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.timeCompleted=this.totalFrames=e-t,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var r,i=t.length;for(r=0;r<i;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!=t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t==this.assets[e].id)return this.assets[e];e+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions=function(){var t={initExpressions:function(t){var e=0,r=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=r.length;for(t=0;t<e;t+=1)r[t].release();r.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===r.indexOf(t)&&r.push(t)}}};return t}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var r,i=t.length,n=[];for(r=0;r<i;r+=1)n[r]=-t[r];return n}return t.propType?t.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=typeof t,i=typeof e;if("string"===r||"string"===i)return t+e;if(isNumerable(r,t)&&isNumerable(i,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]=t[0]+e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,s=t.length,a=e.length,o=[];n<s||n<a;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?o[n]=t[n]+e[n]:o[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return o}return 0}var add=sum;function sub(t,e){var r=typeof t,i=typeof e;if(isNumerable(r,t)&&isNumerable(i,e))return"string"===r&&(t=parseInt(t)),"string"===i&&(e=parseInt(e)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(i,e))return(t=t.slice(0))[0]=t[0]-e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,s=t.length,a=e.length,o=[];n<s||n<a;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?o[n]=t[n]-e[n]:o[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return o}return 0}function mul(t,e){var r,i,n,s=typeof t,a=typeof e;if(isNumerable(s,t)&&isNumerable(a,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=t.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=t[i]*e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=t*e[i];return r}return 0}function div(t,e){var r,i,n,s=typeof t,a=typeof e;if(isNumerable(s,t)&&isNumerable(a,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(n=t.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=t[i]/e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=t/e[i];return r}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t)),"string"==typeof e&&(e=parseInt(e)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var i=r;r=e,e=i}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var r,i=Math.min(t.length,e.length),n=0;for(r=0;r<i;r+=1)n+=Math.pow(e[r]-t[r],2);return Math.sqrt(n)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,i=t[0],n=t[1],s=t[2],a=Math.max(i,n,s),o=Math.min(i,n,s),l=(a+o)/2;if(a==o)e=r=0;else{var u=a-o;switch(r=l>.5?u/(2-a-o):u/(a+o),a){case i:e=(n-s)/u+(n<s?6:0);break;case n:e=(s-i)/u+2;break;case s:e=(i-n)/u+4}e/=6}return[e,r,l,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e,r,i,n=t[0],s=t[1],a=t[2];if(0===s)e=r=i=a;else{var o=a<.5?a*(1+s):a+s-a*s,l=2*a-o;e=hue2rgb(l,o,n+1/3),r=hue2rgb(l,o,n),i=hue2rgb(l,o,n-1/3)}return[e,r,i,t[3]]}function linear(t,e,r,i,n){if(void 0!==i&&void 0!==n||(i=e,n=r,e=0,r=1),r<e){var s=r;r=e,e=s}if(t<=e)return i;if(t>=r)return n;var a=r===e?0:(t-e)/(r-e);if(!i.length)return i+(n-i)*a;var o,l=i.length,u=createTypedArray("float32",l);for(o=0;o<l;o+=1)u[o]=i[o]+(n[o]-i[o])*a;return u}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,i=e.length;t||(t=createTypedArray("float32",i));var n=createTypedArray("float32",i),s=BMMath.random();for(r=0;r<i;r+=1)n[r]=t[r]+s*(e[r]-t[r]);return n}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,r,i){var n,s=t.length,a=shape_pool.newElement();a.setPathData(!!i,s);var o,l,u=[0,0];for(n=0;n<s;n+=1)o=e&&e[n]?e[n]:u,l=r&&r[n]?r[n]:u,a.setTripleAt(t[n][0],t[n][1],l[0]+t[n][0],l[1]+t[n][1],o[0]+t[n][0],o[1]+t[n][1],n,!0);return a}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var r,i,n=this.pv.length?this.pv.length:1,s=createTypedArray("float32",n),a=Math.floor(5*time);for(r=0,i=0;r<a;){for(i=0;i<n;i+=1)s[i]+=-e+2*e*BMMath.random();r+=1}var o=5*time,l=o-Math.floor(o),u=createTypedArray("float32",n);if(n>1){for(i=0;i<n;i+=1)u[i]=this.pv[i]+s[i]+(-e+2*e*BMMath.random())*l;return u}return this.pv+s[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],i=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,i,0]}function easeOut(t,e,r,i,n){return applyEase(easeOutBez,t,e,r,i,n)}function easeIn(t,e,r,i,n){return applyEase(easeInBez,t,e,r,i,n)}function ease(t,e,r,i,n){return applyEase(easeInOutBez,t,e,r,i,n)}function applyEase(t,e,r,i,n,s){void 0===n?(n=r,s=i):e=(e-r)/(i-r);var a=t(e=e>1?1:e<0?0:e);if($bm_isInstanceOfArray(n)){var o,l=n.length,u=createTypedArray("float32",l);for(o=0;o<l;o+=1)u[o]=(s[o]-n[o])*a+n[o];return u}return(s-n)*a+n}function nearestKey(t){var e,r,i,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,i=data.k[0].t;else{for(e=0;e<n-1;e+=1){if(t===data.k[e].t){r=e+1,i=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,i=data.k[e+1].t):(r=e+1,i=data.k[e].t);break}}-1===r&&(r=e+1,i=data.k[e].t)}else r=0,i=0;var s={};return s.index=r,s.time=i/elem.comp.globalData.frameRate,s}function key(t){var e,r,i;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var n=data.k[t].hasOwnProperty("s")?data.k[t].s:data.k[t-1].e;for(i=n.length,r=0;r<i;r+=1)e[r]=n[r],e.value[r]=n[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),i=0;if(e.length){var n;for(n=0;n<e.length;n+=1)i+=Math.pow(r[n]-e[n],2);i=100*Math.sqrt(i)}else i=0;return i},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,r,i=this.getValueAtTime(t),n=this.getValueAtTime(t+-.001);if(i.length)for(e=createTypedArray("float32",i.length),r=0;r<i.length;r+=1)e[r]=(n[r]-i[r])/-.001;else e=(n-i)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function t(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var i,n,s,a,o,l=this.comp.renderedFrame,u=this.keyframes,h=u[u.length-1].t;if(l<=h)return this.pv;if(r?n=h-(i=e?Math.abs(h-elem.comp.globalData.frameRate*e):Math.max(0,h-this.elem.data.ip)):((!e||e>u.length-1)&&(e=u.length-1),i=h-(n=u[u.length-1-e].t)),"pingpong"===t){if(Math.floor((l-n)/i)%2!=0)return this.getValueAtTime((i-(l-n)%i+n)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(n/this.comp.globalData.frameRate,0),p=this.getValueAtTime(h/this.comp.globalData.frameRate,0),d=this.getValueAtTime(((l-n)%i+n)/this.comp.globalData.frameRate,0),f=Math.floor((l-n)/i);if(this.pv.length){for(a=(o=new Array(c.length)).length,s=0;s<a;s+=1)o[s]=(p[s]-c[s])*f+d[s];return o}return(p-c)*f+d}if("continue"===t){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,s=0;s<a;s+=1)o[s]=m[s]+(m[s]-g[s])*((l-h)/this.comp.globalData.frameRate)/5e-4;return o}return m+(l-h)/.001*(m-g)}}return this.getValueAtTime(((l-n)%i+n)/this.comp.globalData.frameRate,0)}function e(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var i,n,s,a,o,l=this.comp.renderedFrame,u=this.keyframes,h=u[0].t;if(l>=h)return this.pv;if(r?n=h+(i=e?Math.abs(elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-h)):((!e||e>u.length-1)&&(e=u.length-1),i=(n=u[e].t)-h),"pingpong"===t){if(Math.floor((h-l)/i)%2==0)return this.getValueAtTime(((h-l)%i+h)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(h/this.comp.globalData.frameRate,0),p=this.getValueAtTime(n/this.comp.globalData.frameRate,0),d=this.getValueAtTime((i-(h-l)%i+h)/this.comp.globalData.frameRate,0),f=Math.floor((h-l)/i)+1;if(this.pv.length){for(a=(o=new Array(c.length)).length,s=0;s<a;s+=1)o[s]=d[s]-(p[s]-c[s])*f;return o}return d-(p-c)*f}if("continue"===t){var m=this.getValueAtTime(h/this.comp.globalData.frameRate,0),g=this.getValueAtTime((h+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,s=0;s<a;s+=1)o[s]=m[s]+(m[s]-g[s])*(h-l)/.001;return o}return m+(m-g)*(h-l)/.001}}return this.getValueAtTime((i-(h-l)%i+h)/this.comp.globalData.frameRate,0)}function r(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var r,i,n=this.comp.renderedFrame/this.comp.globalData.frameRate,s=n-t,a=e>1?(n+t-s)/(e-1):1,o=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;o<e;){if(i=this.getValueAtTime(s+o*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=i[l];else r+=i;o+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=e;else r/=e;return r}function i(t){console.warn("Transform at time not supported")}function n(t){}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var a=s(t,e,r);return a.dynamicProperties.length?a.getValueAtTime=i.bind(a):a.getValueAtTime=n.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(i,n,s,o,l){var u=a(i,n,s,o,l);u.kf?u.getValueAtTime=expressionHelpers.getValueAtTime.bind(u):u.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(u),u.setGroupProperty=expressionHelpers.setGroupProperty,u.loopOut=t,u.loopIn=e,u.smooth=r,u.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(u),u.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(u),u.numKeys=1===n.a?n.k.length:0,u.propertyIndex=n.ix;var h=0;return 0!==s&&(h=createTypedArray("float32",1===n.a?n.k[0].s.length:n.k.length)),u._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:h},expressionHelpers.searchExpressions(i,n,u),u.k&&l.addDynamicProperty(u),u};var o=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function u(){}u.prototype={vertices:function(t,e){this.k&&this.getValue();var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var i,n=r._length,s=r[t],a=r.v,o=createSizedArray(n);for(i=0;i<n;i+=1)o[i]="i"===t||"o"===t?[s[i][0]-a[i][0],s[i][1]-a[i][1]]:[s[i][0],s[i][1]];return o},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var i,n=this._segmentsLength,s=n.lengths,a=n.totalLength*t,o=0,l=s.length,u=0;o<l;){if(u+s[o].addedLength>a){var h=o,c=r.c&&o===l-1?0:o+1,p=(a-u)/s[o].addedLength;i=bez.getPointInSegment(r.v[h],r.v[c],r.o[h],r.i[c],p,s[o]);break}u+=s[o].addedLength,o+=1}return i||(i=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),i},vectorOnPath:function(t,e,r){t=1==t?this.v.c?0:.999:t;var i=this.pointOnPath(t,e),n=this.pointOnPath(t+.001,e),s=n[0]-i[0],a=n[1]-i[1],o=Math.sqrt(Math.pow(s,2)+Math.pow(a,2));return 0===o?[0,0]:"tangent"===r?[s/o,a/o]:[-a/o,s/o]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([u],o),extendPrototype([u],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,i,n){var s=h(t,e,r,i,n);return s.propertyIndex=e.ix,s.lock=!1,3===r?expressionHelpers.searchExpressions(t,e.pt,s):4===r&&expressionHelpers.searchExpressions(t,e.ks,s),s.k&&t.addDynamicProperty(s),s}}(),TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var i={};return this.copyData(i,t),i.t=r.toString(),i.__complete=!1,i}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapeExpressionInterface=function(){function t(t,c,p){var d,f=[],m=t?t.length:0;for(d=0;d<m;d+=1)"gr"==t[d].ty?f.push(e(t[d],c[d],p)):"fl"==t[d].ty?f.push(r(t[d],c[d],p)):"st"==t[d].ty?f.push(i(t[d],c[d],p)):"tm"==t[d].ty?f.push(n(t[d],c[d],p)):"tr"==t[d].ty||("el"==t[d].ty?f.push(s(t[d],c[d],p)):"sr"==t[d].ty?f.push(a(t[d],c[d],p)):"sh"==t[d].ty?f.push(h(t[d],c[d],p)):"rc"==t[d].ty?f.push(o(t[d],c[d],p)):"rd"==t[d].ty?f.push(l(t[d],c[d],p)):"rp"==t[d].ty&&f.push(u(t[d],c[d],p)));return f}function e(e,r,i){var n=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=function(t){return 1===t?n:i(t-1)};var s=function(e,r,i){var n,s=function(t){for(var e=0,r=n.length;e<r;){if(n[e]._name===t||n[e].mn===t||n[e].propertyIndex===t||n[e].ix===t||n[e].ind===t)return n[e];e+=1}if("number"==typeof t)return n[t-1]};return s.propertyGroup=function(t){return 1===t?s:i(t-1)},n=t(e.it,r.it,s.propertyGroup),s.numProperties=n.length,s.propertyIndex=e.cix,s._name=e.nm,s}(e,r,n.propertyGroup),a=function(t,e,r){function i(t){return 1==t?n:r(--t)}function n(e){return t.a.ix===e||"Anchor Point"===e?n.anchorPoint:t.o.ix===e||"Opacity"===e?n.opacity:t.p.ix===e||"Position"===e?n.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?n.rotation:t.s.ix===e||"Scale"===e?n.scale:t.sk&&t.sk.ix===e||"Skew"===e?n.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?n.skewAxis:void 0}return e.transform.mProps.o.setGroupProperty(i),e.transform.mProps.p.setGroupProperty(i),e.transform.mProps.a.setGroupProperty(i),e.transform.mProps.s.setGroupProperty(i),e.transform.mProps.r.setGroupProperty(i),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(i),e.transform.mProps.sa.setGroupProperty(i)),e.transform.op.setGroupProperty(i),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),n.ty="tr",n.mn=t.mn,n.propertyGroup=r,n}(e.it[e.it.length-1],r.it[r.it.length-1],n.propertyGroup);return n.content=s,n.transform=a,Object.defineProperty(n,"_name",{get:function(){return e.nm}}),n.numProperties=e.np,n.propertyIndex=e.ix,n.nm=e.nm,n.mn=e.mn,n}function r(t,e,r){function i(t){return"Color"===t||"color"===t?i.color:"Opacity"===t||"opacity"===t?i.opacity:void 0}return Object.defineProperties(i,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(r),e.o.setGroupProperty(r),i}function i(t,e,r){function i(t){return 1===t?ob:r(t-1)}function n(t){return 1===t?l:i(t-1)}function s(r){Object.defineProperty(l,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)})}var a,o=t.d?t.d.length:0,l={};for(a=0;a<o;a+=1)s(a),e.d.dataProps[a].p.setGroupProperty(n);function u(t){return"Color"===t||"color"===t?u.color:"Opacity"===t||"opacity"===t?u.opacity:"Stroke Width"===t||"stroke width"===t?u.strokeWidth:void 0}return Object.defineProperties(u,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(i),e.o.setGroupProperty(i),e.w.setGroupProperty(i),u}function n(t,e,r){function i(t){return 1==t?n:r(--t)}function n(e){return e===t.e.ix||"End"===e||"end"===e?n.end:e===t.s.ix?n.start:e===t.o.ix?n.offset:void 0}return n.propertyIndex=t.ix,e.s.setGroupProperty(i),e.e.setGroupProperty(i),e.o.setGroupProperty(i),n.propertyIndex=t.ix,n.propertyGroup=r,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),n.mn=t.mn,n}function s(t,e,r){function i(t){return 1==t?s:r(--t)}s.propertyIndex=t.ix;var n="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.s.ix===e?s.size:void 0}return n.s.setGroupProperty(i),n.p.setGroupProperty(i),Object.defineProperties(s,{size:{get:ExpressionPropertyInterface(n.s)},position:{get:ExpressionPropertyInterface(n.p)},_name:{value:t.nm}}),s.mn=t.mn,s}function a(t,e,r){function i(t){return 1==t?s:r(--t)}var n="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.rotation:t.pt.ix===e?s.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?s.outerRadius:t.os.ix===e?s.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?s.innerRoundness:void 0:s.innerRadius}return s.propertyIndex=t.ix,n.or.setGroupProperty(i),n.os.setGroupProperty(i),n.pt.setGroupProperty(i),n.p.setGroupProperty(i),n.r.setGroupProperty(i),t.ir&&(n.ir.setGroupProperty(i),n.is.setGroupProperty(i)),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(n.p)},rotation:{get:ExpressionPropertyInterface(n.r)},points:{get:ExpressionPropertyInterface(n.pt)},outerRadius:{get:ExpressionPropertyInterface(n.or)},outerRoundness:{get:ExpressionPropertyInterface(n.os)},innerRadius:{get:ExpressionPropertyInterface(n.ir)},innerRoundness:{get:ExpressionPropertyInterface(n.is)},_name:{value:t.nm}}),s.mn=t.mn,s}function o(t,e,r){function i(t){return 1==t?s:r(--t)}var n="tm"===e.sh.ty?e.sh.prop:e.sh;function s(e){return t.p.ix===e?s.position:t.r.ix===e?s.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?s.size:void 0}return s.propertyIndex=t.ix,n.p.setGroupProperty(i),n.s.setGroupProperty(i),n.r.setGroupProperty(i),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(n.p)},roundness:{get:ExpressionPropertyInterface(n.r)},size:{get:ExpressionPropertyInterface(n.s)},_name:{value:t.nm}}),s.mn=t.mn,s}function l(t,e,r){var i=e;function n(e){if(t.r.ix===e||"Round Corners 1"===e)return n.radius}return n.propertyIndex=t.ix,i.rd.setGroupProperty((function(t){return 1==t?n:r(--t)})),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(i.rd)},_name:{value:t.nm}}),n.mn=t.mn,n}function u(t,e,r){function i(t){return 1==t?s:r(--t)}var n=e;function s(e){return t.c.ix===e||"Copies"===e?s.copies:t.o.ix===e||"Offset"===e?s.offset:void 0}return s.propertyIndex=t.ix,n.c.setGroupProperty(i),n.o.setGroupProperty(i),Object.defineProperties(s,{copies:{get:ExpressionPropertyInterface(n.c)},offset:{get:ExpressionPropertyInterface(n.o)},_name:{value:t.nm}}),s.mn=t.mn,s}function h(t,e,r){var i=e.sh;function n(t){if("Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t)return n.path}return i.setGroupProperty((function(t){return 1==t?n:r(--t)})),Object.defineProperties(n,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn}}),n}return function(e,r,i){var n;function s(t){if("number"==typeof t)return n[t-1];for(var e=0,r=n.length;e<r;){if(n[e]._name===t)return n[e];e+=1}}return s.propertyGroup=i,n=t(e,r,s),s.numProperties=n.length,s}}(),TextExpressionInterface=function(t){var e;function r(){}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var r=t.textProperty.currentData.t;return void 0!==r&&(t.textProperty.currentData.t=void 0,(e=new String(r)).value=r||new String(r)),e}}),r},LayerExpressionInterface=function(){function t(t,e){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.applyToPointArray(t[0],t[1],t[2]||0)}return r.applyToPointArray(t[0],t[1],t[2]||0)}function e(t,e){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.inversePoint(t)}return r.inversePoint(t)}function r(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function i(){return[1,1,1,1]}return function(n){var s;function a(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return a.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return s;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return a.effect}}a.toWorld=t,a.fromWorld=e,a.toComp=t,a.fromComp=r,a.sampleImage=i,a.sourceRectAtTime=n.sourceRectAtTime.bind(n),a._elem=n;var o=getDescriptor(s=TransformExpressionInterface(n.finalTransform.mProp),"anchorPoint");return Object.defineProperties(a,{hasParent:{get:function(){return n.hierarchy.length}},parent:{get:function(){return n.hierarchy[0].layerInterface}},rotation:getDescriptor(s,"rotation"),scale:getDescriptor(s,"scale"),position:getDescriptor(s,"position"),opacity:getDescriptor(s,"opacity"),anchorPoint:o,anchor_point:o,transform:{get:function(){return s}},active:{get:function(){return n.isInRange}}}),a.startTime=n.data.st,a.index=n.data.ind,a.source=n.data.refId,a.height=0===n.data.ty?n.data.h:100,a.width=0===n.data.ty?n.data.w:100,a.inPoint=n.data.ip/n.comp.globalData.frameRate,a.outPoint=n.data.op/n.comp.globalData.frameRate,a._name=n.data.nm,a.registerMaskInterface=function(t){a.mask=new MaskManagerInterface(t,n)},a.registerEffectsInterface=function(t){a.effect=t},a}}(),CompExpressionInterface=function(t){function e(e){for(var r=0,i=t.layers.length;r<i;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity}}if(Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p)var r=ExpressionPropertyInterface(t.p);return Object.defineProperty(e,"position",{get:function(){return t.p?r():[t.px.v,t.py.v,t.pz?t.pz.v:0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(r,i,n,s){var a,o=[],l=r.ef.length;for(a=0;a<l;a+=1)5===r.ef[a].ty?o.push(t(r.ef[a],i.effectElements[a],i.effectElements[a].propertyGroup,s)):o.push(e(i.effectElements[a],r.ef[a].ty,s,u));function u(t){return 1===t?h:n(t-1)}var h=function(t){for(var e=r.ef,i=0,n=e.length;i<n;){if(t===e[i].nm||t===e[i].mn||t===e[i].ix)return 5===e[i].ty?o[i]:o[i]();i+=1}return o[0]()};return h.propertyGroup=u,"ADBE Color Control"===r.mn&&Object.defineProperty(h,"color",{get:function(){return o[0]()}}),Object.defineProperty(h,"numProperties",{get:function(){return r.np}}),h.active=h.enabled=0!==r.en,h}function e(t,e,r,i){var n=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(i),function(){return 10===e?r.comp.compInterface(t.p.v):n()}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var i,n=[],s=e.data.ef,a=e.effectsManager.effectElements.length;for(i=0;i<a;i+=1)n.push(t(s[i],e.effectsManager.effectElements[i],r,e));return function(t){for(var r=e.data.ef||[],i=0,s=r.length;i<s;){if(t===r[i].nm||t===r[i].mn||t===r[i].ix)return n[i];i+=1}}}}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e,r){var i,n=createSizedArray(e.viewData.length),s=e.viewData.length;for(i=0;i<s;i+=1)n[i]=new t(e.viewData[i],e.masksProperties[i]);return function(t){for(i=0;i<s;){if(e.masksProperties[i].nm===t)return n[i];i+=1}}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,e,r){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(i){if(t.numKeys){var n;n="s"in e.keyframes[i-1]?e.keyframes[i-1].s:"e"in e.keyframes[i-2]?e.keyframes[i-2].e:e.keyframes[i-2].s;var s="unidimensional"===r?new Number(n):Object.assign({},n);return s.time=e.keyframes[i-1].t/e.elem.comp.globalData.frameRate,s}return 0},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function i(){return t}return function(n){return n?"unidimensional"===n.propType?function(e){e&&"pv"in e||(e=t);var i=1/e.mult,n=e.pv*i,s=new Number(n);return s.value=n,r(s,e,"unidimensional"),function(){return e.k&&e.getValue(),n=e.v*i,s.value!==n&&((s=new Number(n)).value=n,r(s,e,"unidimensional")),s}}(n):function(t){t&&"pv"in t||(t=e);var i=1/t.mult,n=t.pv.length,s=createTypedArray("float32",n),a=createTypedArray("float32",n);return s.value=a,r(s,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<n;e+=1)s[e]=a[e]=t.v[e]*i;return s}}(n):i}}(),TextExpressionSelectorProp,propertyGetTextProp;function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(t,e){var r=t.ef||[];this.effectElements=[];var i,n,s=r.length;for(i=0;i<s;i++)n=new GroupEffect(r[i],e),this.effectElements.push(n)}function GroupEffect(t,e){this.init(t,e)}TextExpressionSelectorProp=function(){function t(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}return function(e,r){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=r.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,r,this),this.getMult=t,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(t,e,r){return 1===e.t?new TextExpressionSelectorProp(t,e,r):propertyGetTextProp(t,e,r)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,i,n=this.data.ef.length,s=this.data.ef;for(r=0;r<n;r+=1){switch(i=null,s[r].ty){case 0:i=new SliderEffect(s[r],e,this);break;case 1:i=new AngleEffect(s[r],e,this);break;case 2:i=new ColorEffect(s[r],e,this);break;case 3:i=new PointEffect(s[r],e,this);break;case 4:case 7:i=new CheckboxEffect(s[r],e,this);break;case 10:i=new LayerIndexEffect(s[r],e,this);break;case 11:i=new MaskIndexEffect(s[r],e,this);break;case 5:i=new EffectsManager(s[r],e,this);break;default:i=new NoValueEffect(s[r],e,this)}i&&this.effectElements.push(i)}};var lottiejs={},_isFrozen=!1;function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r++){var i=e[r].split("=");if(decodeURIComponent(i[0])==t)return decodeURIComponent(i[1])}}lottiejs.play=animationManager.play,lottiejs.pause=animationManager.pause,lottiejs.setLocationHref=setLocationHref,lottiejs.togglePause=animationManager.togglePause,lottiejs.setSpeed=animationManager.setSpeed,lottiejs.setDirection=animationManager.setDirection,lottiejs.stop=animationManager.stop,lottiejs.searchAnimations=searchAnimations,lottiejs.registerAnimation=animationManager.registerAnimation,lottiejs.loadAnimation=loadAnimation,lottiejs.setSubframeRendering=setSubframeRendering,lottiejs.resize=animationManager.resize,lottiejs.goToAndStop=animationManager.goToAndStop,lottiejs.destroy=animationManager.destroy,lottiejs.setQuality=setQuality,lottiejs.inBrowser=inBrowser,lottiejs.installPlugin=installPlugin,lottiejs.freeze=animationManager.freeze,lottiejs.unfreeze=animationManager.unfreeze,lottiejs.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottiejs.__getFactory=getFactory,lottiejs.version="5.5.9";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottiejs}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));var i,n,s,a,o,l,u,h=function(){return"undefined"!=typeof window},c=function(){return i||h()&&(i=window.gsap)&&i.registerPlugin&&i},p=function(t){return"string"==typeof t},d=function(t,e){var r="x"===e?"Width":"Height",i="scroll"+r,n="client"+r;return t===s||t===a||t===o?Math.max(a[i],o[i])-(s["inner"+r]||a[n]||o[n]):t[i]-t["offset"+r]},f=function(t,e){var r="scroll"+("x"===e?"Left":"Top");return t===s&&(null!=t.pageXOffset?r="page"+e.toUpperCase()+"Offset":t=null!=a[r]?a:o),function(){return t[r]}},m=function(t,e){var r=l(t)[0].getBoundingClientRect(),i=!e||e===s||e===o,n=i?{top:a.clientTop-(s.pageYOffset||a.scrollTop||o.scrollTop||0),left:a.clientLeft-(s.pageXOffset||a.scrollLeft||o.scrollLeft||0)}:e.getBoundingClientRect(),u={x:r.left-n.left,y:r.top-n.top};return!i&&e&&(u.x+=f(e,"x")(),u.y+=f(e,"y")()),u},g=function(t,e,r,i){return isNaN(t)?p(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+i:"max"===t?d(e,r):Math.min(d(e,r),m(t,e)[r]):parseFloat(t)},y=function(){i=c(),h()&&i&&document.body&&(s=window,o=document.body,a=document.documentElement,l=i.utils.toArray,i.config({autoKillThreshold:7}),u=i.config(),n=1)},v={version:"3.0.4",name:"scrollTo",rawVars:1,register:function(t){i=t,y()},init:function(t,e,r,i,a){n||y(),this.isWin=t===s,this.target=t,this.tween=r,"object"!=typeof e?p((e={y:e}).y)&&"max"!==e.y&&"="!==e.y.charAt(1)&&(e.x=e.y):e.nodeType&&(e={y:e,x:e}),this.vars=e,this.autoKill=!!e.autoKill,this.getX=f(t,"x"),this.getY=f(t,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=e.x?(this.add(this,"x",this.x,g(e.x,t,"x",this.x)-(e.offsetX||0),i,a,Math.round),this._props.push("scrollTo_x")):this.skipX=1,null!=e.y?(this.add(this,"y",this.y,g(e.y,t,"y",this.y)-(e.offsetY||0),i,a,Math.round),this._props.push("scrollTo_y")):this.skipY=1},render:function(t,e){for(var r,i,n,a,o,l=e._pt,h=e.target,c=e.tween,p=e.autoKill,f=e.xPrev,m=e.yPrev,g=e.isWin;l;)l.r(t,l.d),l=l._next;r=g||!e.skipX?e.getX():f,n=(i=g||!e.skipY?e.getY():m)-m,a=r-f,o=u.autoKillThreshold,e.x<0&&(e.x=0),e.y<0&&(e.y=0),p&&(!e.skipX&&(a>o||a<-o)&&r<d(h,"x")&&(e.skipX=1),!e.skipY&&(n>o||n<-o)&&i<d(h,"y")&&(e.skipY=1),e.skipX&&e.skipY&&(c.kill(),e.vars.onAutoKill&&e.vars.onAutoKill.apply(c,e.vars.onAutoKillParams||[]))),g?s.scrollTo(e.skipX?r:e.x,e.skipY?i:e.y):(e.skipY||(h.scrollTop=e.y),e.skipX||(h.scrollLeft=e.x)),e.xPrev=e.x,e.yPrev=e.y},kill:function(t){var e="scrollTo"===t;(e||"scrollTo_x"===t)&&(this.skipX=1),(e||"scrollTo_y"===t)&&(this.skipY=1)}};v.max=d,v.getOffset=m,v.buildGetter=f,c()&&i.registerPlugin(v)},function(t,e,r){"use strict";const i=/iPhone/i,n=/iPod/i,s=/iPad/i,a=/\bAndroid(?:.+)Mobile\b/i,o=/Android/i,l=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,u=/Silk/i,h=/Windows Phone/i,c=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,d=/BB10/i,f=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i;function y(t,e){return t.test(e)}function v(t){let e=(t=t||("undefined"!=typeof navigator?navigator.userAgent:"")).split("[FBAN");void 0!==e[1]&&(t=e[0]),void 0!==(e=t.split("Twitter"))[1]&&(t=e[0]);const r={apple:{phone:y(i,t)&&!y(h,t),ipod:y(n,t),tablet:!y(i,t)&&y(s,t)&&!y(h,t),device:(y(i,t)||y(n,t)||y(s,t))&&!y(h,t)},amazon:{phone:y(l,t),tablet:!y(l,t)&&y(u,t),device:y(l,t)||y(u,t)},android:{phone:!y(h,t)&&y(l,t)||!y(h,t)&&y(a,t),tablet:!y(h,t)&&!y(l,t)&&!y(a,t)&&(y(u,t)||y(o,t)),device:!y(h,t)&&(y(l,t)||y(u,t)||y(a,t)||y(o,t))||y(/\bokhttp\b/i,t)},windows:{phone:y(h,t),tablet:y(c,t),device:y(h,t)||y(c,t)},other:{blackberry:y(p,t),blackberry10:y(d,t),opera:y(f,t),firefox:y(g,t),chrome:y(m,t),device:y(p,t)||y(d,t)||y(f,t)||y(g,t)||y(m,t)},any:!1,phone:!1,tablet:!1};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}r.d(e,"a",(function(){return v}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";var i=r(8),n=r(68),s=r(220),a=r(45);function o(t){var e=new s(t),r=n(s.prototype.request,e);return i.extend(r,s.prototype,e),i.extend(r,e),r}var l=o(a);l.Axios=s,l.create=function(t){return o(i.merge(a,t))},l.Cancel=r(72),l.CancelToken=r(234),l.isCancel=r(71),l.all=function(t){return Promise.all(t)},l.spread=r(235),t.exports=l,t.exports.default=l},function(t,e){t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,r){"use strict";var i=r(45),n=r(8),s=r(229),a=r(230);function o(t){this.defaults=t,this.interceptors={request:new s,response:new s}}o.prototype.request=function(t){"string"==typeof t&&(t=n.merge({url:arguments[0]},arguments[1])),(t=n.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)r=r.then(e.shift(),e.shift());return r},n.forEach(["delete","get","head","options"],(function(t){o.prototype[t]=function(e,r){return this.request(n.merge(r||{},{method:t,url:e}))}})),n.forEach(["post","put","patch"],(function(t){o.prototype[t]=function(e,r,i){return this.request(n.merge(i||{},{method:t,url:e,data:r}))}})),t.exports=o},function(t,e){var r,i,n=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,u=[],h=!1,c=-1;function p(){h&&l&&(h=!1,l.length?u=l.concat(u):c=-1,u.length&&d())}function d(){if(!h){var t=o(p);h=!0;for(var e=u.length;e;){for(l=u,u=[];++c<e;)l&&l[c].run();c=-1,e=u.length}l=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||h||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){"use strict";var i=r(8);t.exports=function(t,e){i.forEach(t,(function(r,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[i])}))}},function(t,e,r){"use strict";var i=r(70);t.exports=function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(i("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,i,n){return t.config=e,r&&(t.code=r),t.request=i,t.response=n,t}},function(t,e,r){"use strict";var i=r(8);function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var s;if(r)s=r(e);else if(i.isURLSearchParams(e))s=e.toString();else{var a=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(n(e)+"="+n(t))})))})),s=a.join("&")}return s&&(t+=(-1===t.indexOf("?")?"?":"&")+s),t}},function(t,e,r){"use strict";var i=r(8),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,s,a={};return t?(i.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=i.trim(t.substr(0,s)).toLowerCase(),r=i.trim(t.substr(s+1)),e){if(a[e]&&n.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}})),a):a}},function(t,e,r){"use strict";var i=r(8);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(t){var i=t;return e&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=n(window.location.href),function(e){var r=i.isString(e)?n(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var i=r(8);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,r,n,s,a){var o=[];o.push(t+"="+encodeURIComponent(e)),i.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),i.isString(n)&&o.push("path="+n),i.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var i=r(8);function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n},function(t,e,r){"use strict";var i=r(8),n=r(231),s=r(71),a=r(45),o=r(232),l=r(233);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!o(t.url)&&(t.url=l(t.baseURL,t.url)),t.headers=t.headers||{},t.data=n(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=n(e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(u(t),e&&e.response&&(e.response.data=n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,r){"use strict";var i=r(8);t.exports=function(t,e,r){return i.forEach(r,(function(r){t=r(t,e)})),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var i=r(72);function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new i(t),e(r.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n((function(e){t=e})),cancel:t}},t.exports=n},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(237),o=s(r(30)),l=s(r(31)),u=s(r(74)),h=s(r(239)),c=s(r(240)),p=s(r(73)),d={div:!0,p:!0,li:!0,td:!0,section:!0,br:!0},f=function(t){function e(e,r,i,n){void 0===i&&(i=""),void 0===n&&(n=null);var s=t.call(this)||this;return s.tagName=e,s.rawAttrs=i,s.parentNode=n,s.classNames=[],s.nodeType=l.default.ELEMENT_NODE,s.rawAttrs=i||"",s.parentNode=n||null,s.childNodes=[],r.id&&(s.id=r.id),r.class&&(s.classNames=r.class.split(/\s+/)),s}return n(e,t),e.prototype.removeChild=function(t){this.childNodes=this.childNodes.filter((function(e){return e!==t}))},e.prototype.exchangeChild=function(t,e){for(var r=-1,i=0;i<this.childNodes.length;i++)if(this.childNodes[i]===t){r=i;break}this.childNodes[r]=e},Object.defineProperty(e.prototype,"rawText",{get:function(){return this.childNodes.reduce((function(t,e){return t+e.rawText}),"")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return a.decode(this.rawText)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"structuredText",{get:function(){var t=[],e=[t];return function r(i){if(i.nodeType===l.default.ELEMENT_NODE)d[i.tagName]?(t.length>0&&e.push(t=[]),i.childNodes.forEach(r),t.length>0&&e.push(t=[])):i.childNodes.forEach(r);else if(i.nodeType===l.default.TEXT_NODE)if(i.isWhitespace)t.prependWhitespace=!0;else{var n=i.text;t.prependWhitespace&&(n=" "+n,t.prependWhitespace=!1),t.push(n)}}(this),e.map((function(t){return t.join("").trim().replace(/\s{2,}/g," ")})).join("\n").replace(/\s+$/,"")},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var t=this.tagName;if(t){var e=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/i.test(t),r=this.rawAttrs?" "+this.rawAttrs:"";return e?"<"+t+r+">":"<"+t+r+">"+this.innerHTML+"</"+t+">"}return this.innerHTML},Object.defineProperty(e.prototype,"innerHTML",{get:function(){return this.childNodes.map((function(t){return t.toString()})).join("")},enumerable:!0,configurable:!0}),e.prototype.set_content=function(t,e){if(void 0===e&&(e={}),t instanceof o.default)t=[t];else if("string"==typeof t){var r=S(t,e);t=r.childNodes.length?r.childNodes:[new u.default(t)]}this.childNodes=t},Object.defineProperty(e.prototype,"outerHTML",{get:function(){return this.toString()},enumerable:!0,configurable:!0}),e.prototype.trimRight=function(t){for(var e=0;e<this.childNodes.length;e++){var r=this.childNodes[e];if(r.nodeType===l.default.ELEMENT_NODE)r.trimRight(t);else{var i=r.rawText.search(t);i>-1&&(r.rawText=r.rawText.substr(0,i),this.childNodes.length=e+1)}}return this},Object.defineProperty(e.prototype,"structure",{get:function(){var t=[],e=0;function r(r){t.push("  ".repeat(e)+r)}return function t(i){var n=i.id?"#"+i.id:"",s=i.classNames.length?"."+i.classNames.join("."):"";r(i.tagName+n+s),e++,i.childNodes.forEach((function(e){e.nodeType===l.default.ELEMENT_NODE?t(e):e.nodeType===l.default.TEXT_NODE&&(e.isWhitespace||r("#text"))})),e--}(this),t.join("\n")},enumerable:!0,configurable:!0}),e.prototype.removeWhitespace=function(){var t=this,e=0;return this.childNodes.forEach((function(r){if(r.nodeType===l.default.TEXT_NODE){if(r.isWhitespace)return;r.rawText=r.rawText.trim()}else r.nodeType===l.default.ELEMENT_NODE&&r.removeWhitespace();t.childNodes[e++]=r})),this.childNodes.length=e,this},e.prototype.querySelectorAll=function(t){var e,r=this;if(t instanceof h.default)(e=t).reset();else{if(t.includes(",")){var i=t.split(",");return Array.from(i.reduce((function(t,e){return r.querySelectorAll(e.trim()).reduce((function(t,e){return t.add(e)}),t)}),new Set))}e=new h.default(t)}var n=[];return this.childNodes.reduce((function(r,i){for(n.push([i,0,!1]);n.length;){var s=c.default(n),a=s[0];if(0===s[1]){if(a.nodeType!==l.default.ELEMENT_NODE){n.pop();continue}var o=a;if(s[2]=e.advance(o),s[2]&&e.matched){r.push(o),r.push.apply(r,o.querySelectorAll(t)),e.rewind(),n.pop();continue}}s[1]<a.childNodes.length?n.push([a.childNodes[s[1]++],0,!1]):(s[2]&&e.rewind(),n.pop())}return r}),[])},e.prototype.querySelector=function(t){var e;t instanceof h.default?(e=t).reset():e=new h.default(t);for(var r=[],i=0,n=this.childNodes;i<n.length;i++){var s=n[i];for(r.push([s,0,!1]);r.length;){var a=c.default(r),o=a[0];if(0===a[1]){if(o.nodeType!==l.default.ELEMENT_NODE){r.pop();continue}if(a[2]=e.advance(o),a[2]&&e.matched)return o}a[1]<o.childNodes.length?r.push([o.childNodes[a[1]++],0,!1]):(a[2]&&e.rewind(),r.pop())}}return null},e.prototype.appendChild=function(t){return this.childNodes.push(t),t instanceof e&&(t.parentNode=this),t},Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.childNodes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return c.default(this.childNodes)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){if(this._attrs)return this._attrs;this._attrs={};var t=this.rawAttributes;for(var e in t){var r=t[e]||"";this._attrs[e]=a.decode(r)}return this._attrs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawAttributes",{get:function(){if(this._rawAttrs)return this._rawAttrs;var t={};if(this.rawAttrs)for(var e=/\b([a-z][a-z0-9\-]*)(?:\s*=\s*(?:"([^"]*)"|'([^']*)'|(\S+)))?/gi,r=void 0;r=e.exec(this.rawAttrs);)t[r[1]]=r[2]||r[3]||r[4]||null;return this._rawAttrs=t,t},enumerable:!0,configurable:!0}),e.prototype.removeAttribute=function(t){var e=this.rawAttributes;delete e[t],this._attrs&&delete this._attrs[t],this.rawAttrs=Object.keys(e).map((function(t){var r=JSON.stringify(e[t]);return void 0===r||"null"===r?t:t+"="+r})).join(" ")},e.prototype.hasAttribute=function(t){return t in this.attributes},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.setAttribute=function(t,e){if(arguments.length<2)throw new Error("Failed to execute 'setAttribute' on 'Element'");var r=this.rawAttributes;r[t]=String(e),this._attrs&&(this._attrs[t]=a.decode(r[t])),this.rawAttrs=Object.keys(r).map((function(t){var e=JSON.stringify(r[t]);return void 0===e||"null"===e?t:t+"="+e})).join(" ")},e.prototype.setAttributes=function(t){this._attrs&&delete this._attrs,this._rawAttrs&&delete this._rawAttrs,this.rawAttrs=Object.keys(t).map((function(e){var r=t[e];return null==r?e:e+"="+JSON.stringify(String(r))})).join(" ")},e.prototype.insertAdjacentHTML=function(t,e){var r,i,n=this;if(arguments.length<2)throw new Error("2 arguments required");var s=S(e);if("afterend"===t)s.childNodes.forEach((function(t){n.parentNode.appendChild(t)}));else if("afterbegin"===t)(r=this.childNodes).unshift.apply(r,s.childNodes);else if("beforeend"===t)s.childNodes.forEach((function(t){n.appendChild(t)}));else{if("beforebegin"!==t)throw new Error("The value provided ('"+t+"') is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'");(i=this.parentNode.childNodes).unshift.apply(i,s.childNodes)}},e}(o.default);e.default=f;var m=/<!--[^]*?(?=-->)-->|<(\/?)([a-z][-.:0-9_a-z]*)\s*([^>]*?)(\/?)>/gi,g=/(^|\s)(id|class)\s*=\s*("([^"]+)"|'([^']+)'|(\S+))/gi,y={area:!0,base:!0,br:!0,col:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,source:!0},v={li:{li:!0},p:{p:!0,div:!0},b:{div:!0},td:{td:!0,th:!0},th:{td:!0,th:!0},h1:{h1:!0},h2:{h2:!0},h3:{h3:!0},h4:{h4:!0},h5:{h5:!0},h6:{h6:!0}},_={li:{ul:!0,ol:!0},a:{div:!0},b:{div:!0},i:{div:!0},p:{div:!0},td:{tr:!0,table:!0},th:{tr:!0,table:!0}},b={script:!0,noscript:!0,style:!0,pre:!0},T="documentfragmentcontainer";function S(t,e){void 0===e&&(e={});var r,i=new f(null,{}),n=i,s=[i],a=-1;t="<"+T+">"+t+"</"+T+">";for(var o=function(){if(a>-1&&a+r[0].length<m.lastIndex){var i=t.substring(a,m.lastIndex-r[0].length);n.appendChild(new u.default(i))}if(a=m.lastIndex,r[2]===T)return"continue";if("!"===r[0][1])return e.comment&&(i=t.substring(a-3,a-r[0].length+4),n.appendChild(new p.default(i))),"continue";if(e.lowerCaseTagName&&(r[2]=r[2].toLowerCase()),!r[1]){for(var o={},l=void 0;l=g.exec(r[3]);)o[l[2]]=l[4]||l[5]||l[6];var h=n.tagName;if(!r[4]&&v[h]&&v[h][r[2]]&&(s.pop(),n=c.default(s)),n=n.appendChild(new f(r[2],o,r[3])),s.push(n),b[r[2]]){var d="</"+r[2]+">",S=e.lowerCaseTagName?t.toLocaleLowerCase().indexOf(d,m.lastIndex):t.indexOf(d,m.lastIndex);e[r[2]]&&(i=void 0,(i=-1===S?t.substr(m.lastIndex):t.substring(m.lastIndex,S)).length>0&&n.appendChild(new u.default(i))),-1===S?a=m.lastIndex=t.length+1:(a=m.lastIndex=S+d.length,r[1]="true")}}if(r[1]||r[4]||y[r[2]])for(;;){if(n.tagName===r[2]){s.pop(),n=c.default(s);break}if(h=n.tagName,!_[h]||!_[h][r[2]])break;s.pop(),n=c.default(s)}};r=m.exec(t);)o();var l,h=!(1!==s.length);if(e.noFix)return(l=new u.default(t)).valid=h,l;(l=i).valid=h;for(var d=function(){var t=s.pop(),e=c.default(s);t.parentNode&&t.parentNode.parentNode&&(t.parentNode===e&&t.tagName===e.tagName?(e.removeChild(t),t.childNodes.forEach((function(t){e.parentNode.appendChild(t)})),s.pop()):(e.removeChild(t),t.childNodes.forEach((function(t){e.appendChild(t)}))))};s.length>1;)d();return l.childNodes.forEach((function(t){t instanceof f&&(t.parentNode=null)})),l}e.parse=S},function(t,e,r){(function(t,i){var n;!function(s){var a=(t&&t.exports,"object"==typeof i&&i);a.global!==a&&a.window;var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[\x01-\x7F]/g,u=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,h=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,c={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},p=/["&'<>`]/g,d={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},f=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,y={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},v={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},_={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},b=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],T=String.fromCharCode,S={}.hasOwnProperty,E=function(t,e){return S.call(t,e)},w=function(t,e){if(!t)return e;var r,i={};for(r in e)i[r]=E(t,r)?t[r]:e[r];return i},k=function(t,e){var r="";return t>=55296&&t<=57343||t>1114111?(e&&A("character reference outside the permissible Unicode range"),"�"):E(_,t)?(e&&A("disallowed character reference"),_[t]):(e&&function(t,e){for(var r=-1,i=t.length;++r<i;)if(t[r]==e)return!0;return!1}(b,t)&&A("disallowed character reference"),t>65535&&(r+=T((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=T(t))},x=function(t){return"&#x"+t.toString(16).toUpperCase()+";"},C=function(t){return"&#"+t+";"},A=function(t){throw Error("Parse error: "+t)},P=function(t,e){(e=w(e,P.options)).strict&&m.test(t)&&A("forbidden code point");var r=e.encodeEverything,i=e.useNamedReferences,n=e.allowUnsafeSymbols,s=e.decimal?C:x,a=function(t){return s(t.charCodeAt(0))};return r?(t=t.replace(l,(function(t){return i&&E(c,t)?"&"+c[t]+";":a(t)})),i&&(t=t.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),i&&(t=t.replace(h,(function(t){return"&"+c[t]+";"})))):i?(n||(t=t.replace(p,(function(t){return"&"+c[t]+";"}))),t=(t=t.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(h,(function(t){return"&"+c[t]+";"}))):n||(t=t.replace(p,a)),t.replace(o,(function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return s(1024*(e-55296)+r-56320+65536)})).replace(u,a)};P.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var D=function(t,e){var r=(e=w(e,D.options)).strict;return r&&f.test(t)&&A("malformed character reference"),t.replace(g,(function(t,i,n,s,a,o,l,u){var h,c,p,d,f,m;return i?(p=i,c=n,r&&!c&&A("character reference was not terminated by a semicolon"),h=parseInt(p,10),k(h,r)):s?(d=s,c=a,r&&!c&&A("character reference was not terminated by a semicolon"),h=parseInt(d,16),k(h,r)):o?E(y,f=o)?y[f]:(r&&A("named character reference was not terminated by a semicolon"),t):(f=l,(m=u)&&e.isAttributeValue?(r&&"="==m&&A("`&` did not start a character reference"),t):(r&&A("named character reference was not terminated by a semicolon"),v[f]+(m||"")))}))};D.options={isAttributeValue:!1,strict:!1};var I={version:"1.1.1",encode:P,decode:D,escape:function(t){return t.replace(p,(function(t){return d[t]}))},unescape:D};void 0===(n=function(){return I}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(238)(t),r(16))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={},n={f145:function(t,e,r){if(e=e||"",r=r||[],t.id!==e.substr(1))return!1;for(var i=r,n=0;n<i.length;n++)if(-1===t.classNames.indexOf(i[n]))return!1;return!0},f45:function(t,e,r){e=e||"";for(var i=r=r||[],n=0;n<i.length;n++)if(-1===t.classNames.indexOf(i[n]))return!1;return!0},f15:function(t,e){return e=e||"",t.id===e.substr(1)},f1:function(t,e){if(e=e||"",t.id!==e.substr(1))return!1},f5:function(){return!0},f55:function(t,e,r,i){return e=e||"",r=r||[],i=i||"",t.attributes.hasOwnProperty(i)},f245:function(t,e,r,i,n){e=e||"",r=r||[],i=i||"",n=n||"";var s=t.attributes;return Object.keys(s).some((function(t){var e=s[t];return t===i&&e===n}))},f25:function(t,e,r,i,n){e=e||"",r=r||[],i=i||"",n=n||"";var s=t.attributes;return Object.keys(s).some((function(t){var e=s[t];return t===i&&e===n}))},f2:function(t,e,r,i,n){e=e||"",r=r||[],i=i||"",n=n||"";var s=t.attributes;return Object.keys(s).some((function(t){var e=s[t];return t===i&&e===n}))},f345:function(t,e,r){if(e=e||"",r=r||[],t.tagName!==e)return!1;for(var i=r,n=0;n<i.length;n++)if(-1===t.classNames.indexOf(i[n]))return!1;return!0},f35:function(t,e){return e=e||"",t.tagName===e},f3:function(t,e){if(e=e||"",t.tagName!==e)return!1}},s=function(){function t(t){this.nextMatch=0,n.f5=n.f5,this.matchers=t.split(" ").map((function(t){if(i[t])return i[t];var e=t.split("."),r=e[0],s=e.slice(1).sort(),a="f",o="",l="";if(r&&"*"!==r){var u=void 0;if(r.startsWith("#"))a+="1";else if(u=/^\[\s*(\S+)\s*(=|!=)\s*((((["'])([^\6]*)\6))|(\S*?))\]\s*/.exec(r)){o=u[1];var h=u[2];if("="!==h&&"!="!==h)throw new Error("Selector not supported, Expect [key${op}value].op must be =,!=");"="===h&&(h="=="),l=u[7]||u[8],a+="2"}else(u=/^\[(.*?)\]/.exec(r))?(o=u[1],a+="5"):a+="3"}s.length>0&&(a+="4");var c={func:n[a+="5"],tagName:r||"",classes:s||"",attr_key:o||"",value:l||""};return i[t]=c}))}return t.prototype.advance=function(t){return!!(this.nextMatch<this.matchers.length&&this.matchers[this.nextMatch].func(t,this.matchers[this.nextMatch].tagName,this.matchers[this.nextMatch].classes,this.matchers[this.nextMatch].attr_key,this.matchers[this.nextMatch].value))&&(this.nextMatch++,!0)},t.prototype.rewind=function(){this.nextMatch--},Object.defineProperty(t.prototype,"matched",{get:function(){return this.nextMatch===this.matchers.length},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.nextMatch=0},t.prototype.flushCache=function(){i={}},t}();e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t[t.length-1]}},,function(t,e,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,r(16))},function(t,e){t.exports=function(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},function(t,e,r){var i=r(3),n=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function s(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function a(t){function e(t,e,r,i){return 3600*(0|t)+60*(0|e)+(0|r)+(0|i)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function o(){this.values=n(null)}function l(t,e,r,i){var n=i?t.split(i):[t];for(var s in n)if("string"==typeof n[s]){var a=n[s].split(r);2===a.length&&e(a[0],a[1])}}function u(t,e,r){var i=t;function n(){var e=a(t);if(null===e)throw new s(s.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function u(){t=t.replace(/^\s+/,"")}if(u(),e.startTime=n(),u(),"--\x3e"!==t.substr(0,3))throw new s(s.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),u(),e.endTime=n(),u(),function(t,e){var i=new o;l(t,(function(t,e){switch(t){case"region":for(var n=r.length-1;n>=0;n--)if(r[n].id===e){i.set(t,r[n].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var s=e.split(","),a=s[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===s.length&&i.alt("lineAlign",s[1],["start","center","end"]);break;case"position":s=e.split(","),i.percent(t,s[0]),2===s.length&&i.alt("positionAlign",s[1],["start","center","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","center","end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");try{e.line=i.get("line","auto")}catch(t){}e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100);try{e.align=i.get("align","center")}catch(t){e.align=i.get("align","middle")}try{e.position=i.get("position","auto")}catch(t){e.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(t,e)}s.prototype=n(Error.prototype),s.prototype.constructor=s,s.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var h=i.createElement("textarea"),c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},p={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},d={v:"title",lang:"lang"},f={rt:"ruby"};function m(t,e){function r(){if(!e)return null;var t,r=e.match(/^([^<]*)(<[^>]*>?)?/);return t=r[1]?r[1]:r[2],e=e.substr(t.length),t}function i(t,e){return!f[e.localName]||f[e.localName]===t.localName}function n(e,r){var i=c[e];if(!i)return null;var n=t.document.createElement(i),s=d[e];return s&&r&&(n[s]=r.trim()),n}for(var s,o,l=t.document.createElement("div"),u=l,m=[];null!==(s=r());)if("<"!==s[0])u.appendChild(t.document.createTextNode((o=s,h.innerHTML=o,o=h.textContent,h.textContent="",o)));else{if("/"===s[1]){m.length&&m[m.length-1]===s.substr(2).replace(">","")&&(m.pop(),u=u.parentNode);continue}var g,y=a(s.substr(1,s.length-2));if(y){g=t.document.createProcessingInstruction("timestamp",y),u.appendChild(g);continue}var v=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(!(g=n(v[1],v[3])))continue;if(!i(u,g))continue;if(v[2]){var _=v[2].split(".");_.forEach((function(t){var e=/^bg_/.test(t),r=e?t.slice(3):t;if(p.hasOwnProperty(r)){var i=e?"background-color":"color",n=p[r];g.style[i]=n}})),g.className=_.join(" ")}m.push(v[1]),u.appendChild(g),u=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function y(t){for(var e=0;e<g.length;e++){var r=g[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function v(t){var e=[],r="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var r=e.childNodes.length-1;r>=0;r--)t.push(e.childNodes[r])}function n(t){if(!t||!t.length)return null;var e=t.pop(),r=e.textContent||e.innerText;if(r){var s=r.match(/^.*(\n|\r)/);return s?(t.length=0,s[0]):r}return"ruby"===e.tagName?n(t):e.childNodes?(i(t,e),n(t)):void 0}for(i(e,t);r=n(e);)for(var s=0;s<r.length;s++)if(y(r.charCodeAt(s)))return"rtl";return"ltr"}function _(){}function b(t,e,r){_.call(this),this.cue=e,this.cueDiv=m(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:v(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var n=0;switch(e.positionAlign){case"start":n=e.position;break;case"center":n=e.position-e.size/2;break;case"end":n=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function T(t){var e,r,i,n;if(t.div){r=t.div.offsetHeight,i=t.div.offsetWidth,n=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||r,this.bottom=t.bottom||n+(t.height||r),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function S(t,e,r,i){var n=new T(e),s=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,i=0,n=0;n<r.length&&r[n]!==e;n++)"showing"===r[n].mode&&i++;return-1*++i}(s),o=[];if(s.snapToLines){var l;switch(s.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width"}var u=n.lineHeight,h=u*Math.round(a),c=r[l]+u,p=o[0];Math.abs(h)>c&&(h=h<0?-1:1,h*=Math.ceil(c/u)*u),a<0&&(h+=""===s.vertical?r.height:r.width,o=o.reverse()),n.move(p,h)}else{var d=n.lineHeight/r.height*100;switch(s.lineAlign){case"center":a-=d/2;break;case"end":a-=d}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],n=new T(e)}var f=function(t,e){for(var n,s=new T(t),a=1,o=0;o<e.length;o++){for(;t.overlapsOppositeAxis(r,e[o])||t.within(r)&&t.overlapsAny(i);)t.move(e[o]);if(t.within(r))return t;var l=t.intersectPercentage(r);a>l&&(n=new T(t),a=l),t=new T(s)}return n||s}(n,o);e.move(f.toCSSCompatValues(r))}function E(){}_.prototype.applyStyles=function(t,e){for(var r in e=e||this.div,t)t.hasOwnProperty(r)&&(e.style[r]=t[r])},_.prototype.formatStyle=function(t,e){return 0===t?0:t+e},b.prototype=n(_.prototype),b.prototype.constructor=b,T.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},T.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},T.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},T.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},T.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},T.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},T.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},T.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||r}},E.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},E.convertCueToDOMTree=function(t,e){return t&&e?m(t,e):null},E.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",r.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var n=[],s=T.getSimpleBoxPosition(i),a={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var r,o,l=0;l<e.length;l++)o=e[l],r=new b(t,o,a),i.appendChild(r.div),S(0,r,s,n),o.displayState=r.div,n.push(T.getSimpleBoxPosition(r))}()}else for(var o=0;o<e.length;o++)i.appendChild(e[o].displayState)},E.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},E.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof s))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function r(){for(var t=e.buffer,r=0;r<t.length&&"\r"!==t[r]&&"\n"!==t[r];)++r;var i=t.substr(0,r);return"\r"===t[r]&&++r,"\n"===t[r]&&++r,e.buffer=t.substr(r),i}function i(t){t.match(/X-TIMESTAMP-MAP/)?l(t,(function(t,r){switch(t){case"X-TIMESTAMP-MAP":!function(t){var r=new o;l(t,(function(t,e){switch(t){case"MPEGT":r.integer(t+"S",e);break;case"LOCA":r.set(t+"L",a(e))}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:r.get("MPEGTS"),LOCAL:r.get("LOCAL")})}(r)}}),/=/):l(t,(function(t,r){switch(t){case"Region":!function(t){var r=new o;if(l(t,(function(t,e){switch(t){case"id":r.set(t,e);break;case"width":r.percent(t,e);break;case"lines":r.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var n=new o;if(n.percent("x",i[0]),n.percent("y",i[1]),!n.has("x")||!n.has("y"))break;r.set(t+"X",n.get("x")),r.set(t+"Y",n.get("y"));break;case"scroll":r.alt(t,e,["up"])}}),/=/,/\s/),r.has("id")){var i=new(e.vttjs.VTTRegion||e.window.VTTRegion);i.width=r.get("width",100),i.lines=r.get("lines",3),i.regionAnchorX=r.get("regionanchorX",0),i.regionAnchorY=r.get("regionanchorY",100),i.viewportAnchorX=r.get("viewportanchorX",0),i.viewportAnchorY=r.get("viewportanchorY",100),i.scroll=r.get("scroll",""),e.onregion&&e.onregion(i),e.regionList.push({id:r.get("id"),region:i})}}(r)}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var n;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var h=(n=r()).match(/^WEBVTT([ \t].*)?$/);if(!h||!h[0])throw new s(s.Errors.BadSignature);e.state="HEADER"}for(var c=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(c?c=!1:n=r(),e.state){case"HEADER":/:/.test(n)?i(n):n||(e.state="ID");continue;case"NOTE":n||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){e.state="NOTE";break}if(!n)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(t){e.cue.align="middle"}if(e.state="CUE",-1===n.indexOf("--\x3e")){e.cue.id=n;continue}case"CUE":try{u(n,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var p=-1!==n.indexOf("--\x3e");if(!n||p&&(c=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=n.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":n||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new s(s.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.exports=E},function(t,e){var r={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function n(t){return"string"==typeof t&&!!i[t.toLowerCase()]&&t.toLowerCase()}function s(t,e,i){this.hasBeenReset=!1;var s="",a=!1,o=t,l=e,u=i,h=null,c="",p=!0,d="auto",f="start",m="auto",g="auto",y=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return s},set:function(t){s=""+t}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(t){a=!!t}},startTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");o=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");l=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(t){u=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(t){var e=function(t){return"string"==typeof t&&!!r[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(t){p=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(t){var e=n(t);e?(f=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");m=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(t){var e=n(t);e?(g=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(t){var e=n(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=e,this.hasBeenReset=!0}}}),this.displayState=void 0}s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=s},function(t,e){var r={"":!0,up:!0};function i(t){return"number"==typeof t&&t>=0&&t<=100}t.exports=function(){var t=100,e=3,n=0,s=100,a=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!i(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!i(t))throw new Error("RegionAnchorX must be between 0 and 100.");s=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!i(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!i(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!i(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=function(t){return"string"==typeof t&&!!r[t.toLowerCase()]&&t.toLowerCase()}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):l=e}}})}},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e,r){"use strict";(function(t){var i=r(249),n=r(250),s=r(251);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return u(this,t,e,r)}function u(t,e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i),l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=p(t,e),t}(t,e,r,i):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(e,r),n=(t=o(t,i)).write(e,r);return n!==i&&(t=t.slice(0,n)),t}(t,e,r):function(t,e){if(l.isBuffer(e)){var r=0|d(e.length);return 0===(t=o(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?o(t,0):p(t,e);if("Buffer"===e.type&&s(e.data))return p(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(h(e),t=o(t,e<0?0:0|d(e)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function p(t,e){var r=e.length<0?0:0|d(e.length);t=o(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(t).length;default:if(i)return V(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,r);case"utf8":case"utf-8":return x(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return k(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function g(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function y(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:v(t,e,r,i,n);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,i,n){var s,a=1,o=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,o/=2,l/=2,r/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(n){var h=-1;for(s=r;s<o;s++)if(u(t,s)===u(e,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===l)return h*a}else-1!==h&&(s-=s-h),h=-1}else for(r+l>o&&(r=o-l),s=r;s>=0;s--){for(var c=!0,p=0;p<l;p++)if(u(t,s+p)!==u(e,p)){c=!1;break}if(c)return s}return-1}function _(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var a=0;a<i;++a){var o=parseInt(e.substr(2*a,2),16);if(isNaN(o))return a;t[r+a]=o}return a}function b(t,e,r,i){return H(V(e,t.length-r),t,r,i)}function T(t,e,r,i){return H(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function S(t,e,r,i){return T(t,e,r,i)}function E(t,e,r,i){return H(q(e),t,r,i)}function w(t,e,r,i){return H(function(t,e){for(var r,i,n,s=[],a=0;a<t.length&&!((e-=2)<0);++a)i=(r=t.charCodeAt(a))>>8,n=r%256,s.push(n),s.push(i);return s}(e,t.length-r),t,r,i)}function k(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function x(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var s,a,o,l,u=t[n],h=null,c=u>239?4:u>223?3:u>191?2:1;if(n+c<=r)switch(c){case 1:u<128&&(h=u);break;case 2:128==(192&(s=t[n+1]))&&(l=(31&u)<<6|63&s)>127&&(h=l);break;case 3:s=t[n+1],a=t[n+2],128==(192&s)&&128==(192&a)&&(l=(15&u)<<12|(63&s)<<6|63&a)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:s=t[n+1],a=t[n+2],o=t[n+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(l=(15&u)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(h=l)}null===h?(h=65533,c=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),n+=c}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=C));return r}(i)}e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,r){return u(null,t,e,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,r){return function(t,e,r,i){return h(e),e<=0?o(t,e):void 0!==r?"string"==typeof i?o(t,e).fill(r,i):o(t,e).fill(r):o(t,e)}(null,t,e,r)},l.allocUnsafe=function(t){return c(null,t)},l.allocUnsafeSlow=function(t){return c(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,s=Math.min(r,i);n<s;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=l.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var a=t[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,n),n+=a.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,r,i,n){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(n>>>=0)-(i>>>=0),a=(r>>>=0)-(e>>>=0),o=Math.min(s,a),u=this.slice(i,n),h=t.slice(e,r),c=0;c<o;++c)if(u[c]!==h[c]){s=u[c],a=h[c];break}return s<a?-1:a<s?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},l.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return T(this,t,e,r);case"latin1":case"binary":return S(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function A(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function P(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function D(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",s=e;s<r;++s)n+=j(t[s]);return n}function I(t,e,r){for(var i=t.slice(e,r),n="",s=0;s<i.length;s+=2)n+=String.fromCharCode(i[s]+256*i[s+1]);return n}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,i,n,s){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function L(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,s=Math.min(t.length-r,2);n<s;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function R(t,e,r,i){e<0&&(e=4294967295+e+1);for(var n=0,s=Math.min(t.length-r,4);n<s;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function N(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,i,s){return s||N(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function F(t,e,r,i,s){return s||N(t,0,r,8),n.write(t,e,r,i,52,8),r+8}l.prototype.slice=function(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=l.prototype;else{var n=e-t;r=new l(n,void 0);for(var s=0;s<n;++s)r[s]=this[s+t]}return r},l.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var i=this[t],n=1,s=0;++s<e&&(n*=256);)i+=this[t+s]*n;return i},l.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},l.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var i=this[t],n=1,s=0;++s<e&&(n*=256);)i+=this[t+s]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var i=e,n=1,s=this[t+--i];i>0&&(n*=256);)s+=this[t+--i]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},l.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),n.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),n.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),n.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),n.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,i){t=+t,e|=0,r|=0,i||O(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,s=0;for(this[e]=255&t;++s<r&&(n*=256);)this[e+s]=t/n&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,i){t=+t,e|=0,r|=0,i||O(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}var s=0,a=1,o=0;for(this[e]=255&t;++s<r&&(a*=256);)t<0&&0===o&&0!==this[e+s-1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+r},l.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}var s=r-1,a=1,o=0;for(this[e+s]=255&t;--s>=0&&(a*=256);)t<0&&0===o&&0!==this[e+s+1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,i){if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,s=i-r;if(this===t&&r<e&&e<i)for(n=s-1;n>=0;--n)t[n+e]=this[n+r];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},l.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var a=l.isBuffer(t)?t:V(new l(t,i).toString()),o=a.length;for(s=0;s<r-e;++s)this[s+e]=a[s%o]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){var r;e=e||1/0;for(var i=t.length,n=null,s=[],a=0;a<i;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function q(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}}).call(this,r(16))},function(t,e,r){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function(t){for(var e,r=u(t),i=r[0],a=r[1],o=new s(function(t,e,r){return 3*(e+r)/4-r}(0,i,a)),l=0,h=a>0?i-4:i,c=0;c<h;c+=4)e=n[t.charCodeAt(c)]<<18|n[t.charCodeAt(c+1)]<<12|n[t.charCodeAt(c+2)]<<6|n[t.charCodeAt(c+3)],o[l++]=e>>16&255,o[l++]=e>>8&255,o[l++]=255&e;return 2===a&&(e=n[t.charCodeAt(c)]<<2|n[t.charCodeAt(c+1)]>>4,o[l++]=255&e),1===a&&(e=n[t.charCodeAt(c)]<<10|n[t.charCodeAt(c+1)]<<4|n[t.charCodeAt(c+2)]>>2,o[l++]=e>>8&255,o[l++]=255&e),o},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,s=[],a=0,o=r-n;a<o;a+=16383)s.push(h(t,a,a+16383>o?o:a+16383));return 1===n?(e=t[r-1],s.push(i[e>>2]+i[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],s.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),s.join("")};for(var i=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=a.length;o<l;++o)i[o]=a[o],n[a.charCodeAt(o)]=o;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,r){for(var n,s,a=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),a.push(i[(s=n)>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,i,n){var s,a,o=8*n-i-1,l=(1<<o)-1,u=l>>1,h=-7,c=r?n-1:0,p=r?-1:1,d=t[e+c];for(c+=p,s=d&(1<<-h)-1,d>>=-h,h+=o;h>0;s=256*s+t[e+c],c+=p,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=i;h>0;a=256*a+t[e+c],c+=p,h-=8);if(0===s)s=1-u;else{if(s===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),s-=u}return(d?-1:1)*a*Math.pow(2,s-i)},e.write=function(t,e,r,i,n,s){var a,o,l,u=8*s-n-1,h=(1<<u)-1,c=h>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:s-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+c>=1?p/l:p*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=h?(o=0,a=h):a+c>=1?(o=(e*l-1)*Math.pow(2,n),a+=c):(o=e*Math.pow(2,c-1)*Math.pow(2,n),a=0));n>=8;t[r+d]=255&o,d+=f,o/=256,n-=8);for(a=a<<n|o,u+=n;u>0;t[r+d]=255&a,d+=f,a/=256,u-=8);t[r+d-f]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+r.source+i.source+"*(?::"+r.source+i.source+"*)?$");function s(){}function a(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function o(t,e,r,i,n,s){for(var a,o=++e,l=0;;){var u=t.charAt(o);switch(u){case"=":if(1===l)a=t.slice(e,o),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(s.warning('attribute value must after "="'),a=t.slice(e,o)),e=o+1,!((o=t.indexOf(u,e))>0))throw new Error("attribute value no end '"+u+"' match");h=t.slice(e,o).replace(/&#?\w+;/g,n),r.add(a,h,e-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');h=t.slice(e,o).replace(/&#?\w+;/g,n),r.add(a,h,e),s.warning('attribute "'+a+'" missed start quot('+u+")!!"),e=o+1,l=5}break;case"/":switch(l){case 0:r.setTagName(t.slice(e,o));case 5:case 6:case 7:l=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),0==l&&r.setTagName(t.slice(e,o)),o;case">":switch(l){case 0:r.setTagName(t.slice(e,o));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=t.slice(e,o)).slice(-1)&&(r.closed=!0,h=h.slice(0,-1));case 2:2===l&&(h=a),4==l?(s.warning('attribute "'+h+'" missed quot(")!!'),r.add(a,h.replace(/&#?\w+;/g,n),e)):("http://www.w3.org/1999/xhtml"===i[""]&&h.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),r.add(h,h,e));break;case 3:throw new Error("attribute value missed!!")}return o;case"":u=" ";default:if(u<=" ")switch(l){case 0:r.setTagName(t.slice(e,o)),l=6;break;case 1:a=t.slice(e,o),l=2;break;case 4:var h=t.slice(e,o).replace(/&#?\w+;/g,n);s.warning('attribute "'+h+'" missed quot(")!!'),r.add(a,h,e);case 5:l=6}else switch(l){case 2:r.tagName,"http://www.w3.org/1999/xhtml"===i[""]&&a.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),r.add(a,a,e),e=o,l=1;break;case 5:s.warning('attribute space is required"'+a+'"!!');case 6:l=1,e=o;break;case 3:l=4,e=o;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}o++}}function l(t,e,r){for(var i=t.tagName,n=null,s=t.length;s--;){var a=t[s],o=a.qName,l=a.value;if((d=o.indexOf(":"))>0)var u=a.prefix=o.slice(0,d),h=o.slice(d+1),p="xmlns"===u&&h;else h=o,u=null,p="xmlns"===o&&"";a.localName=h,!1!==p&&(null==n&&(n={},c(r,r={})),r[p]=n[p]=l,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(p,l))}for(s=t.length;s--;)(u=(a=t[s]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=r[u||""]));var d;(d=i.indexOf(":"))>0?(u=t.prefix=i.slice(0,d),h=t.localName=i.slice(d+1)):(u=null,h=t.localName=i);var f=t.uri=r[u||""];if(e.startElement(f,h,i,t),!t.closed)return t.currentNSMap=r,t.localNSMap=n,!0;if(e.endElement(f,h,i),n)for(u in n)e.endPrefixMapping(u)}function u(t,e,r,i,n){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(r)?(n.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,i),n.characters(a,0,a.length),s)}return e+1}function h(t,e,r,i){var n=i[r];return null==n&&((n=t.lastIndexOf("</"+r+">"))<e&&(n=t.lastIndexOf("</"+r)),i[r]=n),n<e}function c(t,e){for(var r in t)e[r]=t[r]}function p(t,e,r,i){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(n=t.indexOf("--\x3e",e+4))>e?(r.comment(t,e+4,n-e-4),n+3):(i.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var n=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,n-e-9),r.endCDATA(),n+3}var s=function(t,e){var r,i=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(t);r=n.exec(t);)if(i.push(r),r[1])return i}(t,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var o=s[1][0],l=a>3&&/^public$/i.test(s[2][0])&&s[3][0],u=a>4&&s[4][0],h=s[a-1];return r.startDTD(o,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),h.index+h[0].length}}return-1}function d(t,e,r){var i=t.indexOf("?>",e);if(i){var n=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,r.processingInstruction(n[1],n[2]),i+2):-1}return-1}function f(t){}function m(t,e){return t.__proto__=e,t}s.prototype={parse:function(t,e,r){var i=this.domBuilder;i.startDocument(),c(e,e={}),function(t,e,r,i,n){function s(t){var e=t.slice(1,-1);return e in r?r[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(n.error("entity not found:"+t),t)}function c(e){if(e>S){var r=t.substring(S,e).replace(/&#?\w+;/g,s);_&&m(S),i.characters(r,0,e-S),S=e}}function m(e,r){for(;e>=y&&(r=v.exec(t));)g=r.index,y=g+r[0].length,_.lineNumber++;_.columnNumber=e-g+1}for(var g=0,y=0,v=/.*(?:\r\n?|\n)|.*$/g,_=i.locator,b=[{currentNSMap:e}],T={},S=0;;){try{var E=t.indexOf("<",S);if(E<0){if(!t.substr(S).match(/^\s*$/)){var w=i.doc,k=w.createTextNode(t.substr(S));w.appendChild(k),i.currentElement=k}return}switch(E>S&&c(E),t.charAt(E+1)){case"/":var x=t.indexOf(">",E+3),C=t.substring(E+2,x),A=b.pop();x<0?(C=t.substring(E+2).replace(/[\s<].*/,""),n.error("end tag name: "+C+" is not complete:"+A.tagName),x=E+1+C.length):C.match(/\s</)&&(C=C.replace(/[\s<].*/,""),n.error("end tag name: "+C+" maybe not complete"),x=E+1+C.length);var P=A.localNSMap,D=A.tagName==C;if(D||A.tagName&&A.tagName.toLowerCase()==C.toLowerCase()){if(i.endElement(A.uri,A.localName,C),P)for(var I in P)i.endPrefixMapping(I);D||n.fatalError("end tag name: "+C+" is not match the current start tagName:"+A.tagName)}else b.push(A);x++;break;case"?":_&&m(E),x=d(t,E,i);break;case"!":_&&m(E),x=p(t,E,i,n);break;default:_&&m(E);var M=new f,O=b[b.length-1].currentNSMap,L=(x=o(t,E,M,O,s,n),M.length);if(!M.closed&&h(t,x,M.tagName,T)&&(M.closed=!0,r.nbsp||n.warning("unclosed xml attribute")),_&&L){for(var R=a(_,{}),N=0;N<L;N++){var B=M[N];m(B.offset),B.locator=a(_,{})}i.locator=R,l(M,i,O)&&b.push(M),i.locator=_}else l(M,i,O)&&b.push(M);"http://www.w3.org/1999/xhtml"!==M.uri||M.closed?x++:x=u(t,x,M.tagName,s,i)}}catch(t){n.error("element parse error: "+t),x=-1}x>S?S=x:c(Math.max(E,S)+1)}}(t,e,r,i,this.errorHandler),i.endDocument()}},f.prototype={setTagName:function(t){if(!n.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,r){if(!n.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},m({},m.prototype)instanceof m||(m=function(t,e){function r(){}for(e in r.prototype=e,r=new r,t)r[e]=t[e];return r}),e.XMLReader=s},function(t,e,r){"use strict";var i=r(78),n=r(77),s=function(){s.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new h(0,0),new h(0,1),new h(1,0),new h(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};s.prototype=new i,s.prototype.push=function(t){var e,r,i;if("sei_rbsp"===t.nalUnitType&&(e=n.parseSei(t.escapedRBSP)).payloadType===n.USER_DATA_REGISTERED_ITU_T_T35&&(r=n.parseUserData(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=n.parseCaptionPackets(t.pts,r),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},s.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},s.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},s.prototype.flush=function(){return this.flushStream("flush")},s.prototype.partialFlush=function(){return this.flushStream("partialFlush")},s.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},s.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},s.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},s.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},s.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},o=function(t){return null===t?"":(t=a[t]||t,String.fromCharCode(t))},l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],u=function(){for(var t=[],e=15;e--;)t.push("");return t},h=function(t,e){h.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,r,i,n,s;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,n=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=u();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=u();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=u()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,n))s=o((i=(3&i)<<8)|n),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(i,n))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=o((i=(3&i)<<8)|n),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(i,n))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&n)&&this.addFormatting(t.pts,["i"]),1==(1&n)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,n))this.column_+=3&n;else if(this.isPAC(i,n)){var a=l.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===n&&(n=null),s=o(i),s+=o(n),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};h.prototype=new i,h.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},h.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=u(),this.nonDisplayed_=u(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},h.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},h.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},h.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},h.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},h.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},h.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},h.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},h.prototype.isNormalChar=function(t){return t>=32&&t<=127},h.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=u(),this.displayed_=u()),void 0!==e&&e!==this.row_)for(var r=0;r<this.rollUpRows_;r++)this.displayed_[e-r]=this.displayed_[this.row_-r],this.displayed_[this.row_-r]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},h.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var r=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,r)},h.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},h.prototype.popOn=function(t,e){var r=this.nonDisplayed_[this.row_];r+=e,this.nonDisplayed_[this.row_]=r},h.prototype.rollUp=function(t,e){var r=this.displayed_[this.row_];r+=e,this.displayed_[this.row_]=r},h.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},h.prototype.paintOn=function(t,e){var r=this.displayed_[this.row_];r+=e,this.displayed_[this.row_]=r},t.exports={CaptionStream:s,Cea608Stream:h}},function(t,e,r){"use strict";var i=r(78),n=function(t,e){var r=1;for(t>e&&(r=-1);Math.abs(e-t)>4294967296;)t+=8589934592*r;return t},s=function(t){var e,r;s.prototype.init.call(this),this.type_=t||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===r&&(r=t.dts),t.dts=n(t.dts,r),t.pts=n(t.pts,r),e=t.dts,this.trigger("data",t))},this.flush=function(){r=e,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,e=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};s.prototype=new i,t.exports={TimestampRolloverStream:s,handleRollover:n}},function(t,e,r){"use strict";var i=r(79),n=function(t){var e=31&t[1];return(e<<=8)|t[2]},s=function(t){return!!(64&t[1])},a=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},o=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(t,e){var r=n(t);return 0===r?"pat":r===e?"pmt":e?"pes":null},parsePat:function(t){var e=s(t),r=4+a(t);return e&&(r+=t[r]+1),(31&t[r+10])<<8|t[r+11]},parsePmt:function(t){var e={},r=s(t),i=4+a(t);if(r&&(i+=t[i]+1),1&t[i+5]){var n;n=3+((15&t[i+1])<<8|t[i+2])-4;for(var o=12+((15&t[i+10])<<8|t[i+11]);o<n;){var l=i+o;e[(31&t[l+1])<<8|t[l+2]]=t[l],o+=5+((15&t[l+3])<<8|t[l+4])}return e}},parsePayloadUnitStartIndicator:s,parsePesType:function(t,e){switch(e[n(t)]){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!s(t))return null;var e=4+a(t);if(e>=t.byteLength)return null;var r,i=null;return 192&(r=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&r&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+a(t),r=t.subarray(e),i=0,n=0,s=!1;n<r.byteLength-3;n++)if(1===r[n+2]){i=n+5;break}for(;i<r.byteLength;)switch(r[i]){case 0:if(0!==r[i-1]){i+=2;break}if(0!==r[i-2]){i++;break}n+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===o(31&r[n+3])&&(s=!0);do{i++}while(1!==r[i]&&i<r.length);n=i-2,i+=3;break;case 1:if(0!==r[i-1]||0!==r[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===o(31&r[n+3])&&(s=!0),n=i-2,i+=3;break;default:i+=3}return r=r.subarray(n),i-=n,n=0,r&&r.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===o(31&r[n+3])&&(s=!0),s}}},function(t,e,r){"use strict";var i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],n=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]};t.exports={isLikelyAacData:function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},parseId3TagSize:function(t,e){var r=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?r+20:r+10},parseAdtsSize:function(t,e){var r=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|r},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return i[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,r,i;e=10,64&t[5]&&(e+=4,e+=n(t.subarray(10,14)));do{if((r=n(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+r+10);for(var s=0;s<i.byteLength;s++)if(0===i[s]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,r){var i,n="";for(i=0;i<r;i++)n+="%"+("00"+t[i].toString(16)).slice(-2);return n}(i,0,s))){var a=i.subarray(s+1),o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return(o*=4)+(3&a[7])}break}}e+=10,e+=r}while(e<t.byteLength);return null}}},function(t,e){var r,i,n,s,a,o,l;r=function(t){return 9e4*t},i=function(t,e){return t*e},n=function(t){return t/9e4},s=function(t,e){return t/e},a=function(t,e){return r(s(t,e))},o=function(t,e){return i(n(t),e)},l=function(t,e,r){return n(r?t:t-e)},t.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:r,secondsToAudioTs:i,videoTsToSeconds:n,audioTsToSeconds:s,audioTsToVideoTs:a,videoTsToAudioTs:o,metadataTsToSeconds:l}},function(t,e,r){r(47),r(51),r(59),r(270),r(275),r(277),r(278),t.exports=r(13).Map},function(t,e,r){t.exports=r(50)("native-function-to-string",Function.toString)},function(t,e,r){var i=r(52),n=r(53);t.exports=function(t){return function(e,r){var s,a,o=String(n(e)),l=i(r),u=o.length;return l<0||l>=u?t?"":void 0:(s=o.charCodeAt(l))<55296||s>56319||l+1===u||(a=o.charCodeAt(l+1))<56320||a>57343?t?o.charAt(l):s:t?o.slice(l,l+2):a-56320+(s-55296<<10)+65536}}},function(t,e,r){"use strict";var i=r(85),n=r(33),s=r(58),a={};r(22)(a,r(9)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=i(a,{next:n(1,r)}),s(t,e+" Iterator")}},function(t,e,r){var i=r(18),n=r(19),s=r(55);t.exports=r(14)?Object.defineProperties:function(t,e){n(t);for(var r,a=s(e),o=a.length,l=0;o>l;)i.f(t,r=a[l++],e[r]);return t}},function(t,e,r){var i=r(20),n=r(34),s=r(264)(!1),a=r(57)("IE_PROTO");t.exports=function(t,e){var r,o=n(t),l=0,u=[];for(r in o)r!=a&&i(o,r)&&u.push(r);for(;e.length>l;)i(o,r=e[l++])&&(~s(u,r)||u.push(r));return u}},function(t,e,r){var i=r(34),n=r(35),s=r(265);t.exports=function(t){return function(e,r,a){var o,l=i(e),u=n(l.length),h=s(a,u);if(t&&r!=r){for(;u>h;)if((o=l[h++])!=o)return!0}else for(;u>h;h++)if((t||h in l)&&l[h]===r)return t||h||0;return!t&&-1}}},function(t,e,r){var i=r(52),n=Math.max,s=Math.min;t.exports=function(t,e){return(t=i(t))<0?n(t+e,0):s(t,e)}},function(t,e,r){var i=r(12).document;t.exports=i&&i.documentElement},function(t,e,r){var i=r(20),n=r(36),s=r(57)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){"use strict";var i=r(269),n=r(87),s=r(26),a=r(34);t.exports=r(54)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},function(t,e,r){var i=r(9)("unscopables"),n=Array.prototype;null==n[i]&&r(22)(n,i,{}),t.exports=function(t){n[i][t]=!0}},function(t,e,r){"use strict";var i=r(88),n=r(23);t.exports=r(62)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(n(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,r){"use strict";var i=r(12),n=r(18),s=r(14),a=r(9)("species");t.exports=function(t){var e=i[t];s&&e&&!e[a]&&n.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,r){var i=r(10),n=r(273).set;t.exports=function(t,e,r){var s,a=e.constructor;return a!==r&&"function"==typeof a&&(s=a.prototype)!==r.prototype&&i(s)&&n&&n(t,s),t}},function(t,e,r){var i=r(10),n=r(19),s=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=r(21)(Function.call,r(274).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return s(t,r),e?t.__proto__=r:i(t,r),t}}({},!1):void 0),check:s}},function(t,e,r){var i=r(93),n=r(33),s=r(34),a=r(83),o=r(20),l=r(81),u=Object.getOwnPropertyDescriptor;e.f=r(14)?u:function(t,e){if(t=s(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(o(t,e))return n(!i.f.call(t,e),t[e])}},function(t,e,r){var i=r(15);i(i.P+i.R,"Map",{toJSON:r(94)("Map")})},function(t,e,r){var i=r(27);t.exports=function(t,e){var r=[];return i(t,!1,r.push,r,e),r}},function(t,e,r){r(63)("Map")},function(t,e,r){r(64)("Map")},function(t,e,r){r(47),r(51),r(59),r(280),r(281),r(282),r(283),t.exports=r(13).Set},function(t,e,r){"use strict";var i=r(88),n=r(23);t.exports=r(62)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(n(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,r){var i=r(15);i(i.P+i.R,"Set",{toJSON:r(94)("Set")})},function(t,e,r){r(63)("Set")},function(t,e,r){r(64)("Set")},function(t,e,r){r(47),r(59),r(285),r(291),r(292),t.exports=r(13).WeakMap},function(t,e,r){"use strict";var i,n=r(12),s=r(95)(0),a=r(17),o=r(37),l=r(96),u=r(290),h=r(10),c=r(23),p=r(23),d=!n.ActiveXObject&&"ActiveXObject"in n,f=o.getWeak,m=Object.isExtensible,g=u.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(h(t)){var e=f(t);return!0===e?g(c(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(c(this,"WeakMap"),t,e)}},_=t.exports=r(62)("WeakMap",y,v,u,!0,!0);p&&d&&(l((i=u.getConstructor(y,"WeakMap")).prototype,v),o.NEED=!0,s(["delete","has","get","set"],(function(t){var e=_.prototype,r=e[t];a(e,t,(function(e,n){if(h(e)&&!m(e)){this._f||(this._f=new i);var s=this._f[t](e,n);return"set"==t?this:s}return r.call(this,e,n)}))})))},function(t,e,r){var i=r(287);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,r){var i=r(10),n=r(288),s=r(9)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),i(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},function(t,e,r){var i=r(49);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){"use strict";var i=r(60),n=r(37).getWeak,s=r(19),a=r(10),o=r(61),l=r(27),u=r(95),h=r(20),c=r(23),p=u(5),d=u(6),f=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},y=function(t,e){return p(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var r=y(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,s){var u=t((function(t,i){o(t,u,e,"_i"),t._t=e,t._i=f++,t._l=void 0,null!=i&&l(i,r,t[s],t)}));return i(u.prototype,{delete:function(t){if(!a(t))return!1;var r=n(t);return!0===r?m(c(this,e)).delete(t):r&&h(r,this._i)&&delete r[this._i]},has:function(t){if(!a(t))return!1;var r=n(t);return!0===r?m(c(this,e)).has(t):r&&h(r,this._i)}}),u},def:function(t,e,r){var i=n(s(e),!0);return!0===i?m(t).set(e,r):i[t._i]=r,t},ufstore:m}},function(t,e,r){r(63)("WeakMap")},function(t,e,r){r(64)("WeakMap")},function(t,e,r){r(51),r(294),t.exports=r(13).Array.from},function(t,e,r){"use strict";var i=r(21),n=r(15),s=r(36),a=r(89),o=r(90),l=r(35),u=r(295),h=r(91);n(n.S+n.F*!r(92)((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,n,c,p=s(t),d="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,y=0,v=h(p);if(g&&(m=i(m,f>2?arguments[2]:void 0,2)),null==v||d==Array&&o(v))for(r=new d(e=l(p.length));e>y;y++)u(r,y,g?m(p[y],y):p[y]);else for(c=v.call(p),r=new d;!(n=c.next()).done;y++)u(r,y,g?a(c,m,[n.value,y],!0):n.value);return r.length=y,r}})},function(t,e,r){"use strict";var i=r(18),n=r(33);t.exports=function(t,e,r){e in t?i.f(t,e,n(0,r)):t[e]=r}},function(t,e,r){r(297),t.exports=r(13).Object.assign},function(t,e,r){var i=r(15);i(i.S+i.F,"Object",{assign:r(96)})},function(t,e,r){var i,n;"undefined"!=typeof window&&window,void 0===(n="function"==typeof(i=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var r=this._events=this._events||{},i=r[t]=r[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var r=this._onceEvents=this._onceEvents||{};return(r[t]=r[t]||{})[e]=!0,this}},e.off=function(t,e){var r=this._events&&this._events[t];if(r&&r.length){var i=r.indexOf(e);return-1!=i&&r.splice(i,1),this}},e.emitEvent=function(t,e){var r=this._events&&this._events[t];if(r&&r.length){r=r.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],n=0;n<r.length;n++){var s=r[n];i&&i[s]&&(this.off(t,s),delete i[s]),s.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?i.call(e,r,e,t):i)||(t.exports=n)}]]);